(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function a(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=a(l);fetch(l.href,c)}})();var Pu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zd(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Rd={exports:{}},rl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function vv(){if(Hp)return rl;Hp=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(s,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:i,type:s,key:f,ref:l!==void 0?l:null,props:c}}return rl.Fragment=n,rl.jsx=a,rl.jsxs=a,rl}var Op;function _v(){return Op||(Op=1,Rd.exports=vv()),Rd.exports}var v=_v(),Id={exports:{}},Xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function Sv(){if(Yp)return Xe;Yp=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),E=Symbol.iterator;function C(I){return I===null||typeof I!="object"?null:(I=E&&I[E]||I["@@iterator"],typeof I=="function"?I:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,M={};function N(I,B,fe){this.props=I,this.context=B,this.refs=M,this.updater=fe||D}N.prototype.isReactComponent={},N.prototype.setState=function(I,B){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,B,"setState")},N.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function U(){}U.prototype=N.prototype;function L(I,B,fe){this.props=I,this.context=B,this.refs=M,this.updater=fe||D}var q=L.prototype=new U;q.constructor=L,w(q,N.prototype),q.isPureReactComponent=!0;var O=Array.isArray;function ee(){}var J={H:null,A:null,T:null,S:null},pe=Object.prototype.hasOwnProperty;function Z(I,B,fe){var ce=fe.ref;return{$$typeof:i,type:I,key:B,ref:ce!==void 0?ce:null,props:fe}}function ye(I,B){return Z(I.type,B,I.props)}function Me(I){return typeof I=="object"&&I!==null&&I.$$typeof===i}function V(I){var B={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(fe){return B[fe]})}var re=/\/+/g;function b(I,B){return typeof I=="object"&&I!==null&&I.key!=null?V(""+I.key):B.toString(36)}function de(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(ee,ee):(I.status="pending",I.then(function(B){I.status==="pending"&&(I.status="fulfilled",I.value=B)},function(B){I.status==="pending"&&(I.status="rejected",I.reason=B)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function X(I,B,fe,ce,me){var Le=typeof I;(Le==="undefined"||Le==="boolean")&&(I=null);var Ye=!1;if(I===null)Ye=!0;else switch(Le){case"bigint":case"string":case"number":Ye=!0;break;case"object":switch(I.$$typeof){case i:case n:Ye=!0;break;case _:return Ye=I._init,X(Ye(I._payload),B,fe,ce,me)}}if(Ye)return me=me(I),Ye=ce===""?"."+b(I,0):ce,O(me)?(fe="",Ye!=null&&(fe=Ye.replace(re,"$&/")+"/"),X(me,B,fe,"",function(bt){return bt})):me!=null&&(Me(me)&&(me=ye(me,fe+(me.key==null||I&&I.key===me.key?"":(""+me.key).replace(re,"$&/")+"/")+Ye)),B.push(me)),1;Ye=0;var Je=ce===""?".":ce+":";if(O(I))for(var Fe=0;Fe<I.length;Fe++)ce=I[Fe],Le=Je+b(ce,Fe),Ye+=X(ce,B,fe,Le,me);else if(Fe=C(I),typeof Fe=="function")for(I=Fe.call(I),Fe=0;!(ce=I.next()).done;)ce=ce.value,Le=Je+b(ce,Fe++),Ye+=X(ce,B,fe,Le,me);else if(Le==="object"){if(typeof I.then=="function")return X(de(I),B,fe,ce,me);throw B=String(I),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return Ye}function $(I,B,fe){if(I==null)return I;var ce=[],me=0;return X(I,ce,"","",function(Le){return B.call(fe,Le,me++)}),ce}function Ie(I){if(I._status===-1){var B=I._result;B=B(),B.then(function(fe){(I._status===0||I._status===-1)&&(I._status=1,I._result=fe)},function(fe){(I._status===0||I._status===-1)&&(I._status=2,I._result=fe)}),I._status===-1&&(I._status=0,I._result=B)}if(I._status===1)return I._result.default;throw I._result}var he=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},ke={map:$,forEach:function(I,B,fe){$(I,function(){B.apply(this,arguments)},fe)},count:function(I){var B=0;return $(I,function(){B++}),B},toArray:function(I){return $(I,function(B){return B})||[]},only:function(I){if(!Me(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Xe.Activity=S,Xe.Children=ke,Xe.Component=N,Xe.Fragment=a,Xe.Profiler=l,Xe.PureComponent=L,Xe.StrictMode=s,Xe.Suspense=y,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(I){return J.H.useMemoCache(I)}},Xe.cache=function(I){return function(){return I.apply(null,arguments)}},Xe.cacheSignal=function(){return null},Xe.cloneElement=function(I,B,fe){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ce=w({},I.props),me=I.key;if(B!=null)for(Le in B.key!==void 0&&(me=""+B.key),B)!pe.call(B,Le)||Le==="key"||Le==="__self"||Le==="__source"||Le==="ref"&&B.ref===void 0||(ce[Le]=B[Le]);var Le=arguments.length-2;if(Le===1)ce.children=fe;else if(1<Le){for(var Ye=Array(Le),Je=0;Je<Le;Je++)Ye[Je]=arguments[Je+2];ce.children=Ye}return Z(I.type,me,ce)},Xe.createContext=function(I){return I={$$typeof:f,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},Xe.createElement=function(I,B,fe){var ce,me={},Le=null;if(B!=null)for(ce in B.key!==void 0&&(Le=""+B.key),B)pe.call(B,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(me[ce]=B[ce]);var Ye=arguments.length-2;if(Ye===1)me.children=fe;else if(1<Ye){for(var Je=Array(Ye),Fe=0;Fe<Ye;Fe++)Je[Fe]=arguments[Fe+2];me.children=Je}if(I&&I.defaultProps)for(ce in Ye=I.defaultProps,Ye)me[ce]===void 0&&(me[ce]=Ye[ce]);return Z(I,Le,me)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(I){return{$$typeof:p,render:I}},Xe.isValidElement=Me,Xe.lazy=function(I){return{$$typeof:_,_payload:{_status:-1,_result:I},_init:Ie}},Xe.memo=function(I,B){return{$$typeof:m,type:I,compare:B===void 0?null:B}},Xe.startTransition=function(I){var B=J.T,fe={};J.T=fe;try{var ce=I(),me=J.S;me!==null&&me(fe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(ee,he)}catch(Le){he(Le)}finally{B!==null&&fe.types!==null&&(B.types=fe.types),J.T=B}},Xe.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Xe.use=function(I){return J.H.use(I)},Xe.useActionState=function(I,B,fe){return J.H.useActionState(I,B,fe)},Xe.useCallback=function(I,B){return J.H.useCallback(I,B)},Xe.useContext=function(I){return J.H.useContext(I)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(I,B){return J.H.useDeferredValue(I,B)},Xe.useEffect=function(I,B){return J.H.useEffect(I,B)},Xe.useEffectEvent=function(I){return J.H.useEffectEvent(I)},Xe.useId=function(){return J.H.useId()},Xe.useImperativeHandle=function(I,B,fe){return J.H.useImperativeHandle(I,B,fe)},Xe.useInsertionEffect=function(I,B){return J.H.useInsertionEffect(I,B)},Xe.useLayoutEffect=function(I,B){return J.H.useLayoutEffect(I,B)},Xe.useMemo=function(I,B){return J.H.useMemo(I,B)},Xe.useOptimistic=function(I,B){return J.H.useOptimistic(I,B)},Xe.useReducer=function(I,B,fe){return J.H.useReducer(I,B,fe)},Xe.useRef=function(I){return J.H.useRef(I)},Xe.useState=function(I){return J.H.useState(I)},Xe.useSyncExternalStore=function(I,B,fe){return J.H.useSyncExternalStore(I,B,fe)},Xe.useTransition=function(){return J.H.useTransition()},Xe.version="19.2.0",Xe}var Jp;function Xd(){return Jp||(Jp=1,Id.exports=Sv()),Id.exports}var se=Xd();const Tv=Zd(se);var Md={exports:{}},ll={},Dd={exports:{}},kd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function Ev(){return Kp||(Kp=1,(function(i){function n(X,$){var Ie=X.length;X.push($);e:for(;0<Ie;){var he=Ie-1>>>1,ke=X[he];if(0<l(ke,$))X[he]=$,X[Ie]=ke,Ie=he;else break e}}function a(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var $=X[0],Ie=X.pop();if(Ie!==$){X[0]=Ie;e:for(var he=0,ke=X.length,I=ke>>>1;he<I;){var B=2*(he+1)-1,fe=X[B],ce=B+1,me=X[ce];if(0>l(fe,Ie))ce<ke&&0>l(me,fe)?(X[he]=me,X[ce]=Ie,he=ce):(X[he]=fe,X[B]=Ie,he=B);else if(ce<ke&&0>l(me,Ie))X[he]=me,X[ce]=Ie,he=ce;else break e}}return $}function l(X,$){var Ie=X.sortIndex-$.sortIndex;return Ie!==0?Ie:X.id-$.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();i.unstable_now=function(){return f.now()-p}}var y=[],m=[],_=1,S=null,E=3,C=!1,D=!1,w=!1,M=!1,N=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function q(X){for(var $=a(m);$!==null;){if($.callback===null)s(m);else if($.startTime<=X)s(m),$.sortIndex=$.expirationTime,n(y,$);else break;$=a(m)}}function O(X){if(w=!1,q(X),!D)if(a(y)!==null)D=!0,ee||(ee=!0,V());else{var $=a(m);$!==null&&de(O,$.startTime-X)}}var ee=!1,J=-1,pe=5,Z=-1;function ye(){return M?!0:!(i.unstable_now()-Z<pe)}function Me(){if(M=!1,ee){var X=i.unstable_now();Z=X;var $=!0;try{e:{D=!1,w&&(w=!1,U(J),J=-1),C=!0;var Ie=E;try{t:{for(q(X),S=a(y);S!==null&&!(S.expirationTime>X&&ye());){var he=S.callback;if(typeof he=="function"){S.callback=null,E=S.priorityLevel;var ke=he(S.expirationTime<=X);if(X=i.unstable_now(),typeof ke=="function"){S.callback=ke,q(X),$=!0;break t}S===a(y)&&s(y),q(X)}else s(y);S=a(y)}if(S!==null)$=!0;else{var I=a(m);I!==null&&de(O,I.startTime-X),$=!1}}break e}finally{S=null,E=Ie,C=!1}$=void 0}}finally{$?V():ee=!1}}}var V;if(typeof L=="function")V=function(){L(Me)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,b=re.port2;re.port1.onmessage=Me,V=function(){b.postMessage(null)}}else V=function(){N(Me,0)};function de(X,$){J=N(function(){X(i.unstable_now())},$)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(X){switch(E){case 1:case 2:case 3:var $=3;break;default:$=E}var Ie=E;E=$;try{return X()}finally{E=Ie}},i.unstable_requestPaint=function(){M=!0},i.unstable_runWithPriority=function(X,$){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var Ie=E;E=X;try{return $()}finally{E=Ie}},i.unstable_scheduleCallback=function(X,$,Ie){var he=i.unstable_now();switch(typeof Ie=="object"&&Ie!==null?(Ie=Ie.delay,Ie=typeof Ie=="number"&&0<Ie?he+Ie:he):Ie=he,X){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=Ie+ke,X={id:_++,callback:$,priorityLevel:X,startTime:Ie,expirationTime:ke,sortIndex:-1},Ie>he?(X.sortIndex=Ie,n(m,X),a(y)===null&&X===a(m)&&(w?(U(J),J=-1):w=!0,de(O,Ie-he))):(X.sortIndex=ke,n(y,X),D||C||(D=!0,ee||(ee=!0,V()))),X},i.unstable_shouldYield=ye,i.unstable_wrapCallback=function(X){var $=E;return function(){var Ie=E;E=$;try{return X.apply(this,arguments)}finally{E=Ie}}}})(kd)),kd}var jp;function Av(){return jp||(jp=1,Dd.exports=Ev()),Dd.exports}var Ud={exports:{}},pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function Cv(){if(Zp)return pn;Zp=1;var i=Xd();function n(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,m,_){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:m,implementation:_}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,pn.createPortal=function(y,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return c(y,m,null,_)},pn.flushSync=function(y){var m=f.T,_=s.p;try{if(f.T=null,s.p=2,y)return y()}finally{f.T=m,s.p=_,s.d.f()}},pn.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(y,m))},pn.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},pn.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var _=m.as,S=p(_,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?s.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:S,integrity:E,fetchPriority:C}):_==="script"&&s.d.X(y,{crossOrigin:S,integrity:E,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},pn.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=p(m.as,m.crossOrigin);s.d.M(y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(y)},pn.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,S=p(_,m.crossOrigin);s.d.L(y,_,{crossOrigin:S,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},pn.preloadModule=function(y,m){if(typeof y=="string")if(m){var _=p(m.as,m.crossOrigin);s.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(y)},pn.requestFormReset=function(y){s.d.r(y)},pn.unstable_batchedUpdates=function(y,m){return y(m)},pn.useFormState=function(y,m,_){return f.H.useFormState(y,m,_)},pn.useFormStatus=function(){return f.H.useHostTransitionStatus()},pn.version="19.2.0",pn}var Xp;function xv(){if(Xp)return Ud.exports;Xp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Ud.exports=Cv(),Ud.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function wv(){if($p)return ll;$p=1;var i=Av(),n=Xd(),a=xv();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)t+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,o=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(o=t.return),e=t.return;while(e)}return t.tag===3?o:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(s(188))}function m(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(s(188));return t!==e?null:e}for(var o=e,r=t;;){var h=o.return;if(h===null)break;var g=h.alternate;if(g===null){if(r=h.return,r!==null){o=r;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===o)return y(h),e;if(g===r)return y(h),t;g=g.sibling}throw Error(s(188))}if(o.return!==r.return)o=h,r=g;else{for(var A=!1,R=h.child;R;){if(R===o){A=!0,o=h,r=g;break}if(R===r){A=!0,r=h,o=g;break}R=R.sibling}if(!A){for(R=g.child;R;){if(R===o){A=!0,o=g,r=h;break}if(R===r){A=!0,r=g,o=h;break}R=R.sibling}if(!A)throw Error(s(189))}}if(o.alternate!==r)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?e:t}function _(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,E=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),L=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),ye=Symbol.for("react.memo_cache_sentinel"),Me=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=Me&&e[Me]||e["@@iterator"],typeof e=="function"?e:null)}var re=Symbol.for("react.client.reference");function b(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===re?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case N:return"Profiler";case M:return"StrictMode";case O:return"Suspense";case ee:return"SuspenseList";case Z:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case L:return e.displayName||"Context";case U:return(e._context.displayName||"Context")+".Consumer";case q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J:return t=e.displayName||null,t!==null?t:b(e.type)||"Memo";case pe:t=e._payload,e=e._init;try{return b(e(t))}catch{}}return null}var de=Array.isArray,X=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},he=[],ke=-1;function I(e){return{current:e}}function B(e){0>ke||(e.current=he[ke],he[ke]=null,ke--)}function fe(e,t){ke++,he[ke]=e.current,e.current=t}var ce=I(null),me=I(null),Le=I(null),Ye=I(null);function Je(e,t){switch(fe(Le,t),fe(me,e),fe(ce,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?fp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=fp(t),e=hp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(ce),fe(ce,e)}function Fe(){B(ce),B(me),B(Le)}function bt(e){e.memoizedState!==null&&fe(Ye,e);var t=ce.current,o=hp(t,e.type);t!==o&&(fe(me,e),fe(ce,o))}function pt(e){me.current===e&&(B(ce),B(me)),Ye.current===e&&(B(Ye),il._currentValue=Ie)}var rn,$t;function x(e){if(rn===void 0)try{throw Error()}catch(o){var t=o.stack.trim().match(/\n( *(at )?)/);rn=t&&t[1]||"",$t=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rn+e+$t}var _e=!1;function ue(e,t){if(!e||_e)return"";_e=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var Ae=function(){throw Error()};if(Object.defineProperty(Ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ae,[])}catch(le){var ae=le}Reflect.construct(e,[],Ae)}else{try{Ae.call()}catch(le){ae=le}e.call(Ae.prototype)}}else{try{throw Error()}catch(le){ae=le}(Ae=e())&&typeof Ae.catch=="function"&&Ae.catch(function(){})}}catch(le){if(le&&ae&&typeof le.stack=="string")return[le.stack,ae.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=r.DetermineComponentFrameRoot(),A=g[0],R=g[1];if(A&&R){var F=A.split(`
`),ie=R.split(`
`);for(h=r=0;r<F.length&&!F[r].includes("DetermineComponentFrameRoot");)r++;for(;h<ie.length&&!ie[h].includes("DetermineComponentFrameRoot");)h++;if(r===F.length||h===ie.length)for(r=F.length-1,h=ie.length-1;1<=r&&0<=h&&F[r]!==ie[h];)h--;for(;1<=r&&0<=h;r--,h--)if(F[r]!==ie[h]){if(r!==1||h!==1)do if(r--,h--,0>h||F[r]!==ie[h]){var ge=`
`+F[r].replace(" at new "," at ");return e.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",e.displayName)),ge}while(1<=r&&0<=h);break}}}finally{_e=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?x(o):""}function G(e,t){switch(e.tag){case 26:case 27:case 5:return x(e.type);case 16:return x("Lazy");case 13:return e.child!==t&&t!==null?x("Suspense Fallback"):x("Suspense");case 19:return x("SuspenseList");case 0:case 15:return ue(e.type,!1);case 11:return ue(e.type.render,!1);case 1:return ue(e.type,!0);case 31:return x("Activity");default:return""}}function z(e){try{var t="",o=null;do t+=G(e,o),o=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var j=Object.prototype.hasOwnProperty,Ce=i.unstable_scheduleCallback,xe=i.unstable_cancelCallback,ne=i.unstable_shouldYield,Ne=i.unstable_requestPaint,De=i.unstable_now,Re=i.unstable_getCurrentPriorityLevel,qe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,je=i.unstable_NormalPriority,Yt=i.unstable_LowPriority,Wn=i.unstable_IdlePriority,Qt=i.log,ki=i.unstable_setDisableYieldValue,tt=null,kt=null;function Cn(e){if(typeof Qt=="function"&&ki(e),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(tt,e)}catch{}}var Nt=Math.clz32?Math.clz32:bo,va=Math.log,Ka=Math.LN2;function bo(e){return e>>>=0,e===0?32:31-(va(e)/Ka|0)|0}var No=256,We=262144,ei=4194304;function fn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ro(e,t,o){var r=e.pendingLanes;if(r===0)return 0;var h=0,g=e.suspendedLanes,A=e.pingedLanes;e=e.warmLanes;var R=r&134217727;return R!==0?(r=R&~g,r!==0?h=fn(r):(A&=R,A!==0?h=fn(A):o||(o=R&~e,o!==0&&(h=fn(o))))):(R=r&~g,R!==0?h=fn(R):A!==0?h=fn(A):o||(o=r&~e,o!==0&&(h=fn(o)))),h===0?0:t!==0&&t!==h&&(t&g)===0&&(g=h&-h,o=t&-t,g>=o||g===32&&(o&4194048)!==0)?t:h}function Io(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ml(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xs(){var e=ei;return ei<<=1,(ei&62914560)===0&&(ei=4194304),e}function Tt(e){for(var t=[],o=0;31>o;o++)t.push(e);return t}function Ui(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function gl(e,t,o,r,h,g){var A=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var R=e.entanglements,F=e.expirationTimes,ie=e.hiddenUpdates;for(o=A&~o;0<o;){var ge=31-Nt(o),Ae=1<<ge;R[ge]=0,F[ge]=-1;var ae=ie[ge];if(ae!==null)for(ie[ge]=null,ge=0;ge<ae.length;ge++){var le=ae[ge];le!==null&&(le.lane&=-536870913)}o&=~Ae}r!==0&&$s(e,r,0),g!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=g&~(A&~t))}function $s(e,t,o){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Nt(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|o&261930}function _a(e,t){var o=e.entangledLanes|=t;for(e=e.entanglements;o;){var r=31-Nt(o),h=1<<r;h&t|e[r]&t&&(e[r]|=t),o&=~h}}function yl(e,t){var o=t&-t;return o=(o&42)!==0?1:ja(o),(o&(e.suspendedLanes|t))!==0?0:o}function ja(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Za(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Xa(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:Lp(e.type))}function Mo(e,t){var o=$.p;try{return $.p=e,t()}finally{$.p=o}}var gn=Math.random().toString(36).slice(2),Et="__reactFiber$"+gn,ln="__reactProps$"+gn,Zi="__reactContainer$"+gn,Qs="__reactEvents$"+gn,vl="__reactListeners$"+gn,_l="__reactHandles$"+gn,$a="__reactResources$"+gn,Sa="__reactMarker$"+gn;function Ta(e){delete e[Et],delete e[ln],delete e[Qs],delete e[vl],delete e[_l]}function Do(e){var t=e[Et];if(t)return t;for(var o=e.parentNode;o;){if(t=o[Zi]||o[Et]){if(o=t.alternate,t.child!==null||o!==null&&o.child!==null)for(e=Sp(e);e!==null;){if(o=e[Et])return o;e=Sp(e)}return t}e=o,o=e.parentNode}return null}function Pi(e){if(e=e[Et]||e[Zi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ea(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function hn(e){var t=e[$a];return t||(t=e[$a]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Gt(e){e[Sa]=!0}var ko=new Set,Sl={};function ti(e,t){Li(e,t),Li(e+"Capture",t)}function Li(e,t){for(Sl[e]=t,e=0;e<t.length;e++)ko.add(t[e])}var Qa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ws={},ni={};function Tl(e){return j.call(ni,e)?!0:j.call(Ws,e)?!1:Qa.test(e)?ni[e]=!0:(Ws[e]=!0,!1)}function gi(e,t,o){if(Tl(t))if(o===null)e.removeAttribute(t);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+o)}}function Uo(e,t,o){if(o===null)e.removeAttribute(t);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+o)}}function Jt(e,t,o,r){if(r===null)e.removeAttribute(o);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(t,o,""+r)}}function yn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Aa(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function El(e,t,o){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,g=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return h.call(this)},set:function(A){o=""+A,g.call(this,A)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(A){o=""+A},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Po(e){if(!e._valueTracker){var t=Aa(e)?"checked":"value";e._valueTracker=El(e,t,""+e[t])}}function er(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var o=t.getValue(),r="";return e&&(r=Aa(e)?e.checked?"true":"false":e.value),e=r,e!==o?(t.setValue(e),!0):!1}function Xi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Al=/[\n"\\]/g;function vn(e){return e.replace(Al,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Wa(e,t,o,r,h,g,A,R){e.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.type=A:e.removeAttribute("type"),t!=null?A==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+yn(t)):e.value!==""+yn(t)&&(e.value=""+yn(t)):A!=="submit"&&A!=="reset"||e.removeAttribute("value"),t!=null?tr(e,A,yn(t)):o!=null?tr(e,A,yn(o)):r!=null&&e.removeAttribute("value"),h==null&&g!=null&&(e.defaultChecked=!!g),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?e.name=""+yn(R):e.removeAttribute("name")}function es(e,t,o,r,h,g,A,R){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),t!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||t!=null)){Po(e);return}o=o!=null?""+yn(o):"",t=t!=null?""+yn(t):o,R||t===e.value||(e.value=t),e.defaultValue=t}r=r??h,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=R?e.checked:!!r,e.defaultChecked=!!r,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(e.name=A),Po(e)}function tr(e,t,o){t==="number"&&Xi(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function $i(e,t,o,r){if(e=e.options,t){t={};for(var h=0;h<o.length;h++)t["$"+o[h]]=!0;for(o=0;o<e.length;o++)h=t.hasOwnProperty("$"+e[o].value),e[o].selected!==h&&(e[o].selected=h),h&&r&&(e[o].defaultSelected=!0)}else{for(o=""+yn(o),t=null,h=0;h<e.length;h++){if(e[h].value===o){e[h].selected=!0,r&&(e[h].defaultSelected=!0);return}t!==null||e[h].disabled||(t=e[h])}t!==null&&(t.selected=!0)}}function nr(e,t,o){if(t!=null&&(t=""+yn(t),t!==e.value&&(e.value=t),o==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=o!=null?""+yn(o):""}function Kt(e,t,o,r){if(t==null){if(r!=null){if(o!=null)throw Error(s(92));if(de(r)){if(1<r.length)throw Error(s(93));r=r[0]}o=r}o==null&&(o=""),t=o}o=yn(t),e.defaultValue=o,r=e.textContent,r===o&&r!==""&&r!==null&&(e.value=r),Po(e)}function xn(e,t){if(t){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=t;return}}e.textContent=t}var Ca=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qi(e,t,o){var r=t.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,o):typeof o!="number"||o===0||Ca.has(t)?t==="float"?e.cssFloat=o:e[t]=(""+o).trim():e[t]=o+"px"}function ts(e,t,o){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,o!=null){for(var r in o)!o.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var h in t)r=t[h],t.hasOwnProperty(h)&&o[h]!==r&&Qi(e,h,r)}else for(var g in t)t.hasOwnProperty(g)&&Qi(e,g,t[g])}function Lt(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xa=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ns=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lo(e){return ns.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ii(){}var is=null;function os(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wi=null,Vn=null;function wa(e){var t=Pi(e);if(t&&(e=t.stateNode)){var o=e[ln]||null;e:switch(e=t.stateNode,t.type){case"input":if(Wa(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),t=o.name,o.type==="radio"&&t!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+vn(""+t)+'"][type="radio"]'),t=0;t<o.length;t++){var r=o[t];if(r!==e&&r.form===e.form){var h=r[ln]||null;if(!h)throw Error(s(90));Wa(r,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(t=0;t<o.length;t++)r=o[t],r.form===e.form&&er(r)}break e;case"textarea":nr(e,o.value,o.defaultValue);break e;case"select":t=o.value,t!=null&&$i(e,!!o.multiple,t,!1)}}}var as=!1;function ba(e,t,o){if(as)return e(t,o);as=!0;try{var r=e(t);return r}finally{if(as=!1,(Wi!==null||Vn!==null)&&(hu(),Wi&&(t=Wi,e=Vn,Vn=Wi=null,wa(t),e)))for(t=0;t<e.length;t++)wa(e[t])}}function zo(e,t){var o=e.stateNode;if(o===null)return null;var r=o[ln]||null;if(r===null)return null;o=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(s(231,t,typeof o));return o}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zi=!1;if(oi)try{var qn={};Object.defineProperty(qn,"passive",{get:function(){zi=!0}}),window.addEventListener("test",qn,qn),window.removeEventListener("test",qn,qn)}catch{zi=!1}var ai=null,ir=null,Na=null;function or(){if(Na)return Na;var e,t=ir,o=t.length,r,h="value"in ai?ai.value:ai.textContent,g=h.length;for(e=0;e<o&&t[e]===h[e];e++);var A=o-e;for(r=1;r<=A&&t[o-r]===h[g-r];r++);return Na=h.slice(e,1<r?1-r:void 0)}function yi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ss(){return!0}function ar(){return!1}function un(e){function t(o,r,h,g,A){this._reactName=o,this._targetInst=h,this.type=r,this.nativeEvent=g,this.target=A,this.currentTarget=null;for(var R in e)e.hasOwnProperty(R)&&(o=e[R],this[R]=o?o(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ss:ar,this.isPropagationStopped=ar,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),t}var vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ra=un(vi),Rt=S({},vi,{view:0,detail:0}),wn=un(Rt),Fn,sr,Bi,rs=S({},Rt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bi&&(Bi&&e.type==="mousemove"?(Fn=e.screenX-Bi.screenX,sr=e.screenY-Bi.screenY):sr=Fn=0,Bi=e),Fn)},movementY:function(e){return"movementY"in e?e.movementY:sr}}),Ia=un(rs),rr=S({},rs,{dataTransfer:0}),Qu=un(rr),lr=S({},Rt,{relatedTarget:0}),ur=un(lr),Ma=S({},vi,{animationName:0,elapsedTime:0,pseudoElement:0}),Cl=un(Ma),Wu=S({},vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cr=un(Wu),si=S({},vi,{data:0}),bn=un(si),Bo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ls={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _i(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xl[e])?!!t[e]:!1}function dr(){return _i}var us=S({},Rt,{key:function(e){if(e.key){var t=Bo[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=yi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ls[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dr,charCode:function(e){return e.type==="keypress"?yi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Go=un(us),fr=S({},rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Si=un(fr),Vo=S({},Rt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dr}),wl=un(Vo),bl=S({},vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gi=un(bl),hr=S({},rs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pr=un(hr),mr=S({},vi,{newState:0,oldState:0}),qo=un(mr),ec=[9,13,27,32],Wt=oi&&"CompositionEvent"in window,Ti=null;oi&&"documentMode"in document&&(Ti=document.documentMode);var tc=oi&&"TextEvent"in window&&!Ti,cs=oi&&(!Wt||Ti&&8<Ti&&11>=Ti),Nl=" ",ds=!1;function Vi(e,t){switch(e){case"keyup":return ec.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ri(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vt=!1;function gr(e,t){switch(e){case"compositionend":return ri(t);case"keypress":return t.which!==32?null:(ds=!0,Nl);case"textInput":return e=t.data,e===Nl&&ds?null:e;default:return null}}function fs(e,t){if(Vt)return e==="compositionend"||!Wt&&Vi(e,t)?(e=or(),Na=ir=ai=null,Vt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cs&&t.locale!=="ko"?null:t.data;default:return null}}var Nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Nn[e.type]:t==="textarea"}function yr(e,t,o,r){Wi?Vn?Vn.push(r):Vn=[r]:Wi=r,t=Su(t,"onChange"),0<t.length&&(o=new Ra("onChange","change",null,o,r),e.push({event:o,listeners:t}))}var Fo=null,Da=null;function vr(e){sp(e,0)}function Be(e){var t=Ea(e);if(er(t))return e}function en(e,t){if(e==="change")return t}var _n=!1;if(oi){var qi;if(oi){var Ho="oninput"in document;if(!Ho){var _r=document.createElement("div");_r.setAttribute("oninput","return;"),Ho=typeof _r.oninput=="function"}qi=Ho}else qi=!1;_n=qi&&(!document.documentMode||9<document.documentMode)}function eo(){Fo&&(Fo.detachEvent("onpropertychange",Rl),Da=Fo=null)}function Rl(e){if(e.propertyName==="value"&&Be(Da)){var t=[];yr(t,Da,e,os(e)),ba(vr,t)}}function Il(e,t,o){e==="focusin"?(eo(),Fo=t,Da=o,Fo.attachEvent("onpropertychange",Rl)):e==="focusout"&&eo()}function nc(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Be(Da)}function hs(e,t){if(e==="click")return Be(t)}function Sr(e,t){if(e==="input"||e==="change")return Be(t)}function ic(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tn=typeof Object.is=="function"?Object.is:ic;function nn(e,t){if(tn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var o=Object.keys(e),r=Object.keys(t);if(o.length!==r.length)return!1;for(r=0;r<o.length;r++){var h=o[r];if(!j.call(t,h)||!tn(e[h],t[h]))return!1}return!0}function Ei(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tr(e,t){var o=Ei(e);e=0;for(var r;o;){if(o.nodeType===3){if(r=e+o.textContent.length,e<=t&&r>=t)return{node:o,offset:t-e};e=r}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ei(o)}}function oc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?oc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ps(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Xi(e.document);t instanceof e.HTMLIFrameElement;){try{var o=typeof t.contentWindow.location.href=="string"}catch{o=!1}if(o)e=t.contentWindow;else break;t=Xi(e.document)}return t}function Oo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ka=oi&&"documentMode"in document&&11>=document.documentMode,Sn=null,Ze=null,on=null,oe=!1;function ms(e,t,o){var r=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;oe||Sn==null||Sn!==Xi(r)||(r=Sn,"selectionStart"in r&&Oo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),on&&nn(on,r)||(on=r,r=Su(Ze,"onSelect"),0<r.length&&(t=new Ra("onSelect","select",null,t,o),e.push({event:t,listeners:r}),t.target=Sn)))}function li(e,t){var o={};return o[e.toLowerCase()]=t.toLowerCase(),o["Webkit"+e]="webkit"+t,o["Moz"+e]="moz"+t,o}var Yo={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionrun:li("Transition","TransitionRun"),transitionstart:li("Transition","TransitionStart"),transitioncancel:li("Transition","TransitionCancel"),transitionend:li("Transition","TransitionEnd")},Er={},Ml={};oi&&(Ml=document.createElement("div").style,"AnimationEvent"in window||(delete Yo.animationend.animation,delete Yo.animationiteration.animation,delete Yo.animationstart.animation),"TransitionEvent"in window||delete Yo.transitionend.transition);function to(e){if(Er[e])return Er[e];if(!Yo[e])return e;var t=Yo[e],o;for(o in t)if(t.hasOwnProperty(o)&&o in Ml)return Er[e]=t[o];return e}var Ar=to("animationend"),Dl=to("animationiteration"),kl=to("animationstart"),ac=to("transitionrun"),sc=to("transitionstart"),Ul=to("transitioncancel"),gs=to("transitionend"),Pl=new Map,Cr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cr.push("scrollEnd");function Hn(e,t){Pl.set(e,t),ti(t,[e])}var ys=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},In=[],Jo=0,Ua=0;function vs(){for(var e=Jo,t=Ua=Jo=0;t<e;){var o=In[t];In[t++]=null;var r=In[t];In[t++]=null;var h=In[t];In[t++]=null;var g=In[t];if(In[t++]=null,r!==null&&h!==null){var A=r.pending;A===null?h.next=h:(h.next=A.next,A.next=h),r.pending=h}g!==0&&Ss(o,h,g)}}function Pa(e,t,o,r){In[Jo++]=e,In[Jo++]=t,In[Jo++]=o,In[Jo++]=r,Ua|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function _s(e,t,o,r){return Pa(e,t,o,r),Ko(e)}function no(e,t){return Pa(e,null,null,t),Ko(e)}function Ss(e,t,o){e.lanes|=o;var r=e.alternate;r!==null&&(r.lanes|=o);for(var h=!1,g=e.return;g!==null;)g.childLanes|=o,r=g.alternate,r!==null&&(r.childLanes|=o),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(h=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,h&&t!==null&&(h=31-Nt(o),e=g.hiddenUpdates,r=e[h],r===null?e[h]=[t]:r.push(t),t.lane=o|536870912),g):null}function Ko(e){if(50<Xr)throw Xr=0,Wc=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var jo={};function xr(e,t,o,r){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(e,t,o,r){return new xr(e,t,o,r)}function wr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ai(e,t){var o=e.alternate;return o===null?(o=Tn(e.tag,t,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=t,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,t=e.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Ll(e,t){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,t=o.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Fi(e,t,o,r,h,g){var A=0;if(r=e,typeof e=="function")wr(e)&&(A=1);else if(typeof e=="string")A=sv(e,o,ce.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Z:return e=Tn(31,o,t,h),e.elementType=Z,e.lanes=g,e;case w:return On(o.children,h,g,t);case M:A=8,h|=24;break;case N:return e=Tn(12,o,t,h|2),e.elementType=N,e.lanes=g,e;case O:return e=Tn(13,o,t,h),e.elementType=O,e.lanes=g,e;case ee:return e=Tn(19,o,t,h),e.elementType=ee,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L:A=10;break e;case U:A=9;break e;case q:A=11;break e;case J:A=14;break e;case pe:A=16,r=null;break e}A=29,o=Error(s(130,e===null?"null":typeof e,"")),r=null}return t=Tn(A,o,t,h),t.elementType=e,t.type=r,t.lanes=g,t}function On(e,t,o,r){return e=Tn(7,e,r,t),e.lanes=o,e}function br(e,t,o){return e=Tn(6,e,null,t),e.lanes=o,e}function zl(e){var t=Tn(18,null,null,0);return t.stateNode=e,t}function Ci(e,t,o){return t=Tn(4,e.children!==null?e.children:[],e.key,t),t.lanes=o,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Bl=new WeakMap;function Mn(e,t){if(typeof e=="object"&&e!==null){var o=Bl.get(e);return o!==void 0?o:(t={value:e,source:t,stack:z(t)},Bl.set(e,t),t)}return{value:e,source:t,stack:z(t)}}var io=[],Zo=0,Ts=null,oo=0,Dn=[],kn=0,Hi=null,ui=1,Yn="";function xi(e,t){io[Zo++]=oo,io[Zo++]=Ts,Ts=e,oo=t}function Nr(e,t,o){Dn[kn++]=ui,Dn[kn++]=Yn,Dn[kn++]=Hi,Hi=e;var r=ui;e=Yn;var h=32-Nt(r)-1;r&=~(1<<h),o+=1;var g=32-Nt(t)+h;if(30<g){var A=h-h%5;g=(r&(1<<A)-1).toString(32),r>>=A,h-=A,ui=1<<32-Nt(t)+h|o<<h|r,Yn=g+e}else ui=1<<g|o<<h|r,Yn=e}function Rr(e){e.return!==null&&(xi(e,1),Nr(e,1,0))}function Es(e){for(;e===Ts;)Ts=io[--Zo],io[Zo]=null,oo=io[--Zo],io[Zo]=null;for(;e===Hi;)Hi=Dn[--kn],Dn[kn]=null,Yn=Dn[--kn],Dn[kn]=null,ui=Dn[--kn],Dn[kn]=null}function Gl(e,t){Dn[kn++]=ui,Dn[kn++]=Yn,Dn[kn++]=Hi,ui=t.id,Yn=t.overflow,Hi=e}var jt=null,At=null,nt=!1,wi=null,Un=!1,La=Error(s(519));function Oi(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw za(Mn(t,e)),La}function Ir(e){var t=e.stateNode,o=e.type,r=e.memoizedProps;switch(t[Et]=e,t[ln]=r,o){case"dialog":at("cancel",t),at("close",t);break;case"iframe":case"object":case"embed":at("load",t);break;case"video":case"audio":for(o=0;o<Qr.length;o++)at(Qr[o],t);break;case"source":at("error",t);break;case"img":case"image":case"link":at("error",t),at("load",t);break;case"details":at("toggle",t);break;case"input":at("invalid",t),es(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":at("invalid",t);break;case"textarea":at("invalid",t),Kt(t,r.value,r.defaultValue,r.children)}o=r.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||t.textContent===""+o||r.suppressHydrationWarning===!0||cp(t.textContent,o)?(r.popover!=null&&(at("beforetoggle",t),at("toggle",t)),r.onScroll!=null&&at("scroll",t),r.onScrollEnd!=null&&at("scrollend",t),r.onClick!=null&&(t.onclick=ii),t=!0):t=!1,t||Oi(e,!0)}function Vl(e){for(jt=e.return;jt;)switch(jt.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:jt=jt.return}}function Xo(e){if(e!==jt)return!1;if(!nt)return Vl(e),nt=!0,!1;var t=e.tag,o;if((o=t!==3&&t!==27)&&((o=t===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||pd(e.type,e.memoizedProps)),o=!o),o&&At&&Oi(e),Vl(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));At=_p(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));At=_p(e)}else t===27?(t=At,ca(e.type)?(e=_d,_d=null,At=e):At=t):At=jt?hi(e.stateNode.nextSibling):null;return!0}function ao(){At=jt=null,nt=!1}function Mr(){var e=wi;return e!==null&&(Bn===null?Bn=e:Bn.push.apply(Bn,e),wi=null),e}function za(e){wi===null?wi=[e]:wi.push(e)}var Ba=I(null),so=null,bi=null;function Yi(e,t,o){fe(Ba,t._currentValue),t._currentValue=o}function ci(e){e._currentValue=Ba.current,B(Ba)}function Dr(e,t,o){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===o)break;e=e.return}}function kr(e,t,o,r){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var g=h.dependencies;if(g!==null){var A=h.child;g=g.firstContext;e:for(;g!==null;){var R=g;g=h;for(var F=0;F<t.length;F++)if(R.context===t[F]){g.lanes|=o,R=g.alternate,R!==null&&(R.lanes|=o),Dr(g.return,o,e),r||(A=null);break e}g=R.next}}else if(h.tag===18){if(A=h.return,A===null)throw Error(s(341));A.lanes|=o,g=A.alternate,g!==null&&(g.lanes|=o),Dr(A,o,e),A=null}else A=h.child;if(A!==null)A.return=h;else for(A=h;A!==null;){if(A===e){A=null;break}if(h=A.sibling,h!==null){h.return=A.return,A=h;break}A=A.return}h=A}}function $o(e,t,o,r){e=null;for(var h=t,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var A=h.alternate;if(A===null)throw Error(s(387));if(A=A.memoizedProps,A!==null){var R=h.type;tn(h.pendingProps.value,A.value)||(e!==null?e.push(R):e=[R])}}else if(h===Ye.current){if(A=h.alternate,A===null)throw Error(s(387));A.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(il):e=[il])}h=h.return}e!==null&&kr(t,e,o,r),t.flags|=262144}function As(e){for(e=e.firstContext;e!==null;){if(!tn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ro(e){so=e,bi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Zt(e){return ql(so,e)}function Qo(e,t){return so===null&&ro(e),ql(e,t)}function ql(e,t){var o=t._currentValue;if(t={context:t,memoizedValue:o,next:null},bi===null){if(e===null)throw Error(s(308));bi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bi=bi.next=t;return o}var Fl=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(o,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(o){return o()})}},rc=i.unstable_scheduleCallback,lc=i.unstable_NormalPriority,Ct={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ur(){return{controller:new Fl,data:new Map,refCount:0}}function Ji(e){e.refCount--,e.refCount===0&&rc(lc,function(){e.controller.abort()})}var Ga=null,Pr=0,lo=0,Wo=null;function Hl(e,t){if(Ga===null){var o=Ga=[];Pr=0,lo=ad(),Wo={status:"pending",value:void 0,then:function(r){o.push(r)}}}return Pr++,t.then(Lr,Lr),t}function Lr(){if(--Pr===0&&Ga!==null){Wo!==null&&(Wo.status="fulfilled");var e=Ga;Ga=null,lo=0,Wo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function zr(e,t){var o=[],r={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var h=0;h<o.length;h++)(0,o[h])(t)},function(h){for(r.status="rejected",r.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),r}var Ol=X.S;X.S=function(e,t){Uh=De(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Hl(e,t),Ol!==null&&Ol(e,t)};var di=I(null);function Cs(){var e=di.current;return e!==null?e:wt.pooledCache}function Ni(e,t){t===null?fe(di,di.current):fe(di,t.pool)}function T(){var e=Cs();return e===null?null:{parent:Ct._currentValue,pool:e}}var k=Error(s(460)),P=Error(s(474)),H=Error(s(542)),K={then:function(){}};function W(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ve(e,t,o){switch(o=e[o],o===void 0?e.push(t):o!==t&&(t.then(ii,ii),t=o),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,be(e),e;default:if(typeof t.status=="string")t.then(ii,ii);else{if(e=wt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var h=t;h.status="fulfilled",h.value=r}},function(r){if(t.status==="pending"){var h=t;h.status="rejected",h.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,be(e),e}throw we=t,k}}function Ee(e){try{var t=e._init;return t(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(we=o,k):o}}var we=null;function Te(){if(we===null)throw Error(s(459));var e=we;return we=null,e}function be(e){if(e===k||e===H)throw Error(s(483))}var Pe=null,He=0;function ut(e){var t=He;return He+=1,Pe===null&&(Pe=[]),ve(Pe,e,t)}function xt(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ge(e,t){throw t.$$typeof===E?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function st(e){function t(Q,Y){if(e){var te=Q.deletions;te===null?(Q.deletions=[Y],Q.flags|=16):te.push(Y)}}function o(Q,Y){if(!e)return null;for(;Y!==null;)t(Q,Y),Y=Y.sibling;return null}function r(Q){for(var Y=new Map;Q!==null;)Q.key!==null?Y.set(Q.key,Q):Y.set(Q.index,Q),Q=Q.sibling;return Y}function h(Q,Y){return Q=Ai(Q,Y),Q.index=0,Q.sibling=null,Q}function g(Q,Y,te){return Q.index=te,e?(te=Q.alternate,te!==null?(te=te.index,te<Y?(Q.flags|=67108866,Y):te):(Q.flags|=67108866,Y)):(Q.flags|=1048576,Y)}function A(Q){return e&&Q.alternate===null&&(Q.flags|=67108866),Q}function R(Q,Y,te,Se){return Y===null||Y.tag!==6?(Y=br(te,Q.mode,Se),Y.return=Q,Y):(Y=h(Y,te),Y.return=Q,Y)}function F(Q,Y,te,Se){var Oe=te.type;return Oe===w?ge(Q,Y,te.props.children,Se,te.key):Y!==null&&(Y.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===pe&&Ee(Oe)===Y.type)?(Y=h(Y,te.props),xt(Y,te),Y.return=Q,Y):(Y=Fi(te.type,te.key,te.props,null,Q.mode,Se),xt(Y,te),Y.return=Q,Y)}function ie(Q,Y,te,Se){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==te.containerInfo||Y.stateNode.implementation!==te.implementation?(Y=Ci(te,Q.mode,Se),Y.return=Q,Y):(Y=h(Y,te.children||[]),Y.return=Q,Y)}function ge(Q,Y,te,Se,Oe){return Y===null||Y.tag!==7?(Y=On(te,Q.mode,Se,Oe),Y.return=Q,Y):(Y=h(Y,te),Y.return=Q,Y)}function Ae(Q,Y,te){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=br(""+Y,Q.mode,te),Y.return=Q,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case C:return te=Fi(Y.type,Y.key,Y.props,null,Q.mode,te),xt(te,Y),te.return=Q,te;case D:return Y=Ci(Y,Q.mode,te),Y.return=Q,Y;case pe:return Y=Ee(Y),Ae(Q,Y,te)}if(de(Y)||V(Y))return Y=On(Y,Q.mode,te,null),Y.return=Q,Y;if(typeof Y.then=="function")return Ae(Q,ut(Y),te);if(Y.$$typeof===L)return Ae(Q,Qo(Q,Y),te);Ge(Q,Y)}return null}function ae(Q,Y,te,Se){var Oe=Y!==null?Y.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Oe!==null?null:R(Q,Y,""+te,Se);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case C:return te.key===Oe?F(Q,Y,te,Se):null;case D:return te.key===Oe?ie(Q,Y,te,Se):null;case pe:return te=Ee(te),ae(Q,Y,te,Se)}if(de(te)||V(te))return Oe!==null?null:ge(Q,Y,te,Se,null);if(typeof te.then=="function")return ae(Q,Y,ut(te),Se);if(te.$$typeof===L)return ae(Q,Y,Qo(Q,te),Se);Ge(Q,te)}return null}function le(Q,Y,te,Se,Oe){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return Q=Q.get(te)||null,R(Y,Q,""+Se,Oe);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case C:return Q=Q.get(Se.key===null?te:Se.key)||null,F(Y,Q,Se,Oe);case D:return Q=Q.get(Se.key===null?te:Se.key)||null,ie(Y,Q,Se,Oe);case pe:return Se=Ee(Se),le(Q,Y,te,Se,Oe)}if(de(Se)||V(Se))return Q=Q.get(te)||null,ge(Y,Q,Se,Oe,null);if(typeof Se.then=="function")return le(Q,Y,te,ut(Se),Oe);if(Se.$$typeof===L)return le(Q,Y,te,Qo(Y,Se),Oe);Ge(Y,Se)}return null}function ze(Q,Y,te,Se){for(var Oe=null,ct=null,Ve=Y,Qe=Y=0,lt=null;Ve!==null&&Qe<te.length;Qe++){Ve.index>Qe?(lt=Ve,Ve=null):lt=Ve.sibling;var dt=ae(Q,Ve,te[Qe],Se);if(dt===null){Ve===null&&(Ve=lt);break}e&&Ve&&dt.alternate===null&&t(Q,Ve),Y=g(dt,Y,Qe),ct===null?Oe=dt:ct.sibling=dt,ct=dt,Ve=lt}if(Qe===te.length)return o(Q,Ve),nt&&xi(Q,Qe),Oe;if(Ve===null){for(;Qe<te.length;Qe++)Ve=Ae(Q,te[Qe],Se),Ve!==null&&(Y=g(Ve,Y,Qe),ct===null?Oe=Ve:ct.sibling=Ve,ct=Ve);return nt&&xi(Q,Qe),Oe}for(Ve=r(Ve);Qe<te.length;Qe++)lt=le(Ve,Q,Qe,te[Qe],Se),lt!==null&&(e&&lt.alternate!==null&&Ve.delete(lt.key===null?Qe:lt.key),Y=g(lt,Y,Qe),ct===null?Oe=lt:ct.sibling=lt,ct=lt);return e&&Ve.forEach(function(ma){return t(Q,ma)}),nt&&xi(Q,Qe),Oe}function Ke(Q,Y,te,Se){if(te==null)throw Error(s(151));for(var Oe=null,ct=null,Ve=Y,Qe=Y=0,lt=null,dt=te.next();Ve!==null&&!dt.done;Qe++,dt=te.next()){Ve.index>Qe?(lt=Ve,Ve=null):lt=Ve.sibling;var ma=ae(Q,Ve,dt.value,Se);if(ma===null){Ve===null&&(Ve=lt);break}e&&Ve&&ma.alternate===null&&t(Q,Ve),Y=g(ma,Y,Qe),ct===null?Oe=ma:ct.sibling=ma,ct=ma,Ve=lt}if(dt.done)return o(Q,Ve),nt&&xi(Q,Qe),Oe;if(Ve===null){for(;!dt.done;Qe++,dt=te.next())dt=Ae(Q,dt.value,Se),dt!==null&&(Y=g(dt,Y,Qe),ct===null?Oe=dt:ct.sibling=dt,ct=dt);return nt&&xi(Q,Qe),Oe}for(Ve=r(Ve);!dt.done;Qe++,dt=te.next())dt=le(Ve,Q,Qe,dt.value,Se),dt!==null&&(e&&dt.alternate!==null&&Ve.delete(dt.key===null?Qe:dt.key),Y=g(dt,Y,Qe),ct===null?Oe=dt:ct.sibling=dt,ct=dt);return e&&Ve.forEach(function(yv){return t(Q,yv)}),nt&&xi(Q,Qe),Oe}function St(Q,Y,te,Se){if(typeof te=="object"&&te!==null&&te.type===w&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case C:e:{for(var Oe=te.key;Y!==null;){if(Y.key===Oe){if(Oe=te.type,Oe===w){if(Y.tag===7){o(Q,Y.sibling),Se=h(Y,te.props.children),Se.return=Q,Q=Se;break e}}else if(Y.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===pe&&Ee(Oe)===Y.type){o(Q,Y.sibling),Se=h(Y,te.props),xt(Se,te),Se.return=Q,Q=Se;break e}o(Q,Y);break}else t(Q,Y);Y=Y.sibling}te.type===w?(Se=On(te.props.children,Q.mode,Se,te.key),Se.return=Q,Q=Se):(Se=Fi(te.type,te.key,te.props,null,Q.mode,Se),xt(Se,te),Se.return=Q,Q=Se)}return A(Q);case D:e:{for(Oe=te.key;Y!==null;){if(Y.key===Oe)if(Y.tag===4&&Y.stateNode.containerInfo===te.containerInfo&&Y.stateNode.implementation===te.implementation){o(Q,Y.sibling),Se=h(Y,te.children||[]),Se.return=Q,Q=Se;break e}else{o(Q,Y);break}else t(Q,Y);Y=Y.sibling}Se=Ci(te,Q.mode,Se),Se.return=Q,Q=Se}return A(Q);case pe:return te=Ee(te),St(Q,Y,te,Se)}if(de(te))return ze(Q,Y,te,Se);if(V(te)){if(Oe=V(te),typeof Oe!="function")throw Error(s(150));return te=Oe.call(te),Ke(Q,Y,te,Se)}if(typeof te.then=="function")return St(Q,Y,ut(te),Se);if(te.$$typeof===L)return St(Q,Y,Qo(Q,te),Se);Ge(Q,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,Y!==null&&Y.tag===6?(o(Q,Y.sibling),Se=h(Y,te),Se.return=Q,Q=Se):(o(Q,Y),Se=br(te,Q.mode,Se),Se.return=Q,Q=Se),A(Q)):o(Q,Y)}return function(Q,Y,te,Se){try{He=0;var Oe=St(Q,Y,te,Se);return Pe=null,Oe}catch(Ve){if(Ve===k||Ve===H)throw Ve;var ct=Tn(29,Ve,null,Q.mode);return ct.lanes=Se,ct.return=Q,ct}finally{}}}var it=st(!0),qt=st(!1),yt=!1;function Jn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function En(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function an(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Kn(e,t,o){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(ht&2)!==0){var h=r.pending;return h===null?t.next=t:(t.next=h.next,h.next=t),r.pending=t,t=Ko(e),Ss(e,null,o),t}return Pa(e,r,t,o),Ko(e)}function uo(e,t,o){if(t=t.updateQueue,t!==null&&(t=t.shared,(o&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,o|=r,t.lanes=o,_a(e,o)}}function co(e,t){var o=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,o===r)){var h=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var A={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?h=g=A:g=g.next=A,o=o.next}while(o!==null);g===null?h=g=t:g=g.next=t}else h=g=t;o={baseState:r.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:r.shared,callbacks:r.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=t:e.next=t,o.lastBaseUpdate=t}var Va=!1;function ea(){if(Va){var e=Wo;if(e!==null)throw e}}function fo(e,t,o,r){Va=!1;var h=e.updateQueue;yt=!1;var g=h.firstBaseUpdate,A=h.lastBaseUpdate,R=h.shared.pending;if(R!==null){h.shared.pending=null;var F=R,ie=F.next;F.next=null,A===null?g=ie:A.next=ie,A=F;var ge=e.alternate;ge!==null&&(ge=ge.updateQueue,R=ge.lastBaseUpdate,R!==A&&(R===null?ge.firstBaseUpdate=ie:R.next=ie,ge.lastBaseUpdate=F))}if(g!==null){var Ae=h.baseState;A=0,ge=ie=F=null,R=g;do{var ae=R.lane&-536870913,le=ae!==R.lane;if(le?(rt&ae)===ae:(r&ae)===ae){ae!==0&&ae===lo&&(Va=!0),ge!==null&&(ge=ge.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var ze=e,Ke=R;ae=t;var St=o;switch(Ke.tag){case 1:if(ze=Ke.payload,typeof ze=="function"){Ae=ze.call(St,Ae,ae);break e}Ae=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Ke.payload,ae=typeof ze=="function"?ze.call(St,Ae,ae):ze,ae==null)break e;Ae=S({},Ae,ae);break e;case 2:yt=!0}}ae=R.callback,ae!==null&&(e.flags|=64,le&&(e.flags|=8192),le=h.callbacks,le===null?h.callbacks=[ae]:le.push(ae))}else le={lane:ae,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ge===null?(ie=ge=le,F=Ae):ge=ge.next=le,A|=ae;if(R=R.next,R===null){if(R=h.shared.pending,R===null)break;le=R,R=le.next,le.next=null,h.lastBaseUpdate=le,h.shared.pending=null}}while(!0);ge===null&&(F=Ae),h.baseState=F,h.firstBaseUpdate=ie,h.lastBaseUpdate=ge,g===null&&(h.shared.lanes=0),aa|=A,e.lanes=A,e.memoizedState=Ae}}function Yl(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function sf(e,t){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)Yl(o[e],t)}var xs=I(null),Jl=I(0);function rf(e,t){e=To,fe(Jl,e),fe(xs,t),To=e|t.baseLanes}function uc(){fe(Jl,To),fe(xs,xs.current)}function cc(){To=Jl.current,B(xs),B(Jl)}var jn=I(null),fi=null;function ta(e){var t=e.alternate;fe(zt,zt.current&1),fe(jn,e),fi===null&&(t===null||xs.current!==null||t.memoizedState!==null)&&(fi=e)}function dc(e){fe(zt,zt.current),fe(jn,e),fi===null&&(fi=e)}function lf(e){e.tag===22?(fe(zt,zt.current),fe(jn,e),fi===null&&(fi=e)):na()}function na(){fe(zt,zt.current),fe(jn,jn.current)}function Zn(e){B(jn),fi===e&&(fi=null),B(zt)}var zt=I(0);function Kl(e){for(var t=e;t!==null;){if(t.tag===13){var o=t.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||yd(o)||vd(o)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ho=0,$e=null,vt=null,Ft=null,jl=!1,ws=!1,qa=!1,Zl=0,Br=0,bs=null,ry=0;function Ut(){throw Error(s(321))}function fc(e,t){if(t===null)return!1;for(var o=0;o<t.length&&o<e.length;o++)if(!tn(e[o],t[o]))return!1;return!0}function hc(e,t,o,r,h,g){return ho=g,$e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,X.H=e===null||e.memoizedState===null?Yf:Nc,qa=!1,g=o(r,h),qa=!1,ws&&(g=cf(t,o,r,h)),uf(e),g}function uf(e){X.H=qr;var t=vt!==null&&vt.next!==null;if(ho=0,Ft=vt=$e=null,jl=!1,Br=0,bs=null,t)throw Error(s(300));e===null||Ht||(e=e.dependencies,e!==null&&As(e)&&(Ht=!0))}function cf(e,t,o,r){$e=e;var h=0;do{if(ws&&(bs=null),Br=0,ws=!1,25<=h)throw Error(s(301));if(h+=1,Ft=vt=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}X.H=Jf,g=t(o,r)}while(ws);return g}function ly(){var e=X.H,t=e.useState()[0];return t=typeof t.then=="function"?Gr(t):t,e=e.useState()[0],(vt!==null?vt.memoizedState:null)!==e&&($e.flags|=1024),t}function pc(){var e=Zl!==0;return Zl=0,e}function mc(e,t,o){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o}function gc(e){if(jl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}jl=!1}ho=0,Ft=vt=$e=null,ws=!1,Br=Zl=0,bs=null}function An(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?$e.memoizedState=Ft=e:Ft=Ft.next=e,Ft}function Bt(){if(vt===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=vt.next;var t=Ft===null?$e.memoizedState:Ft.next;if(t!==null)Ft=t,vt=e;else{if(e===null)throw $e.alternate===null?Error(s(467)):Error(s(310));vt=e,e={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Ft===null?$e.memoizedState=Ft=e:Ft=Ft.next=e}return Ft}function Xl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gr(e){var t=Br;return Br+=1,bs===null&&(bs=[]),e=ve(bs,e,t),t=$e,(Ft===null?t.memoizedState:Ft.next)===null&&(t=t.alternate,X.H=t===null||t.memoizedState===null?Yf:Nc),e}function $l(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Gr(e);if(e.$$typeof===L)return Zt(e)}throw Error(s(438,String(e)))}function yc(e){var t=null,o=$e.updateQueue;if(o!==null&&(t=o.memoCache),t==null){var r=$e.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(h){return h.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),o===null&&(o=Xl(),$e.updateQueue=o),o.memoCache=t,o=t.data[t.index],o===void 0)for(o=t.data[t.index]=Array(e),r=0;r<e;r++)o[r]=ye;return t.index++,o}function po(e,t){return typeof t=="function"?t(e):t}function Ql(e){var t=Bt();return vc(t,vt,e)}function vc(e,t,o){var r=e.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=o;var h=e.baseQueue,g=r.pending;if(g!==null){if(h!==null){var A=h.next;h.next=g.next,g.next=A}t.baseQueue=h=g,r.pending=null}if(g=e.baseState,h===null)e.memoizedState=g;else{t=h.next;var R=A=null,F=null,ie=t,ge=!1;do{var Ae=ie.lane&-536870913;if(Ae!==ie.lane?(rt&Ae)===Ae:(ho&Ae)===Ae){var ae=ie.revertLane;if(ae===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),Ae===lo&&(ge=!0);else if((ho&ae)===ae){ie=ie.next,ae===lo&&(ge=!0);continue}else Ae={lane:0,revertLane:ie.revertLane,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},F===null?(R=F=Ae,A=g):F=F.next=Ae,$e.lanes|=ae,aa|=ae;Ae=ie.action,qa&&o(g,Ae),g=ie.hasEagerState?ie.eagerState:o(g,Ae)}else ae={lane:Ae,revertLane:ie.revertLane,gesture:ie.gesture,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},F===null?(R=F=ae,A=g):F=F.next=ae,$e.lanes|=Ae,aa|=Ae;ie=ie.next}while(ie!==null&&ie!==t);if(F===null?A=g:F.next=R,!tn(g,e.memoizedState)&&(Ht=!0,ge&&(o=Wo,o!==null)))throw o;e.memoizedState=g,e.baseState=A,e.baseQueue=F,r.lastRenderedState=g}return h===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function _c(e){var t=Bt(),o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var r=o.dispatch,h=o.pending,g=t.memoizedState;if(h!==null){o.pending=null;var A=h=h.next;do g=e(g,A.action),A=A.next;while(A!==h);tn(g,t.memoizedState)||(Ht=!0),t.memoizedState=g,t.baseQueue===null&&(t.baseState=g),o.lastRenderedState=g}return[g,r]}function df(e,t,o){var r=$e,h=Bt(),g=nt;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=t();var A=!tn((vt||h).memoizedState,o);if(A&&(h.memoizedState=o,Ht=!0),h=h.queue,Ec(pf.bind(null,r,h,e),[e]),h.getSnapshot!==t||A||Ft!==null&&Ft.memoizedState.tag&1){if(r.flags|=2048,Ns(9,{destroy:void 0},hf.bind(null,r,h,o,t),null),wt===null)throw Error(s(349));g||(ho&127)!==0||ff(r,t,o)}return o}function ff(e,t,o){e.flags|=16384,e={getSnapshot:t,value:o},t=$e.updateQueue,t===null?(t=Xl(),$e.updateQueue=t,t.stores=[e]):(o=t.stores,o===null?t.stores=[e]:o.push(e))}function hf(e,t,o,r){t.value=o,t.getSnapshot=r,mf(t)&&gf(e)}function pf(e,t,o){return o(function(){mf(t)&&gf(e)})}function mf(e){var t=e.getSnapshot;e=e.value;try{var o=t();return!tn(e,o)}catch{return!0}}function gf(e){var t=no(e,2);t!==null&&Gn(t,e,2)}function Sc(e){var t=An();if(typeof e=="function"){var o=e;if(e=o(),qa){Cn(!0);try{o()}finally{Cn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:e},t}function yf(e,t,o,r){return e.baseState=o,vc(e,vt,typeof r=="function"?r:po)}function uy(e,t,o,r,h){if(tu(e))throw Error(s(485));if(e=t.action,e!==null){var g={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){g.listeners.push(A)}};X.T!==null?o(!0):g.isTransition=!1,r(g),o=t.pending,o===null?(g.next=t.pending=g,vf(t,g)):(g.next=o.next,t.pending=o.next=g)}}function vf(e,t){var o=t.action,r=t.payload,h=e.state;if(t.isTransition){var g=X.T,A={};X.T=A;try{var R=o(h,r),F=X.S;F!==null&&F(A,R),_f(e,t,R)}catch(ie){Tc(e,t,ie)}finally{g!==null&&A.types!==null&&(g.types=A.types),X.T=g}}else try{g=o(h,r),_f(e,t,g)}catch(ie){Tc(e,t,ie)}}function _f(e,t,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(r){Sf(e,t,r)},function(r){return Tc(e,t,r)}):Sf(e,t,o)}function Sf(e,t,o){t.status="fulfilled",t.value=o,Tf(t),e.state=o,t=e.pending,t!==null&&(o=t.next,o===t?e.pending=null:(o=o.next,t.next=o,vf(e,o)))}function Tc(e,t,o){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=o,Tf(t),t=t.next;while(t!==r)}e.action=null}function Tf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ef(e,t){return t}function Af(e,t){if(nt){var o=wt.formState;if(o!==null){e:{var r=$e;if(nt){if(At){t:{for(var h=At,g=Un;h.nodeType!==8;){if(!g){h=null;break t}if(h=hi(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){At=hi(h.nextSibling),r=h.data==="F!";break e}}Oi(r)}r=!1}r&&(t=o[0])}}return o=An(),o.memoizedState=o.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ef,lastRenderedState:t},o.queue=r,o=Ff.bind(null,$e,r),r.dispatch=o,r=Sc(!1),g=bc.bind(null,$e,!1,r.queue),r=An(),h={state:t,dispatch:null,action:e,pending:null},r.queue=h,o=uy.bind(null,$e,h,g,o),h.dispatch=o,r.memoizedState=e,[t,o,!1]}function Cf(e){var t=Bt();return xf(t,vt,e)}function xf(e,t,o){if(t=vc(e,t,Ef)[0],e=Ql(po)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=Gr(t)}catch(A){throw A===k?H:A}else r=t;t=Bt();var h=t.queue,g=h.dispatch;return o!==t.memoizedState&&($e.flags|=2048,Ns(9,{destroy:void 0},cy.bind(null,h,o),null)),[r,g,e]}function cy(e,t){e.action=t}function wf(e){var t=Bt(),o=vt;if(o!==null)return xf(t,o,e);Bt(),t=t.memoizedState,o=Bt();var r=o.queue.dispatch;return o.memoizedState=e,[t,r,!1]}function Ns(e,t,o,r){return e={tag:e,create:o,deps:r,inst:t,next:null},t=$e.updateQueue,t===null&&(t=Xl(),$e.updateQueue=t),o=t.lastEffect,o===null?t.lastEffect=e.next=e:(r=o.next,o.next=e,e.next=r,t.lastEffect=e),e}function bf(){return Bt().memoizedState}function Wl(e,t,o,r){var h=An();$e.flags|=e,h.memoizedState=Ns(1|t,{destroy:void 0},o,r===void 0?null:r)}function eu(e,t,o,r){var h=Bt();r=r===void 0?null:r;var g=h.memoizedState.inst;vt!==null&&r!==null&&fc(r,vt.memoizedState.deps)?h.memoizedState=Ns(t,g,o,r):($e.flags|=e,h.memoizedState=Ns(1|t,g,o,r))}function Nf(e,t){Wl(8390656,8,e,t)}function Ec(e,t){eu(2048,8,e,t)}function dy(e){$e.flags|=4;var t=$e.updateQueue;if(t===null)t=Xl(),$e.updateQueue=t,t.events=[e];else{var o=t.events;o===null?t.events=[e]:o.push(e)}}function Rf(e){var t=Bt().memoizedState;return dy({ref:t,nextImpl:e}),function(){if((ht&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function If(e,t){return eu(4,2,e,t)}function Mf(e,t){return eu(4,4,e,t)}function Df(e,t){if(typeof t=="function"){e=e();var o=t(e);return function(){typeof o=="function"?o():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kf(e,t,o){o=o!=null?o.concat([e]):null,eu(4,4,Df.bind(null,t,e),o)}function Ac(){}function Uf(e,t){var o=Bt();t=t===void 0?null:t;var r=o.memoizedState;return t!==null&&fc(t,r[1])?r[0]:(o.memoizedState=[e,t],e)}function Pf(e,t){var o=Bt();t=t===void 0?null:t;var r=o.memoizedState;if(t!==null&&fc(t,r[1]))return r[0];if(r=e(),qa){Cn(!0);try{e()}finally{Cn(!1)}}return o.memoizedState=[r,t],r}function Cc(e,t,o){return o===void 0||(ho&1073741824)!==0&&(rt&261930)===0?e.memoizedState=t:(e.memoizedState=o,e=Lh(),$e.lanes|=e,aa|=e,o)}function Lf(e,t,o,r){return tn(o,t)?o:xs.current!==null?(e=Cc(e,o,r),tn(e,t)||(Ht=!0),e):(ho&42)===0||(ho&1073741824)!==0&&(rt&261930)===0?(Ht=!0,e.memoizedState=o):(e=Lh(),$e.lanes|=e,aa|=e,t)}function zf(e,t,o,r,h){var g=$.p;$.p=g!==0&&8>g?g:8;var A=X.T,R={};X.T=R,bc(e,!1,t,o);try{var F=h(),ie=X.S;if(ie!==null&&ie(R,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var ge=zr(F,r);Vr(e,t,ge,Qn(e))}else Vr(e,t,r,Qn(e))}catch(Ae){Vr(e,t,{then:function(){},status:"rejected",reason:Ae},Qn())}finally{$.p=g,A!==null&&R.types!==null&&(A.types=R.types),X.T=A}}function fy(){}function xc(e,t,o,r){if(e.tag!==5)throw Error(s(476));var h=Bf(e).queue;zf(e,h,t,Ie,o===null?fy:function(){return Gf(e),o(r)})}function Bf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:Ie},next:null};var o={};return t.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:o},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Gf(e){var t=Bf(e);t.next===null&&(t=e.alternate.memoizedState),Vr(e,t.next.queue,{},Qn())}function wc(){return Zt(il)}function Vf(){return Bt().memoizedState}function qf(){return Bt().memoizedState}function hy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var o=Qn();e=an(o);var r=Kn(t,e,o);r!==null&&(Gn(r,t,o),uo(r,t,o)),t={cache:Ur()},e.payload=t;return}t=t.return}}function py(e,t,o){var r=Qn();o={lane:r,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},tu(e)?Hf(t,o):(o=_s(e,t,o,r),o!==null&&(Gn(o,e,r),Of(o,t,r)))}function Ff(e,t,o){var r=Qn();Vr(e,t,o,r)}function Vr(e,t,o,r){var h={lane:r,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(tu(e))Hf(t,h);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=t.lastRenderedReducer,g!==null))try{var A=t.lastRenderedState,R=g(A,o);if(h.hasEagerState=!0,h.eagerState=R,tn(R,A))return Pa(e,t,h,0),wt===null&&vs(),!1}catch{}finally{}if(o=_s(e,t,h,r),o!==null)return Gn(o,e,r),Of(o,t,r),!0}return!1}function bc(e,t,o,r){if(r={lane:2,revertLane:ad(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},tu(e)){if(t)throw Error(s(479))}else t=_s(e,o,r,2),t!==null&&Gn(t,e,2)}function tu(e){var t=e.alternate;return e===$e||t!==null&&t===$e}function Hf(e,t){ws=jl=!0;var o=e.pending;o===null?t.next=t:(t.next=o.next,o.next=t),e.pending=t}function Of(e,t,o){if((o&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,o|=r,t.lanes=o,_a(e,o)}}var qr={readContext:Zt,use:$l,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut};qr.useEffectEvent=Ut;var Yf={readContext:Zt,use:$l,useCallback:function(e,t){return An().memoizedState=[e,t===void 0?null:t],e},useContext:Zt,useEffect:Nf,useImperativeHandle:function(e,t,o){o=o!=null?o.concat([e]):null,Wl(4194308,4,Df.bind(null,t,e),o)},useLayoutEffect:function(e,t){return Wl(4194308,4,e,t)},useInsertionEffect:function(e,t){Wl(4,2,e,t)},useMemo:function(e,t){var o=An();t=t===void 0?null:t;var r=e();if(qa){Cn(!0);try{e()}finally{Cn(!1)}}return o.memoizedState=[r,t],r},useReducer:function(e,t,o){var r=An();if(o!==void 0){var h=o(t);if(qa){Cn(!0);try{o(t)}finally{Cn(!1)}}}else h=t;return r.memoizedState=r.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},r.queue=e,e=e.dispatch=py.bind(null,$e,e),[r.memoizedState,e]},useRef:function(e){var t=An();return e={current:e},t.memoizedState=e},useState:function(e){e=Sc(e);var t=e.queue,o=Ff.bind(null,$e,t);return t.dispatch=o,[e.memoizedState,o]},useDebugValue:Ac,useDeferredValue:function(e,t){var o=An();return Cc(o,e,t)},useTransition:function(){var e=Sc(!1);return e=zf.bind(null,$e,e.queue,!0,!1),An().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,o){var r=$e,h=An();if(nt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=t(),wt===null)throw Error(s(349));(rt&127)!==0||ff(r,t,o)}h.memoizedState=o;var g={value:o,getSnapshot:t};return h.queue=g,Nf(pf.bind(null,r,g,e),[e]),r.flags|=2048,Ns(9,{destroy:void 0},hf.bind(null,r,g,o,t),null),o},useId:function(){var e=An(),t=wt.identifierPrefix;if(nt){var o=Yn,r=ui;o=(r&~(1<<32-Nt(r)-1)).toString(32)+o,t="_"+t+"R_"+o,o=Zl++,0<o&&(t+="H"+o.toString(32)),t+="_"}else o=ry++,t="_"+t+"r_"+o.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:wc,useFormState:Af,useActionState:Af,useOptimistic:function(e){var t=An();t.memoizedState=t.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=o,t=bc.bind(null,$e,!0,o),o.dispatch=t,[e,t]},useMemoCache:yc,useCacheRefresh:function(){return An().memoizedState=hy.bind(null,$e)},useEffectEvent:function(e){var t=An(),o={impl:e};return t.memoizedState=o,function(){if((ht&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Nc={readContext:Zt,use:$l,useCallback:Uf,useContext:Zt,useEffect:Ec,useImperativeHandle:kf,useInsertionEffect:If,useLayoutEffect:Mf,useMemo:Pf,useReducer:Ql,useRef:bf,useState:function(){return Ql(po)},useDebugValue:Ac,useDeferredValue:function(e,t){var o=Bt();return Lf(o,vt.memoizedState,e,t)},useTransition:function(){var e=Ql(po)[0],t=Bt().memoizedState;return[typeof e=="boolean"?e:Gr(e),t]},useSyncExternalStore:df,useId:Vf,useHostTransitionStatus:wc,useFormState:Cf,useActionState:Cf,useOptimistic:function(e,t){var o=Bt();return yf(o,vt,e,t)},useMemoCache:yc,useCacheRefresh:qf};Nc.useEffectEvent=Rf;var Jf={readContext:Zt,use:$l,useCallback:Uf,useContext:Zt,useEffect:Ec,useImperativeHandle:kf,useInsertionEffect:If,useLayoutEffect:Mf,useMemo:Pf,useReducer:_c,useRef:bf,useState:function(){return _c(po)},useDebugValue:Ac,useDeferredValue:function(e,t){var o=Bt();return vt===null?Cc(o,e,t):Lf(o,vt.memoizedState,e,t)},useTransition:function(){var e=_c(po)[0],t=Bt().memoizedState;return[typeof e=="boolean"?e:Gr(e),t]},useSyncExternalStore:df,useId:Vf,useHostTransitionStatus:wc,useFormState:wf,useActionState:wf,useOptimistic:function(e,t){var o=Bt();return vt!==null?yf(o,vt,e,t):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:yc,useCacheRefresh:qf};Jf.useEffectEvent=Rf;function Rc(e,t,o,r){t=e.memoizedState,o=o(r,t),o=o==null?t:S({},t,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Ic={enqueueSetState:function(e,t,o){e=e._reactInternals;var r=Qn(),h=an(r);h.payload=t,o!=null&&(h.callback=o),t=Kn(e,h,r),t!==null&&(Gn(t,e,r),uo(t,e,r))},enqueueReplaceState:function(e,t,o){e=e._reactInternals;var r=Qn(),h=an(r);h.tag=1,h.payload=t,o!=null&&(h.callback=o),t=Kn(e,h,r),t!==null&&(Gn(t,e,r),uo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var o=Qn(),r=an(o);r.tag=2,t!=null&&(r.callback=t),t=Kn(e,r,o),t!==null&&(Gn(t,e,o),uo(t,e,o))}};function Kf(e,t,o,r,h,g,A){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,g,A):t.prototype&&t.prototype.isPureReactComponent?!nn(o,r)||!nn(h,g):!0}function jf(e,t,o,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(o,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(o,r),t.state!==e&&Ic.enqueueReplaceState(t,t.state,null)}function Fa(e,t){var o=t;if("ref"in t){o={};for(var r in t)r!=="ref"&&(o[r]=t[r])}if(e=e.defaultProps){o===t&&(o=S({},o));for(var h in e)o[h]===void 0&&(o[h]=e[h])}return o}function Zf(e){ys(e)}function Xf(e){console.error(e)}function $f(e){ys(e)}function nu(e,t){try{var o=e.onUncaughtError;o(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Qf(e,t,o){try{var r=e.onCaughtError;r(o.value,{componentStack:o.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mc(e,t,o){return o=an(o),o.tag=3,o.payload={element:null},o.callback=function(){nu(e,t)},o}function Wf(e){return e=an(e),e.tag=3,e}function eh(e,t,o,r){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var g=r.value;e.payload=function(){return h(g)},e.callback=function(){Qf(t,o,r)}}var A=o.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(e.callback=function(){Qf(t,o,r),typeof h!="function"&&(sa===null?sa=new Set([this]):sa.add(this));var R=r.stack;this.componentDidCatch(r.value,{componentStack:R!==null?R:""})})}function my(e,t,o,r,h){if(o.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=o.alternate,t!==null&&$o(t,o,h,!0),o=jn.current,o!==null){switch(o.tag){case 31:case 13:return fi===null?pu():o.alternate===null&&Pt===0&&(Pt=3),o.flags&=-257,o.flags|=65536,o.lanes=h,r===K?o.flags|=16384:(t=o.updateQueue,t===null?o.updateQueue=new Set([r]):t.add(r),nd(e,r,h)),!1;case 22:return o.flags|=65536,r===K?o.flags|=16384:(t=o.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},o.updateQueue=t):(o=t.retryQueue,o===null?t.retryQueue=new Set([r]):o.add(r)),nd(e,r,h)),!1}throw Error(s(435,o.tag))}return nd(e,r,h),pu(),!1}if(nt)return t=jn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=h,r!==La&&(e=Error(s(422),{cause:r}),za(Mn(e,o)))):(r!==La&&(t=Error(s(423),{cause:r}),za(Mn(t,o))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,r=Mn(r,o),h=Mc(e.stateNode,r,h),co(e,h),Pt!==4&&(Pt=2)),!1;var g=Error(s(520),{cause:r});if(g=Mn(g,o),Zr===null?Zr=[g]:Zr.push(g),Pt!==4&&(Pt=2),t===null)return!0;r=Mn(r,o),o=t;do{switch(o.tag){case 3:return o.flags|=65536,e=h&-h,o.lanes|=e,e=Mc(o.stateNode,r,e),co(o,e),!1;case 1:if(t=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(sa===null||!sa.has(g))))return o.flags|=65536,h&=-h,o.lanes|=h,h=Wf(h),eh(h,e,o,r),co(o,h),!1}o=o.return}while(o!==null);return!1}var Dc=Error(s(461)),Ht=!1;function cn(e,t,o,r){t.child=e===null?qt(t,null,o,r):it(t,e.child,o,r)}function th(e,t,o,r,h){o=o.render;var g=t.ref;if("ref"in r){var A={};for(var R in r)R!=="ref"&&(A[R]=r[R])}else A=r;return ro(t),r=hc(e,t,o,A,g,h),R=pc(),e!==null&&!Ht?(mc(e,t,h),mo(e,t,h)):(nt&&R&&Rr(t),t.flags|=1,cn(e,t,r,h),t.child)}function nh(e,t,o,r,h){if(e===null){var g=o.type;return typeof g=="function"&&!wr(g)&&g.defaultProps===void 0&&o.compare===null?(t.tag=15,t.type=g,ih(e,t,g,r,h)):(e=Fi(o.type,null,r,t,t.mode,h),e.ref=t.ref,e.return=t,t.child=e)}if(g=e.child,!Vc(e,h)){var A=g.memoizedProps;if(o=o.compare,o=o!==null?o:nn,o(A,r)&&e.ref===t.ref)return mo(e,t,h)}return t.flags|=1,e=Ai(g,r),e.ref=t.ref,e.return=t,t.child=e}function ih(e,t,o,r,h){if(e!==null){var g=e.memoizedProps;if(nn(g,r)&&e.ref===t.ref)if(Ht=!1,t.pendingProps=r=g,Vc(e,h))(e.flags&131072)!==0&&(Ht=!0);else return t.lanes=e.lanes,mo(e,t,h)}return kc(e,t,o,r,h)}function oh(e,t,o,r){var h=r.children,g=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,e!==null){for(r=t.child=e.child,h=0;r!==null;)h=h|r.lanes|r.childLanes,r=r.sibling;r=h&~g}else r=0,t.child=null;return ah(e,t,g,o,r)}if((o&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ni(t,g!==null?g.cachePool:null),g!==null?rf(t,g):uc(),lf(t);else return r=t.lanes=536870912,ah(e,t,g!==null?g.baseLanes|o:o,o,r)}else g!==null?(Ni(t,g.cachePool),rf(t,g),na(),t.memoizedState=null):(e!==null&&Ni(t,null),uc(),na());return cn(e,t,h,o),t.child}function Fr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ah(e,t,o,r,h){var g=Cs();return g=g===null?null:{parent:Ct._currentValue,pool:g},t.memoizedState={baseLanes:o,cachePool:g},e!==null&&Ni(t,null),uc(),lf(t),e!==null&&$o(e,t,r,!0),t.childLanes=h,null}function iu(e,t){return t=au({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function sh(e,t,o){return it(t,e.child,null,o),e=iu(t,t.pendingProps),e.flags|=2,Zn(t),t.memoizedState=null,e}function gy(e,t,o){var r=t.pendingProps,h=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(nt){if(r.mode==="hidden")return e=iu(t,r),t.lanes=536870912,Fr(null,e);if(dc(t),(e=At)?(e=vp(e,Un),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Hi!==null?{id:ui,overflow:Yn}:null,retryLane:536870912,hydrationErrors:null},o=zl(e),o.return=t,t.child=o,jt=t,At=null)):e=null,e===null)throw Oi(t);return t.lanes=536870912,null}return iu(t,r)}var g=e.memoizedState;if(g!==null){var A=g.dehydrated;if(dc(t),h)if(t.flags&256)t.flags&=-257,t=sh(e,t,o);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(Ht||$o(e,t,o,!1),h=(o&e.childLanes)!==0,Ht||h){if(r=wt,r!==null&&(A=yl(r,o),A!==0&&A!==g.retryLane))throw g.retryLane=A,no(e,A),Gn(r,e,A),Dc;pu(),t=sh(e,t,o)}else e=g.treeContext,At=hi(A.nextSibling),jt=t,nt=!0,wi=null,Un=!1,e!==null&&Gl(t,e),t=iu(t,r),t.flags|=4096;return t}return e=Ai(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ou(e,t){var o=t.ref;if(o===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(e===null||e.ref!==o)&&(t.flags|=4194816)}}function kc(e,t,o,r,h){return ro(t),o=hc(e,t,o,r,void 0,h),r=pc(),e!==null&&!Ht?(mc(e,t,h),mo(e,t,h)):(nt&&r&&Rr(t),t.flags|=1,cn(e,t,o,h),t.child)}function rh(e,t,o,r,h,g){return ro(t),t.updateQueue=null,o=cf(t,r,o,h),uf(e),r=pc(),e!==null&&!Ht?(mc(e,t,g),mo(e,t,g)):(nt&&r&&Rr(t),t.flags|=1,cn(e,t,o,g),t.child)}function lh(e,t,o,r,h){if(ro(t),t.stateNode===null){var g=jo,A=o.contextType;typeof A=="object"&&A!==null&&(g=Zt(A)),g=new o(r,g),t.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Ic,t.stateNode=g,g._reactInternals=t,g=t.stateNode,g.props=r,g.state=t.memoizedState,g.refs={},Jn(t),A=o.contextType,g.context=typeof A=="object"&&A!==null?Zt(A):jo,g.state=t.memoizedState,A=o.getDerivedStateFromProps,typeof A=="function"&&(Rc(t,o,A,r),g.state=t.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(A=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),A!==g.state&&Ic.enqueueReplaceState(g,g.state,null),fo(t,r,g,h),ea(),g.state=t.memoizedState),typeof g.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){g=t.stateNode;var R=t.memoizedProps,F=Fa(o,R);g.props=F;var ie=g.context,ge=o.contextType;A=jo,typeof ge=="object"&&ge!==null&&(A=Zt(ge));var Ae=o.getDerivedStateFromProps;ge=typeof Ae=="function"||typeof g.getSnapshotBeforeUpdate=="function",R=t.pendingProps!==R,ge||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(R||ie!==A)&&jf(t,g,r,A),yt=!1;var ae=t.memoizedState;g.state=ae,fo(t,r,g,h),ea(),ie=t.memoizedState,R||ae!==ie||yt?(typeof Ae=="function"&&(Rc(t,o,Ae,r),ie=t.memoizedState),(F=yt||Kf(t,o,F,r,ae,ie,A))?(ge||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=ie),g.props=r,g.state=ie,g.context=A,r=F):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{g=t.stateNode,En(e,t),A=t.memoizedProps,ge=Fa(o,A),g.props=ge,Ae=t.pendingProps,ae=g.context,ie=o.contextType,F=jo,typeof ie=="object"&&ie!==null&&(F=Zt(ie)),R=o.getDerivedStateFromProps,(ie=typeof R=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A!==Ae||ae!==F)&&jf(t,g,r,F),yt=!1,ae=t.memoizedState,g.state=ae,fo(t,r,g,h),ea();var le=t.memoizedState;A!==Ae||ae!==le||yt||e!==null&&e.dependencies!==null&&As(e.dependencies)?(typeof R=="function"&&(Rc(t,o,R,r),le=t.memoizedState),(ge=yt||Kf(t,o,ge,r,ae,le,F)||e!==null&&e.dependencies!==null&&As(e.dependencies))?(ie||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(r,le,F),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(r,le,F)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||A===e.memoizedProps&&ae===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&ae===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=le),g.props=r,g.state=le,g.context=F,r=ge):(typeof g.componentDidUpdate!="function"||A===e.memoizedProps&&ae===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&ae===e.memoizedState||(t.flags|=1024),r=!1)}return g=r,ou(e,t),r=(t.flags&128)!==0,g||r?(g=t.stateNode,o=r&&typeof o.getDerivedStateFromError!="function"?null:g.render(),t.flags|=1,e!==null&&r?(t.child=it(t,e.child,null,h),t.child=it(t,null,o,h)):cn(e,t,o,h),t.memoizedState=g.state,e=t.child):e=mo(e,t,h),e}function uh(e,t,o,r){return ao(),t.flags|=256,cn(e,t,o,r),t.child}var Uc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pc(e){return{baseLanes:e,cachePool:T()}}function Lc(e,t,o){return e=e!==null?e.childLanes&~o:0,t&&(e|=$n),e}function ch(e,t,o){var r=t.pendingProps,h=!1,g=(t.flags&128)!==0,A;if((A=g)||(A=e!==null&&e.memoizedState===null?!1:(zt.current&2)!==0),A&&(h=!0,t.flags&=-129),A=(t.flags&32)!==0,t.flags&=-33,e===null){if(nt){if(h?ta(t):na(),(e=At)?(e=vp(e,Un),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Hi!==null?{id:ui,overflow:Yn}:null,retryLane:536870912,hydrationErrors:null},o=zl(e),o.return=t,t.child=o,jt=t,At=null)):e=null,e===null)throw Oi(t);return vd(e)?t.lanes=32:t.lanes=536870912,null}var R=r.children;return r=r.fallback,h?(na(),h=t.mode,R=au({mode:"hidden",children:R},h),r=On(r,h,o,null),R.return=t,r.return=t,R.sibling=r,t.child=R,r=t.child,r.memoizedState=Pc(o),r.childLanes=Lc(e,A,o),t.memoizedState=Uc,Fr(null,r)):(ta(t),zc(t,R))}var F=e.memoizedState;if(F!==null&&(R=F.dehydrated,R!==null)){if(g)t.flags&256?(ta(t),t.flags&=-257,t=Bc(e,t,o)):t.memoizedState!==null?(na(),t.child=e.child,t.flags|=128,t=null):(na(),R=r.fallback,h=t.mode,r=au({mode:"visible",children:r.children},h),R=On(R,h,o,null),R.flags|=2,r.return=t,R.return=t,r.sibling=R,t.child=r,it(t,e.child,null,o),r=t.child,r.memoizedState=Pc(o),r.childLanes=Lc(e,A,o),t.memoizedState=Uc,t=Fr(null,r));else if(ta(t),vd(R)){if(A=R.nextSibling&&R.nextSibling.dataset,A)var ie=A.dgst;A=ie,r=Error(s(419)),r.stack="",r.digest=A,za({value:r,source:null,stack:null}),t=Bc(e,t,o)}else if(Ht||$o(e,t,o,!1),A=(o&e.childLanes)!==0,Ht||A){if(A=wt,A!==null&&(r=yl(A,o),r!==0&&r!==F.retryLane))throw F.retryLane=r,no(e,r),Gn(A,e,r),Dc;yd(R)||pu(),t=Bc(e,t,o)}else yd(R)?(t.flags|=192,t.child=e.child,t=null):(e=F.treeContext,At=hi(R.nextSibling),jt=t,nt=!0,wi=null,Un=!1,e!==null&&Gl(t,e),t=zc(t,r.children),t.flags|=4096);return t}return h?(na(),R=r.fallback,h=t.mode,F=e.child,ie=F.sibling,r=Ai(F,{mode:"hidden",children:r.children}),r.subtreeFlags=F.subtreeFlags&65011712,ie!==null?R=Ai(ie,R):(R=On(R,h,o,null),R.flags|=2),R.return=t,r.return=t,r.sibling=R,t.child=r,Fr(null,r),r=t.child,R=e.child.memoizedState,R===null?R=Pc(o):(h=R.cachePool,h!==null?(F=Ct._currentValue,h=h.parent!==F?{parent:F,pool:F}:h):h=T(),R={baseLanes:R.baseLanes|o,cachePool:h}),r.memoizedState=R,r.childLanes=Lc(e,A,o),t.memoizedState=Uc,Fr(e.child,r)):(ta(t),o=e.child,e=o.sibling,o=Ai(o,{mode:"visible",children:r.children}),o.return=t,o.sibling=null,e!==null&&(A=t.deletions,A===null?(t.deletions=[e],t.flags|=16):A.push(e)),t.child=o,t.memoizedState=null,o)}function zc(e,t){return t=au({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function au(e,t){return e=Tn(22,e,null,t),e.lanes=0,e}function Bc(e,t,o){return it(t,e.child,null,o),e=zc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dh(e,t,o){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Dr(e.return,t,o)}function Gc(e,t,o,r,h,g){var A=e.memoizedState;A===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:o,tailMode:h,treeForkCount:g}:(A.isBackwards=t,A.rendering=null,A.renderingStartTime=0,A.last=r,A.tail=o,A.tailMode=h,A.treeForkCount=g)}function fh(e,t,o){var r=t.pendingProps,h=r.revealOrder,g=r.tail;r=r.children;var A=zt.current,R=(A&2)!==0;if(R?(A=A&1|2,t.flags|=128):A&=1,fe(zt,A),cn(e,t,r,o),r=nt?oo:0,!R&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dh(e,o,t);else if(e.tag===19)dh(e,o,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(o=t.child,h=null;o!==null;)e=o.alternate,e!==null&&Kl(e)===null&&(h=o),o=o.sibling;o=h,o===null?(h=t.child,t.child=null):(h=o.sibling,o.sibling=null),Gc(t,!1,h,o,g,r);break;case"backwards":case"unstable_legacy-backwards":for(o=null,h=t.child,t.child=null;h!==null;){if(e=h.alternate,e!==null&&Kl(e)===null){t.child=h;break}e=h.sibling,h.sibling=o,o=h,h=e}Gc(t,!0,o,null,g,r);break;case"together":Gc(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function mo(e,t,o){if(e!==null&&(t.dependencies=e.dependencies),aa|=t.lanes,(o&t.childLanes)===0)if(e!==null){if($o(e,t,o,!1),(o&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,o=Ai(e,e.pendingProps),t.child=o,o.return=t;e.sibling!==null;)e=e.sibling,o=o.sibling=Ai(e,e.pendingProps),o.return=t;o.sibling=null}return t.child}function Vc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&As(e)))}function yy(e,t,o){switch(t.tag){case 3:Je(t,t.stateNode.containerInfo),Yi(t,Ct,e.memoizedState.cache),ao();break;case 27:case 5:bt(t);break;case 4:Je(t,t.stateNode.containerInfo);break;case 10:Yi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,dc(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(ta(t),t.flags|=128,null):(o&t.child.childLanes)!==0?ch(e,t,o):(ta(t),e=mo(e,t,o),e!==null?e.sibling:null);ta(t);break;case 19:var h=(e.flags&128)!==0;if(r=(o&t.childLanes)!==0,r||($o(e,t,o,!1),r=(o&t.childLanes)!==0),h){if(r)return fh(e,t,o);t.flags|=128}if(h=t.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),fe(zt,zt.current),r)break;return null;case 22:return t.lanes=0,oh(e,t,o,t.pendingProps);case 24:Yi(t,Ct,e.memoizedState.cache)}return mo(e,t,o)}function hh(e,t,o){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ht=!0;else{if(!Vc(e,o)&&(t.flags&128)===0)return Ht=!1,yy(e,t,o);Ht=(e.flags&131072)!==0}else Ht=!1,nt&&(t.flags&1048576)!==0&&Nr(t,oo,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=Ee(t.elementType),t.type=e,typeof e=="function")wr(e)?(r=Fa(e,r),t.tag=1,t=lh(null,t,e,r,o)):(t.tag=0,t=kc(null,t,e,r,o));else{if(e!=null){var h=e.$$typeof;if(h===q){t.tag=11,t=th(null,t,e,r,o);break e}else if(h===J){t.tag=14,t=nh(null,t,e,r,o);break e}}throw t=b(e)||e,Error(s(306,t,""))}}return t;case 0:return kc(e,t,t.type,t.pendingProps,o);case 1:return r=t.type,h=Fa(r,t.pendingProps),lh(e,t,r,h,o);case 3:e:{if(Je(t,t.stateNode.containerInfo),e===null)throw Error(s(387));r=t.pendingProps;var g=t.memoizedState;h=g.element,En(e,t),fo(t,r,null,o);var A=t.memoizedState;if(r=A.cache,Yi(t,Ct,r),r!==g.cache&&kr(t,[Ct],o,!0),ea(),r=A.element,g.isDehydrated)if(g={element:r,isDehydrated:!1,cache:A.cache},t.updateQueue.baseState=g,t.memoizedState=g,t.flags&256){t=uh(e,t,r,o);break e}else if(r!==h){h=Mn(Error(s(424)),t),za(h),t=uh(e,t,r,o);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(At=hi(e.firstChild),jt=t,nt=!0,wi=null,Un=!0,o=qt(t,null,r,o),t.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ao(),r===h){t=mo(e,t,o);break e}cn(e,t,r,o)}t=t.child}return t;case 26:return ou(e,t),e===null?(o=Cp(t.type,null,t.pendingProps,null))?t.memoizedState=o:nt||(o=t.type,e=t.pendingProps,r=Tu(Le.current).createElement(o),r[Et]=t,r[ln]=e,dn(r,o,e),Gt(r),t.stateNode=r):t.memoizedState=Cp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return bt(t),e===null&&nt&&(r=t.stateNode=Tp(t.type,t.pendingProps,Le.current),jt=t,Un=!0,h=At,ca(t.type)?(_d=h,At=hi(r.firstChild)):At=h),cn(e,t,t.pendingProps.children,o),ou(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&nt&&((h=r=At)&&(r=Ky(r,t.type,t.pendingProps,Un),r!==null?(t.stateNode=r,jt=t,At=hi(r.firstChild),Un=!1,h=!0):h=!1),h||Oi(t)),bt(t),h=t.type,g=t.pendingProps,A=e!==null?e.memoizedProps:null,r=g.children,pd(h,g)?r=null:A!==null&&pd(h,A)&&(t.flags|=32),t.memoizedState!==null&&(h=hc(e,t,ly,null,null,o),il._currentValue=h),ou(e,t),cn(e,t,r,o),t.child;case 6:return e===null&&nt&&((e=o=At)&&(o=jy(o,t.pendingProps,Un),o!==null?(t.stateNode=o,jt=t,At=null,e=!0):e=!1),e||Oi(t)),null;case 13:return ch(e,t,o);case 4:return Je(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=it(t,null,r,o):cn(e,t,r,o),t.child;case 11:return th(e,t,t.type,t.pendingProps,o);case 7:return cn(e,t,t.pendingProps,o),t.child;case 8:return cn(e,t,t.pendingProps.children,o),t.child;case 12:return cn(e,t,t.pendingProps.children,o),t.child;case 10:return r=t.pendingProps,Yi(t,t.type,r.value),cn(e,t,r.children,o),t.child;case 9:return h=t.type._context,r=t.pendingProps.children,ro(t),h=Zt(h),r=r(h),t.flags|=1,cn(e,t,r,o),t.child;case 14:return nh(e,t,t.type,t.pendingProps,o);case 15:return ih(e,t,t.type,t.pendingProps,o);case 19:return fh(e,t,o);case 31:return gy(e,t,o);case 22:return oh(e,t,o,t.pendingProps);case 24:return ro(t),r=Zt(Ct),e===null?(h=Cs(),h===null&&(h=wt,g=Ur(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=o),h=g),t.memoizedState={parent:r,cache:h},Jn(t),Yi(t,Ct,h)):((e.lanes&o)!==0&&(En(e,t),fo(t,null,null,o),ea()),h=e.memoizedState,g=t.memoizedState,h.parent!==r?(h={parent:r,cache:r},t.memoizedState=h,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=h),Yi(t,Ct,r)):(r=g.cache,Yi(t,Ct,r),r!==h.cache&&kr(t,[Ct],o,!0))),cn(e,t,t.pendingProps.children,o),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function go(e){e.flags|=4}function qc(e,t,o,r,h){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Vh())e.flags|=8192;else throw we=K,P}else e.flags&=-16777217}function ph(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Rp(t))if(Vh())e.flags|=8192;else throw we=K,P}function su(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Xs():536870912,e.lanes|=t,Ds|=t)}function Hr(e,t){if(!nt)switch(e.tailMode){case"hidden":t=e.tail;for(var o=null;t!==null;)t.alternate!==null&&(o=t),t=t.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var r=null;o!==null;)o.alternate!==null&&(r=o),o=o.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function It(e){var t=e.alternate!==null&&e.alternate.child===e.child,o=0,r=0;if(t)for(var h=e.child;h!==null;)o|=h.lanes|h.childLanes,r|=h.subtreeFlags&65011712,r|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)o|=h.lanes|h.childLanes,r|=h.subtreeFlags,r|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=r,e.childLanes=o,t}function vy(e,t,o){var r=t.pendingProps;switch(Es(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(t),null;case 1:return It(t),null;case 3:return o=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ci(Ct),Fe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Xo(t)?go(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Mr())),It(t),null;case 26:var h=t.type,g=t.memoizedState;return e===null?(go(t),g!==null?(It(t),ph(t,g)):(It(t),qc(t,h,null,r,o))):g?g!==e.memoizedState?(go(t),It(t),ph(t,g)):(It(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&go(t),It(t),qc(t,h,e,r,o)),null;case 27:if(pt(t),o=Le.current,h=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&go(t);else{if(!r){if(t.stateNode===null)throw Error(s(166));return It(t),null}e=ce.current,Xo(t)?Ir(t):(e=Tp(h,r,o),t.stateNode=e,go(t))}return It(t),null;case 5:if(pt(t),h=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&go(t);else{if(!r){if(t.stateNode===null)throw Error(s(166));return It(t),null}if(g=ce.current,Xo(t))Ir(t);else{var A=Tu(Le.current);switch(g){case 1:g=A.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:g=A.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":g=A.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":g=A.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":g=A.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof r.is=="string"?A.createElement("select",{is:r.is}):A.createElement("select"),r.multiple?g.multiple=!0:r.size&&(g.size=r.size);break;default:g=typeof r.is=="string"?A.createElement(h,{is:r.is}):A.createElement(h)}}g[Et]=t,g[ln]=r;e:for(A=t.child;A!==null;){if(A.tag===5||A.tag===6)g.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===t)break e;for(;A.sibling===null;){if(A.return===null||A.return===t)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}t.stateNode=g;e:switch(dn(g,h,r),h){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&go(t)}}return It(t),qc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,o),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&go(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(s(166));if(e=Le.current,Xo(t)){if(e=t.stateNode,o=t.memoizedProps,r=null,h=jt,h!==null)switch(h.tag){case 27:case 5:r=h.memoizedProps}e[Et]=t,e=!!(e.nodeValue===o||r!==null&&r.suppressHydrationWarning===!0||cp(e.nodeValue,o)),e||Oi(t,!0)}else e=Tu(e).createTextNode(r),e[Et]=t,t.stateNode=e}return It(t),null;case 31:if(o=t.memoizedState,e===null||e.memoizedState!==null){if(r=Xo(t),o!==null){if(e===null){if(!r)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Et]=t}else ao(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;It(t),e=!1}else o=Mr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return t.flags&256?(Zn(t),t):(Zn(t),null);if((t.flags&128)!==0)throw Error(s(558))}return It(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Xo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Et]=t}else ao(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;It(t),h=!1}else h=Mr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return t.flags&256?(Zn(t),t):(Zn(t),null)}return Zn(t),(t.flags&128)!==0?(t.lanes=o,t):(o=r!==null,e=e!==null&&e.memoizedState!==null,o&&(r=t.child,h=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(h=r.alternate.memoizedState.cachePool.pool),g=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(g=r.memoizedState.cachePool.pool),g!==h&&(r.flags|=2048)),o!==e&&o&&(t.child.flags|=8192),su(t,t.updateQueue),It(t),null);case 4:return Fe(),e===null&&ud(t.stateNode.containerInfo),It(t),null;case 10:return ci(t.type),It(t),null;case 19:if(B(zt),r=t.memoizedState,r===null)return It(t),null;if(h=(t.flags&128)!==0,g=r.rendering,g===null)if(h)Hr(r,!1);else{if(Pt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(g=Kl(e),g!==null){for(t.flags|=128,Hr(r,!1),e=g.updateQueue,t.updateQueue=e,su(t,e),t.subtreeFlags=0,e=o,o=t.child;o!==null;)Ll(o,e),o=o.sibling;return fe(zt,zt.current&1|2),nt&&xi(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&De()>du&&(t.flags|=128,h=!0,Hr(r,!1),t.lanes=4194304)}else{if(!h)if(e=Kl(g),e!==null){if(t.flags|=128,h=!0,e=e.updateQueue,t.updateQueue=e,su(t,e),Hr(r,!0),r.tail===null&&r.tailMode==="hidden"&&!g.alternate&&!nt)return It(t),null}else 2*De()-r.renderingStartTime>du&&o!==536870912&&(t.flags|=128,h=!0,Hr(r,!1),t.lanes=4194304);r.isBackwards?(g.sibling=t.child,t.child=g):(e=r.last,e!==null?e.sibling=g:t.child=g,r.last=g)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=De(),e.sibling=null,o=zt.current,fe(zt,h?o&1|2:o&1),nt&&xi(t,r.treeForkCount),e):(It(t),null);case 22:case 23:return Zn(t),cc(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(o&536870912)!==0&&(t.flags&128)===0&&(It(t),t.subtreeFlags&6&&(t.flags|=8192)):It(t),o=t.updateQueue,o!==null&&su(t,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==o&&(t.flags|=2048),e!==null&&B(di),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),t.memoizedState.cache!==o&&(t.flags|=2048),ci(Ct),It(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function _y(e,t){switch(Es(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ci(Ct),Fe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return pt(t),null;case 31:if(t.memoizedState!==null){if(Zn(t),t.alternate===null)throw Error(s(340));ao()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Zn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));ao()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return B(zt),null;case 4:return Fe(),null;case 10:return ci(t.type),null;case 22:case 23:return Zn(t),cc(),e!==null&&B(di),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ci(Ct),null;case 25:return null;default:return null}}function mh(e,t){switch(Es(t),t.tag){case 3:ci(Ct),Fe();break;case 26:case 27:case 5:pt(t);break;case 4:Fe();break;case 31:t.memoizedState!==null&&Zn(t);break;case 13:Zn(t);break;case 19:B(zt);break;case 10:ci(t.type);break;case 22:case 23:Zn(t),cc(),e!==null&&B(di);break;case 24:ci(Ct)}}function Or(e,t){try{var o=t.updateQueue,r=o!==null?o.lastEffect:null;if(r!==null){var h=r.next;o=h;do{if((o.tag&e)===e){r=void 0;var g=o.create,A=o.inst;r=g(),A.destroy=r}o=o.next}while(o!==h)}}catch(R){gt(t,t.return,R)}}function ia(e,t,o){try{var r=t.updateQueue,h=r!==null?r.lastEffect:null;if(h!==null){var g=h.next;r=g;do{if((r.tag&e)===e){var A=r.inst,R=A.destroy;if(R!==void 0){A.destroy=void 0,h=t;var F=o,ie=R;try{ie()}catch(ge){gt(h,F,ge)}}}r=r.next}while(r!==g)}}catch(ge){gt(t,t.return,ge)}}function gh(e){var t=e.updateQueue;if(t!==null){var o=e.stateNode;try{sf(t,o)}catch(r){gt(e,e.return,r)}}}function yh(e,t,o){o.props=Fa(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(r){gt(e,t,r)}}function Yr(e,t){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof o=="function"?e.refCleanup=o(r):o.current=r}}catch(h){gt(e,t,h)}}function Ki(e,t){var o=e.ref,r=e.refCleanup;if(o!==null)if(typeof r=="function")try{r()}catch(h){gt(e,t,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){gt(e,t,h)}else o.current=null}function vh(e){var t=e.type,o=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":o.autoFocus&&r.focus();break e;case"img":o.src?r.src=o.src:o.srcSet&&(r.srcset=o.srcSet)}}catch(h){gt(e,e.return,h)}}function Fc(e,t,o){try{var r=e.stateNode;qy(r,e.type,o,t),r[ln]=t}catch(h){gt(e,e.return,h)}}function _h(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ca(e.type)||e.tag===4}function Hc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_h(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ca(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Oc(e,t,o){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,t):(t=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,t.appendChild(e),o=o._reactRootContainer,o!=null||t.onclick!==null||(t.onclick=ii));else if(r!==4&&(r===27&&ca(e.type)&&(o=e.stateNode,t=null),e=e.child,e!==null))for(Oc(e,t,o),e=e.sibling;e!==null;)Oc(e,t,o),e=e.sibling}function ru(e,t,o){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?o.insertBefore(e,t):o.appendChild(e);else if(r!==4&&(r===27&&ca(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(ru(e,t,o),e=e.sibling;e!==null;)ru(e,t,o),e=e.sibling}function Sh(e){var t=e.stateNode,o=e.memoizedProps;try{for(var r=e.type,h=t.attributes;h.length;)t.removeAttributeNode(h[0]);dn(t,r,o),t[Et]=e,t[ln]=o}catch(g){gt(e,e.return,g)}}var yo=!1,Ot=!1,Yc=!1,Th=typeof WeakSet=="function"?WeakSet:Set,sn=null;function Sy(e,t){if(e=e.containerInfo,fd=Nu,e=ps(e),Oo(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var r=o.getSelection&&o.getSelection();if(r&&r.rangeCount!==0){o=r.anchorNode;var h=r.anchorOffset,g=r.focusNode;r=r.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var A=0,R=-1,F=-1,ie=0,ge=0,Ae=e,ae=null;t:for(;;){for(var le;Ae!==o||h!==0&&Ae.nodeType!==3||(R=A+h),Ae!==g||r!==0&&Ae.nodeType!==3||(F=A+r),Ae.nodeType===3&&(A+=Ae.nodeValue.length),(le=Ae.firstChild)!==null;)ae=Ae,Ae=le;for(;;){if(Ae===e)break t;if(ae===o&&++ie===h&&(R=A),ae===g&&++ge===r&&(F=A),(le=Ae.nextSibling)!==null)break;Ae=ae,ae=Ae.parentNode}Ae=le}o=R===-1||F===-1?null:{start:R,end:F}}else o=null}o=o||{start:0,end:0}}else o=null;for(hd={focusedElem:e,selectionRange:o},Nu=!1,sn=t;sn!==null;)if(t=sn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,sn=e;else for(;sn!==null;){switch(t=sn,g=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)h=e[o],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,o=t,h=g.memoizedProps,g=g.memoizedState,r=o.stateNode;try{var ze=Fa(o.type,h);e=r.getSnapshotBeforeUpdate(ze,g),r.__reactInternalSnapshotBeforeUpdate=e}catch(Ke){gt(o,o.return,Ke)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,o=e.nodeType,o===9)gd(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,sn=e;break}sn=t.return}}function Eh(e,t,o){var r=o.flags;switch(o.tag){case 0:case 11:case 15:_o(e,o),r&4&&Or(5,o);break;case 1:if(_o(e,o),r&4)if(e=o.stateNode,t===null)try{e.componentDidMount()}catch(A){gt(o,o.return,A)}else{var h=Fa(o.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(h,t,e.__reactInternalSnapshotBeforeUpdate)}catch(A){gt(o,o.return,A)}}r&64&&gh(o),r&512&&Yr(o,o.return);break;case 3:if(_o(e,o),r&64&&(e=o.updateQueue,e!==null)){if(t=null,o.child!==null)switch(o.child.tag){case 27:case 5:t=o.child.stateNode;break;case 1:t=o.child.stateNode}try{sf(e,t)}catch(A){gt(o,o.return,A)}}break;case 27:t===null&&r&4&&Sh(o);case 26:case 5:_o(e,o),t===null&&r&4&&vh(o),r&512&&Yr(o,o.return);break;case 12:_o(e,o);break;case 31:_o(e,o),r&4&&xh(e,o);break;case 13:_o(e,o),r&4&&wh(e,o),r&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=Ry.bind(null,o),Zy(e,o))));break;case 22:if(r=o.memoizedState!==null||yo,!r){t=t!==null&&t.memoizedState!==null||Ot,h=yo;var g=Ot;yo=r,(Ot=t)&&!g?So(e,o,(o.subtreeFlags&8772)!==0):_o(e,o),yo=h,Ot=g}break;case 30:break;default:_o(e,o)}}function Ah(e){var t=e.alternate;t!==null&&(e.alternate=null,Ah(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ta(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Dt=null,Pn=!1;function vo(e,t,o){for(o=o.child;o!==null;)Ch(e,t,o),o=o.sibling}function Ch(e,t,o){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(tt,o)}catch{}switch(o.tag){case 26:Ot||Ki(o,t),vo(e,t,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ot||Ki(o,t);var r=Dt,h=Pn;ca(o.type)&&(Dt=o.stateNode,Pn=!1),vo(e,t,o),el(o.stateNode),Dt=r,Pn=h;break;case 5:Ot||Ki(o,t);case 6:if(r=Dt,h=Pn,Dt=null,vo(e,t,o),Dt=r,Pn=h,Dt!==null)if(Pn)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(o.stateNode)}catch(g){gt(o,t,g)}else try{Dt.removeChild(o.stateNode)}catch(g){gt(o,t,g)}break;case 18:Dt!==null&&(Pn?(e=Dt,gp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Vs(e)):gp(Dt,o.stateNode));break;case 4:r=Dt,h=Pn,Dt=o.stateNode.containerInfo,Pn=!0,vo(e,t,o),Dt=r,Pn=h;break;case 0:case 11:case 14:case 15:ia(2,o,t),Ot||ia(4,o,t),vo(e,t,o);break;case 1:Ot||(Ki(o,t),r=o.stateNode,typeof r.componentWillUnmount=="function"&&yh(o,t,r)),vo(e,t,o);break;case 21:vo(e,t,o);break;case 22:Ot=(r=Ot)||o.memoizedState!==null,vo(e,t,o),Ot=r;break;default:vo(e,t,o)}}function xh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Vs(e)}catch(o){gt(t,t.return,o)}}}function wh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Vs(e)}catch(o){gt(t,t.return,o)}}function Ty(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Th),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Th),t;default:throw Error(s(435,e.tag))}}function lu(e,t){var o=Ty(e);t.forEach(function(r){if(!o.has(r)){o.add(r);var h=Iy.bind(null,e,r);r.then(h,h)}})}function Ln(e,t){var o=t.deletions;if(o!==null)for(var r=0;r<o.length;r++){var h=o[r],g=e,A=t,R=A;e:for(;R!==null;){switch(R.tag){case 27:if(ca(R.type)){Dt=R.stateNode,Pn=!1;break e}break;case 5:Dt=R.stateNode,Pn=!1;break e;case 3:case 4:Dt=R.stateNode.containerInfo,Pn=!0;break e}R=R.return}if(Dt===null)throw Error(s(160));Ch(g,A,h),Dt=null,Pn=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)bh(t,e),t=t.sibling}var Ri=null;function bh(e,t){var o=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ln(t,e),zn(e),r&4&&(ia(3,e,e.return),Or(3,e),ia(5,e,e.return));break;case 1:Ln(t,e),zn(e),r&512&&(Ot||o===null||Ki(o,o.return)),r&64&&yo&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?r:o.concat(r))));break;case 26:var h=Ri;if(Ln(t,e),zn(e),r&512&&(Ot||o===null||Ki(o,o.return)),r&4){var g=o!==null?o.memoizedState:null;if(r=e.memoizedState,o===null)if(r===null)if(e.stateNode===null){e:{r=e.type,o=e.memoizedProps,h=h.ownerDocument||h;t:switch(r){case"title":g=h.getElementsByTagName("title")[0],(!g||g[Sa]||g[Et]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(r),h.head.insertBefore(g,h.querySelector("head > title"))),dn(g,r,o),g[Et]=e,Gt(g),r=g;break e;case"link":var A=bp("link","href",h).get(r+(o.href||""));if(A){for(var R=0;R<A.length;R++)if(g=A[R],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){A.splice(R,1);break t}}g=h.createElement(r),dn(g,r,o),h.head.appendChild(g);break;case"meta":if(A=bp("meta","content",h).get(r+(o.content||""))){for(R=0;R<A.length;R++)if(g=A[R],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){A.splice(R,1);break t}}g=h.createElement(r),dn(g,r,o),h.head.appendChild(g);break;default:throw Error(s(468,r))}g[Et]=e,Gt(g),r=g}e.stateNode=r}else Np(h,e.type,e.stateNode);else e.stateNode=wp(h,r,e.memoizedProps);else g!==r?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,r===null?Np(h,e.type,e.stateNode):wp(h,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Fc(e,e.memoizedProps,o.memoizedProps)}break;case 27:Ln(t,e),zn(e),r&512&&(Ot||o===null||Ki(o,o.return)),o!==null&&r&4&&Fc(e,e.memoizedProps,o.memoizedProps);break;case 5:if(Ln(t,e),zn(e),r&512&&(Ot||o===null||Ki(o,o.return)),e.flags&32){h=e.stateNode;try{xn(h,"")}catch(ze){gt(e,e.return,ze)}}r&4&&e.stateNode!=null&&(h=e.memoizedProps,Fc(e,h,o!==null?o.memoizedProps:h)),r&1024&&(Yc=!0);break;case 6:if(Ln(t,e),zn(e),r&4){if(e.stateNode===null)throw Error(s(162));r=e.memoizedProps,o=e.stateNode;try{o.nodeValue=r}catch(ze){gt(e,e.return,ze)}}break;case 3:if(Cu=null,h=Ri,Ri=Eu(t.containerInfo),Ln(t,e),Ri=h,zn(e),r&4&&o!==null&&o.memoizedState.isDehydrated)try{Vs(t.containerInfo)}catch(ze){gt(e,e.return,ze)}Yc&&(Yc=!1,Nh(e));break;case 4:r=Ri,Ri=Eu(e.stateNode.containerInfo),Ln(t,e),zn(e),Ri=r;break;case 12:Ln(t,e),zn(e);break;case 31:Ln(t,e),zn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,lu(e,r)));break;case 13:Ln(t,e),zn(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(cu=De()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,lu(e,r)));break;case 22:h=e.memoizedState!==null;var F=o!==null&&o.memoizedState!==null,ie=yo,ge=Ot;if(yo=ie||h,Ot=ge||F,Ln(t,e),Ot=ge,yo=ie,zn(e),r&8192)e:for(t=e.stateNode,t._visibility=h?t._visibility&-2:t._visibility|1,h&&(o===null||F||yo||Ot||Ha(e)),o=null,t=e;;){if(t.tag===5||t.tag===26){if(o===null){F=o=t;try{if(g=F.stateNode,h)A=g.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{R=F.stateNode;var Ae=F.memoizedProps.style,ae=Ae!=null&&Ae.hasOwnProperty("display")?Ae.display:null;R.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(ze){gt(F,F.return,ze)}}}else if(t.tag===6){if(o===null){F=t;try{F.stateNode.nodeValue=h?"":F.memoizedProps}catch(ze){gt(F,F.return,ze)}}}else if(t.tag===18){if(o===null){F=t;try{var le=F.stateNode;h?yp(le,!0):yp(F.stateNode,!1)}catch(ze){gt(F,F.return,ze)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;o===t&&(o=null),t=t.return}o===t&&(o=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(o=r.retryQueue,o!==null&&(r.retryQueue=null,lu(e,o))));break;case 19:Ln(t,e),zn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,lu(e,r)));break;case 30:break;case 21:break;default:Ln(t,e),zn(e)}}function zn(e){var t=e.flags;if(t&2){try{for(var o,r=e.return;r!==null;){if(_h(r)){o=r;break}r=r.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var h=o.stateNode,g=Hc(e);ru(e,g,h);break;case 5:var A=o.stateNode;o.flags&32&&(xn(A,""),o.flags&=-33);var R=Hc(e);ru(e,R,A);break;case 3:case 4:var F=o.stateNode.containerInfo,ie=Hc(e);Oc(e,ie,F);break;default:throw Error(s(161))}}catch(ge){gt(e,e.return,ge)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Nh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Nh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function _o(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Eh(e,t.alternate,t),t=t.sibling}function Ha(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ia(4,t,t.return),Ha(t);break;case 1:Ki(t,t.return);var o=t.stateNode;typeof o.componentWillUnmount=="function"&&yh(t,t.return,o),Ha(t);break;case 27:el(t.stateNode);case 26:case 5:Ki(t,t.return),Ha(t);break;case 22:t.memoizedState===null&&Ha(t);break;case 30:Ha(t);break;default:Ha(t)}e=e.sibling}}function So(e,t,o){for(o=o&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,h=e,g=t,A=g.flags;switch(g.tag){case 0:case 11:case 15:So(h,g,o),Or(4,g);break;case 1:if(So(h,g,o),r=g,h=r.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(ie){gt(r,r.return,ie)}if(r=g,h=r.updateQueue,h!==null){var R=r.stateNode;try{var F=h.shared.hiddenCallbacks;if(F!==null)for(h.shared.hiddenCallbacks=null,h=0;h<F.length;h++)Yl(F[h],R)}catch(ie){gt(r,r.return,ie)}}o&&A&64&&gh(g),Yr(g,g.return);break;case 27:Sh(g);case 26:case 5:So(h,g,o),o&&r===null&&A&4&&vh(g),Yr(g,g.return);break;case 12:So(h,g,o);break;case 31:So(h,g,o),o&&A&4&&xh(h,g);break;case 13:So(h,g,o),o&&A&4&&wh(h,g);break;case 22:g.memoizedState===null&&So(h,g,o),Yr(g,g.return);break;case 30:break;default:So(h,g,o)}t=t.sibling}}function Jc(e,t){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Ji(o))}function Kc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ji(e))}function Ii(e,t,o,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Rh(e,t,o,r),t=t.sibling}function Rh(e,t,o,r){var h=t.flags;switch(t.tag){case 0:case 11:case 15:Ii(e,t,o,r),h&2048&&Or(9,t);break;case 1:Ii(e,t,o,r);break;case 3:Ii(e,t,o,r),h&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ji(e)));break;case 12:if(h&2048){Ii(e,t,o,r),e=t.stateNode;try{var g=t.memoizedProps,A=g.id,R=g.onPostCommit;typeof R=="function"&&R(A,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(F){gt(t,t.return,F)}}else Ii(e,t,o,r);break;case 31:Ii(e,t,o,r);break;case 13:Ii(e,t,o,r);break;case 23:break;case 22:g=t.stateNode,A=t.alternate,t.memoizedState!==null?g._visibility&2?Ii(e,t,o,r):Jr(e,t):g._visibility&2?Ii(e,t,o,r):(g._visibility|=2,Rs(e,t,o,r,(t.subtreeFlags&10256)!==0||!1)),h&2048&&Jc(A,t);break;case 24:Ii(e,t,o,r),h&2048&&Kc(t.alternate,t);break;default:Ii(e,t,o,r)}}function Rs(e,t,o,r,h){for(h=h&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var g=e,A=t,R=o,F=r,ie=A.flags;switch(A.tag){case 0:case 11:case 15:Rs(g,A,R,F,h),Or(8,A);break;case 23:break;case 22:var ge=A.stateNode;A.memoizedState!==null?ge._visibility&2?Rs(g,A,R,F,h):Jr(g,A):(ge._visibility|=2,Rs(g,A,R,F,h)),h&&ie&2048&&Jc(A.alternate,A);break;case 24:Rs(g,A,R,F,h),h&&ie&2048&&Kc(A.alternate,A);break;default:Rs(g,A,R,F,h)}t=t.sibling}}function Jr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var o=e,r=t,h=r.flags;switch(r.tag){case 22:Jr(o,r),h&2048&&Jc(r.alternate,r);break;case 24:Jr(o,r),h&2048&&Kc(r.alternate,r);break;default:Jr(o,r)}t=t.sibling}}var Kr=8192;function Is(e,t,o){if(e.subtreeFlags&Kr)for(e=e.child;e!==null;)Ih(e,t,o),e=e.sibling}function Ih(e,t,o){switch(e.tag){case 26:Is(e,t,o),e.flags&Kr&&e.memoizedState!==null&&rv(o,Ri,e.memoizedState,e.memoizedProps);break;case 5:Is(e,t,o);break;case 3:case 4:var r=Ri;Ri=Eu(e.stateNode.containerInfo),Is(e,t,o),Ri=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Kr,Kr=16777216,Is(e,t,o),Kr=r):Is(e,t,o));break;default:Is(e,t,o)}}function Mh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function jr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var o=0;o<t.length;o++){var r=t[o];sn=r,kh(r,e)}Mh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Dh(e),e=e.sibling}function Dh(e){switch(e.tag){case 0:case 11:case 15:jr(e),e.flags&2048&&ia(9,e,e.return);break;case 3:jr(e);break;case 12:jr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,uu(e)):jr(e);break;default:jr(e)}}function uu(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var o=0;o<t.length;o++){var r=t[o];sn=r,kh(r,e)}Mh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ia(8,t,t.return),uu(t);break;case 22:o=t.stateNode,o._visibility&2&&(o._visibility&=-3,uu(t));break;default:uu(t)}e=e.sibling}}function kh(e,t){for(;sn!==null;){var o=sn;switch(o.tag){case 0:case 11:case 15:ia(8,o,t);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var r=o.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Ji(o.memoizedState.cache)}if(r=o.child,r!==null)r.return=o,sn=r;else e:for(o=e;sn!==null;){r=sn;var h=r.sibling,g=r.return;if(Ah(r),r===o){sn=null;break e}if(h!==null){h.return=g,sn=h;break e}sn=g}}}var Ey={getCacheForType:function(e){var t=Zt(Ct),o=t.data.get(e);return o===void 0&&(o=e(),t.data.set(e,o)),o},cacheSignal:function(){return Zt(Ct).controller.signal}},Ay=typeof WeakMap=="function"?WeakMap:Map,ht=0,wt=null,ot=null,rt=0,mt=0,Xn=null,oa=!1,Ms=!1,jc=!1,To=0,Pt=0,aa=0,Oa=0,Zc=0,$n=0,Ds=0,Zr=null,Bn=null,Xc=!1,cu=0,Uh=0,du=1/0,fu=null,sa=null,Xt=0,ra=null,ks=null,Eo=0,$c=0,Qc=null,Ph=null,Xr=0,Wc=null;function Qn(){return(ht&2)!==0&&rt!==0?rt&-rt:X.T!==null?ad():Xa()}function Lh(){if($n===0)if((rt&536870912)===0||nt){var e=We;We<<=1,(We&3932160)===0&&(We=262144),$n=e}else $n=536870912;return e=jn.current,e!==null&&(e.flags|=32),$n}function Gn(e,t,o){(e===wt&&(mt===2||mt===9)||e.cancelPendingCommit!==null)&&(Us(e,0),la(e,rt,$n,!1)),Ui(e,o),((ht&2)===0||e!==wt)&&(e===wt&&((ht&2)===0&&(Oa|=o),Pt===4&&la(e,rt,$n,!1)),ji(e))}function zh(e,t,o){if((ht&6)!==0)throw Error(s(327));var r=!o&&(t&127)===0&&(t&e.expiredLanes)===0||Io(e,t),h=r?wy(e,t):td(e,t,!0),g=r;do{if(h===0){Ms&&!r&&la(e,t,0,!1);break}else{if(o=e.current.alternate,g&&!Cy(o)){h=td(e,t,!1),g=!1;continue}if(h===2){if(g=t,e.errorRecoveryDisabledLanes&g)var A=0;else A=e.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){t=A;e:{var R=e;h=Zr;var F=R.current.memoizedState.isDehydrated;if(F&&(Us(R,A).flags|=256),A=td(R,A,!1),A!==2){if(jc&&!F){R.errorRecoveryDisabledLanes|=g,Oa|=g,h=4;break e}g=Bn,Bn=h,g!==null&&(Bn===null?Bn=g:Bn.push.apply(Bn,g))}h=A}if(g=!1,h!==2)continue}}if(h===1){Us(e,0),la(e,t,0,!0);break}e:{switch(r=e,g=h,g){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:la(r,t,$n,!oa);break e;case 2:Bn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(h=cu+300-De(),10<h)){if(la(r,t,$n,!oa),Ro(r,0,!0)!==0)break e;Eo=t,r.timeoutHandle=pp(Bh.bind(null,r,o,Bn,fu,Xc,t,$n,Oa,Ds,oa,g,"Throttled",-0,0),h);break e}Bh(r,o,Bn,fu,Xc,t,$n,Oa,Ds,oa,g,null,-0,0)}}break}while(!0);ji(e)}function Bh(e,t,o,r,h,g,A,R,F,ie,ge,Ae,ae,le){if(e.timeoutHandle=-1,Ae=t.subtreeFlags,Ae&8192||(Ae&16785408)===16785408){Ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},Ih(t,g,Ae);var ze=(g&62914560)===g?cu-De():(g&4194048)===g?Uh-De():0;if(ze=lv(Ae,ze),ze!==null){Eo=g,e.cancelPendingCommit=ze(Jh.bind(null,e,t,g,o,r,h,A,R,F,ge,Ae,null,ae,le)),la(e,g,A,!ie);return}}Jh(e,t,g,o,r,h,A,R,F)}function Cy(e){for(var t=e;;){var o=t.tag;if((o===0||o===11||o===15)&&t.flags&16384&&(o=t.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var r=0;r<o.length;r++){var h=o[r],g=h.getSnapshot;h=h.value;try{if(!tn(g(),h))return!1}catch{return!1}}if(o=t.child,t.subtreeFlags&16384&&o!==null)o.return=t,t=o;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function la(e,t,o,r){t&=~Zc,t&=~Oa,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var h=t;0<h;){var g=31-Nt(h),A=1<<g;r[g]=-1,h&=~A}o!==0&&$s(e,o,t)}function hu(){return(ht&6)===0?($r(0),!1):!0}function ed(){if(ot!==null){if(mt===0)var e=ot.return;else e=ot,bi=so=null,gc(e),Pe=null,He=0,e=ot;for(;e!==null;)mh(e.alternate,e),e=e.return;ot=null}}function Us(e,t){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,Oy(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),Eo=0,ed(),wt=e,ot=o=Ai(e.current,null),rt=t,mt=0,Xn=null,oa=!1,Ms=Io(e,t),jc=!1,Ds=$n=Zc=Oa=aa=Pt=0,Bn=Zr=null,Xc=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var h=31-Nt(r),g=1<<h;t|=e[h],r&=~g}return To=t,vs(),o}function Gh(e,t){$e=null,X.H=qr,t===k||t===H?(t=Te(),mt=3):t===P?(t=Te(),mt=4):mt=t===Dc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Xn=t,ot===null&&(Pt=1,nu(e,Mn(t,e.current)))}function Vh(){var e=jn.current;return e===null?!0:(rt&4194048)===rt?fi===null:(rt&62914560)===rt||(rt&536870912)!==0?e===fi:!1}function qh(){var e=X.H;return X.H=qr,e===null?qr:e}function Fh(){var e=X.A;return X.A=Ey,e}function pu(){Pt=4,oa||(rt&4194048)!==rt&&jn.current!==null||(Ms=!0),(aa&134217727)===0&&(Oa&134217727)===0||wt===null||la(wt,rt,$n,!1)}function td(e,t,o){var r=ht;ht|=2;var h=qh(),g=Fh();(wt!==e||rt!==t)&&(fu=null,Us(e,t)),t=!1;var A=Pt;e:do try{if(mt!==0&&ot!==null){var R=ot,F=Xn;switch(mt){case 8:ed(),A=6;break e;case 3:case 2:case 9:case 6:jn.current===null&&(t=!0);var ie=mt;if(mt=0,Xn=null,Ps(e,R,F,ie),o&&Ms){A=0;break e}break;default:ie=mt,mt=0,Xn=null,Ps(e,R,F,ie)}}xy(),A=Pt;break}catch(ge){Gh(e,ge)}while(!0);return t&&e.shellSuspendCounter++,bi=so=null,ht=r,X.H=h,X.A=g,ot===null&&(wt=null,rt=0,vs()),A}function xy(){for(;ot!==null;)Hh(ot)}function wy(e,t){var o=ht;ht|=2;var r=qh(),h=Fh();wt!==e||rt!==t?(fu=null,du=De()+500,Us(e,t)):Ms=Io(e,t);e:do try{if(mt!==0&&ot!==null){t=ot;var g=Xn;t:switch(mt){case 1:mt=0,Xn=null,Ps(e,t,g,1);break;case 2:case 9:if(W(g)){mt=0,Xn=null,Oh(t);break}t=function(){mt!==2&&mt!==9||wt!==e||(mt=7),ji(e)},g.then(t,t);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:W(g)?(mt=0,Xn=null,Oh(t)):(mt=0,Xn=null,Ps(e,t,g,7));break;case 5:var A=null;switch(ot.tag){case 26:A=ot.memoizedState;case 5:case 27:var R=ot;if(A?Rp(A):R.stateNode.complete){mt=0,Xn=null;var F=R.sibling;if(F!==null)ot=F;else{var ie=R.return;ie!==null?(ot=ie,mu(ie)):ot=null}break t}}mt=0,Xn=null,Ps(e,t,g,5);break;case 6:mt=0,Xn=null,Ps(e,t,g,6);break;case 8:ed(),Pt=6;break e;default:throw Error(s(462))}}by();break}catch(ge){Gh(e,ge)}while(!0);return bi=so=null,X.H=r,X.A=h,ht=o,ot!==null?0:(wt=null,rt=0,vs(),Pt)}function by(){for(;ot!==null&&!ne();)Hh(ot)}function Hh(e){var t=hh(e.alternate,e,To);e.memoizedProps=e.pendingProps,t===null?mu(e):ot=t}function Oh(e){var t=e,o=t.alternate;switch(t.tag){case 15:case 0:t=rh(o,t,t.pendingProps,t.type,void 0,rt);break;case 11:t=rh(o,t,t.pendingProps,t.type.render,t.ref,rt);break;case 5:gc(t);default:mh(o,t),t=ot=Ll(t,To),t=hh(o,t,To)}e.memoizedProps=e.pendingProps,t===null?mu(e):ot=t}function Ps(e,t,o,r){bi=so=null,gc(t),Pe=null,He=0;var h=t.return;try{if(my(e,h,t,o,rt)){Pt=1,nu(e,Mn(o,e.current)),ot=null;return}}catch(g){if(h!==null)throw ot=h,g;Pt=1,nu(e,Mn(o,e.current)),ot=null;return}t.flags&32768?(nt||r===1?e=!0:Ms||(rt&536870912)!==0?e=!1:(oa=e=!0,(r===2||r===9||r===3||r===6)&&(r=jn.current,r!==null&&r.tag===13&&(r.flags|=16384))),Yh(t,e)):mu(t)}function mu(e){var t=e;do{if((t.flags&32768)!==0){Yh(t,oa);return}e=t.return;var o=vy(t.alternate,t,To);if(o!==null){ot=o;return}if(t=t.sibling,t!==null){ot=t;return}ot=t=e}while(t!==null);Pt===0&&(Pt=5)}function Yh(e,t){do{var o=_y(e.alternate,e);if(o!==null){o.flags&=32767,ot=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!t&&(e=e.sibling,e!==null)){ot=e;return}ot=e=o}while(e!==null);Pt=6,ot=null}function Jh(e,t,o,r,h,g,A,R,F){e.cancelPendingCommit=null;do gu();while(Xt!==0);if((ht&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(g=t.lanes|t.childLanes,g|=Ua,gl(e,o,g,A,R,F),e===wt&&(ot=wt=null,rt=0),ks=t,ra=e,Eo=o,$c=g,Qc=h,Ph=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,My(je,function(){return $h(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=X.T,X.T=null,h=$.p,$.p=2,A=ht,ht|=4;try{Sy(e,t,o)}finally{ht=A,$.p=h,X.T=r}}Xt=1,Kh(),jh(),Zh()}}function Kh(){if(Xt===1){Xt=0;var e=ra,t=ks,o=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||o){o=X.T,X.T=null;var r=$.p;$.p=2;var h=ht;ht|=4;try{bh(t,e);var g=hd,A=ps(e.containerInfo),R=g.focusedElem,F=g.selectionRange;if(A!==R&&R&&R.ownerDocument&&oc(R.ownerDocument.documentElement,R)){if(F!==null&&Oo(R)){var ie=F.start,ge=F.end;if(ge===void 0&&(ge=ie),"selectionStart"in R)R.selectionStart=ie,R.selectionEnd=Math.min(ge,R.value.length);else{var Ae=R.ownerDocument||document,ae=Ae&&Ae.defaultView||window;if(ae.getSelection){var le=ae.getSelection(),ze=R.textContent.length,Ke=Math.min(F.start,ze),St=F.end===void 0?Ke:Math.min(F.end,ze);!le.extend&&Ke>St&&(A=St,St=Ke,Ke=A);var Q=Tr(R,Ke),Y=Tr(R,St);if(Q&&Y&&(le.rangeCount!==1||le.anchorNode!==Q.node||le.anchorOffset!==Q.offset||le.focusNode!==Y.node||le.focusOffset!==Y.offset)){var te=Ae.createRange();te.setStart(Q.node,Q.offset),le.removeAllRanges(),Ke>St?(le.addRange(te),le.extend(Y.node,Y.offset)):(te.setEnd(Y.node,Y.offset),le.addRange(te))}}}}for(Ae=[],le=R;le=le.parentNode;)le.nodeType===1&&Ae.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<Ae.length;R++){var Se=Ae[R];Se.element.scrollLeft=Se.left,Se.element.scrollTop=Se.top}}Nu=!!fd,hd=fd=null}finally{ht=h,$.p=r,X.T=o}}e.current=t,Xt=2}}function jh(){if(Xt===2){Xt=0;var e=ra,t=ks,o=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||o){o=X.T,X.T=null;var r=$.p;$.p=2;var h=ht;ht|=4;try{Eh(e,t.alternate,t)}finally{ht=h,$.p=r,X.T=o}}Xt=3}}function Zh(){if(Xt===4||Xt===3){Xt=0,Ne();var e=ra,t=ks,o=Eo,r=Ph;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Xt=5:(Xt=0,ks=ra=null,Xh(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(sa=null),Za(o),t=t.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(tt,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=X.T,h=$.p,$.p=2,X.T=null;try{for(var g=e.onRecoverableError,A=0;A<r.length;A++){var R=r[A];g(R.value,{componentStack:R.stack})}}finally{X.T=t,$.p=h}}(Eo&3)!==0&&gu(),ji(e),h=e.pendingLanes,(o&261930)!==0&&(h&42)!==0?e===Wc?Xr++:(Xr=0,Wc=e):Xr=0,$r(0)}}function Xh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ji(t)))}function gu(){return Kh(),jh(),Zh(),$h()}function $h(){if(Xt!==5)return!1;var e=ra,t=$c;$c=0;var o=Za(Eo),r=X.T,h=$.p;try{$.p=32>o?32:o,X.T=null,o=Qc,Qc=null;var g=ra,A=Eo;if(Xt=0,ks=ra=null,Eo=0,(ht&6)!==0)throw Error(s(331));var R=ht;if(ht|=4,Dh(g.current),Rh(g,g.current,A,o),ht=R,$r(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(tt,g)}catch{}return!0}finally{$.p=h,X.T=r,Xh(e,t)}}function Qh(e,t,o){t=Mn(o,t),t=Mc(e.stateNode,t,2),e=Kn(e,t,2),e!==null&&(Ui(e,2),ji(e))}function gt(e,t,o){if(e.tag===3)Qh(e,e,o);else for(;t!==null;){if(t.tag===3){Qh(t,e,o);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(sa===null||!sa.has(r))){e=Mn(o,e),o=Wf(2),r=Kn(t,o,2),r!==null&&(eh(o,r,t,e),Ui(r,2),ji(r));break}}t=t.return}}function nd(e,t,o){var r=e.pingCache;if(r===null){r=e.pingCache=new Ay;var h=new Set;r.set(t,h)}else h=r.get(t),h===void 0&&(h=new Set,r.set(t,h));h.has(o)||(jc=!0,h.add(o),e=Ny.bind(null,e,t,o),t.then(e,e))}function Ny(e,t,o){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,wt===e&&(rt&o)===o&&(Pt===4||Pt===3&&(rt&62914560)===rt&&300>De()-cu?(ht&2)===0&&Us(e,0):Zc|=o,Ds===rt&&(Ds=0)),ji(e)}function Wh(e,t){t===0&&(t=Xs()),e=no(e,t),e!==null&&(Ui(e,t),ji(e))}function Ry(e){var t=e.memoizedState,o=0;t!==null&&(o=t.retryLane),Wh(e,o)}function Iy(e,t){var o=0;switch(e.tag){case 31:case 13:var r=e.stateNode,h=e.memoizedState;h!==null&&(o=h.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}r!==null&&r.delete(t),Wh(e,o)}function My(e,t){return Ce(e,t)}var yu=null,Ls=null,id=!1,vu=!1,od=!1,ua=0;function ji(e){e!==Ls&&e.next===null&&(Ls===null?yu=Ls=e:Ls=Ls.next=e),vu=!0,id||(id=!0,ky())}function $r(e,t){if(!od&&vu){od=!0;do for(var o=!1,r=yu;r!==null;){if(e!==0){var h=r.pendingLanes;if(h===0)var g=0;else{var A=r.suspendedLanes,R=r.pingedLanes;g=(1<<31-Nt(42|e)+1)-1,g&=h&~(A&~R),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,ip(r,g))}else g=rt,g=Ro(r,r===wt?g:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(g&3)===0||Io(r,g)||(o=!0,ip(r,g));r=r.next}while(o);od=!1}}function Dy(){ep()}function ep(){vu=id=!1;var e=0;ua!==0&&Hy()&&(e=ua);for(var t=De(),o=null,r=yu;r!==null;){var h=r.next,g=tp(r,t);g===0?(r.next=null,o===null?yu=h:o.next=h,h===null&&(Ls=o)):(o=r,(e!==0||(g&3)!==0)&&(vu=!0)),r=h}Xt!==0&&Xt!==5||$r(e),ua!==0&&(ua=0)}function tp(e,t){for(var o=e.suspendedLanes,r=e.pingedLanes,h=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var A=31-Nt(g),R=1<<A,F=h[A];F===-1?((R&o)===0||(R&r)!==0)&&(h[A]=ml(R,t)):F<=t&&(e.expiredLanes|=R),g&=~R}if(t=wt,o=rt,o=Ro(e,e===t?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,o===0||e===t&&(mt===2||mt===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&xe(r),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||Io(e,o)){if(t=o&-o,t===e.callbackPriority)return t;switch(r!==null&&xe(r),Za(o)){case 2:case 8:o=et;break;case 32:o=je;break;case 268435456:o=Wn;break;default:o=je}return r=np.bind(null,e),o=Ce(o,r),e.callbackPriority=t,e.callbackNode=o,t}return r!==null&&r!==null&&xe(r),e.callbackPriority=2,e.callbackNode=null,2}function np(e,t){if(Xt!==0&&Xt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(gu()&&e.callbackNode!==o)return null;var r=rt;return r=Ro(e,e===wt?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(zh(e,r,t),tp(e,De()),e.callbackNode!=null&&e.callbackNode===o?np.bind(null,e):null)}function ip(e,t){if(gu())return null;zh(e,t,!0)}function ky(){Yy(function(){(ht&6)!==0?Ce(qe,Dy):ep()})}function ad(){if(ua===0){var e=lo;e===0&&(e=No,No<<=1,(No&261888)===0&&(No=256)),ua=e}return ua}function op(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Lo(""+e)}function ap(e,t){var o=t.ownerDocument.createElement("input");return o.name=t.name,o.value=t.value,e.id&&o.setAttribute("form",e.id),t.parentNode.insertBefore(o,t),e=new FormData(e),o.parentNode.removeChild(o),e}function Uy(e,t,o,r,h){if(t==="submit"&&o&&o.stateNode===h){var g=op((h[ln]||null).action),A=r.submitter;A&&(t=(t=A[ln]||null)?op(t.formAction):A.getAttribute("formAction"),t!==null&&(g=t,A=null));var R=new Ra("action","action",null,r,h);e.push({event:R,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ua!==0){var F=A?ap(h,A):new FormData(h);xc(o,{pending:!0,data:F,method:h.method,action:g},null,F)}}else typeof g=="function"&&(R.preventDefault(),F=A?ap(h,A):new FormData(h),xc(o,{pending:!0,data:F,method:h.method,action:g},g,F))},currentTarget:h}]})}}for(var sd=0;sd<Cr.length;sd++){var rd=Cr[sd],Py=rd.toLowerCase(),Ly=rd[0].toUpperCase()+rd.slice(1);Hn(Py,"on"+Ly)}Hn(Ar,"onAnimationEnd"),Hn(Dl,"onAnimationIteration"),Hn(kl,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(ac,"onTransitionRun"),Hn(sc,"onTransitionStart"),Hn(Ul,"onTransitionCancel"),Hn(gs,"onTransitionEnd"),Li("onMouseEnter",["mouseout","mouseover"]),Li("onMouseLeave",["mouseout","mouseover"]),Li("onPointerEnter",["pointerout","pointerover"]),Li("onPointerLeave",["pointerout","pointerover"]),ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qr));function sp(e,t){t=(t&4)!==0;for(var o=0;o<e.length;o++){var r=e[o],h=r.event;r=r.listeners;e:{var g=void 0;if(t)for(var A=r.length-1;0<=A;A--){var R=r[A],F=R.instance,ie=R.currentTarget;if(R=R.listener,F!==g&&h.isPropagationStopped())break e;g=R,h.currentTarget=ie;try{g(h)}catch(ge){ys(ge)}h.currentTarget=null,g=F}else for(A=0;A<r.length;A++){if(R=r[A],F=R.instance,ie=R.currentTarget,R=R.listener,F!==g&&h.isPropagationStopped())break e;g=R,h.currentTarget=ie;try{g(h)}catch(ge){ys(ge)}h.currentTarget=null,g=F}}}}function at(e,t){var o=t[Qs];o===void 0&&(o=t[Qs]=new Set);var r=e+"__bubble";o.has(r)||(rp(t,e,2,!1),o.add(r))}function ld(e,t,o){var r=0;t&&(r|=4),rp(o,e,r,t)}var _u="_reactListening"+Math.random().toString(36).slice(2);function ud(e){if(!e[_u]){e[_u]=!0,ko.forEach(function(o){o!=="selectionchange"&&(zy.has(o)||ld(o,!1,e),ld(o,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_u]||(t[_u]=!0,ld("selectionchange",!1,t))}}function rp(e,t,o,r){switch(Lp(t)){case 2:var h=dv;break;case 8:h=fv;break;default:h=Cd}o=h.bind(null,t,o,e),h=void 0,!zi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(h=!0),r?h!==void 0?e.addEventListener(t,o,{capture:!0,passive:h}):e.addEventListener(t,o,!0):h!==void 0?e.addEventListener(t,o,{passive:h}):e.addEventListener(t,o,!1)}function cd(e,t,o,r,h){var g=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var A=r.tag;if(A===3||A===4){var R=r.stateNode.containerInfo;if(R===h)break;if(A===4)for(A=r.return;A!==null;){var F=A.tag;if((F===3||F===4)&&A.stateNode.containerInfo===h)return;A=A.return}for(;R!==null;){if(A=Do(R),A===null)return;if(F=A.tag,F===5||F===6||F===26||F===27){r=g=A;continue e}R=R.parentNode}}r=r.return}ba(function(){var ie=g,ge=os(o),Ae=[];e:{var ae=Pl.get(e);if(ae!==void 0){var le=Ra,ze=e;switch(e){case"keypress":if(yi(o)===0)break e;case"keydown":case"keyup":le=Go;break;case"focusin":ze="focus",le=ur;break;case"focusout":ze="blur",le=ur;break;case"beforeblur":case"afterblur":le=ur;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Ia;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Qu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=wl;break;case Ar:case Dl:case kl:le=Cl;break;case gs:le=Gi;break;case"scroll":case"scrollend":le=wn;break;case"wheel":le=pr;break;case"copy":case"cut":case"paste":le=cr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=Si;break;case"toggle":case"beforetoggle":le=qo}var Ke=(t&4)!==0,St=!Ke&&(e==="scroll"||e==="scrollend"),Q=Ke?ae!==null?ae+"Capture":null:ae;Ke=[];for(var Y=ie,te;Y!==null;){var Se=Y;if(te=Se.stateNode,Se=Se.tag,Se!==5&&Se!==26&&Se!==27||te===null||Q===null||(Se=zo(Y,Q),Se!=null&&Ke.push(Wr(Y,Se,te))),St)break;Y=Y.return}0<Ke.length&&(ae=new le(ae,ze,null,o,ge),Ae.push({event:ae,listeners:Ke}))}}if((t&7)===0){e:{if(ae=e==="mouseover"||e==="pointerover",le=e==="mouseout"||e==="pointerout",ae&&o!==is&&(ze=o.relatedTarget||o.fromElement)&&(Do(ze)||ze[Zi]))break e;if((le||ae)&&(ae=ge.window===ge?ge:(ae=ge.ownerDocument)?ae.defaultView||ae.parentWindow:window,le?(ze=o.relatedTarget||o.toElement,le=ie,ze=ze?Do(ze):null,ze!==null&&(St=c(ze),Ke=ze.tag,ze!==St||Ke!==5&&Ke!==27&&Ke!==6)&&(ze=null)):(le=null,ze=ie),le!==ze)){if(Ke=Ia,Se="onMouseLeave",Q="onMouseEnter",Y="mouse",(e==="pointerout"||e==="pointerover")&&(Ke=Si,Se="onPointerLeave",Q="onPointerEnter",Y="pointer"),St=le==null?ae:Ea(le),te=ze==null?ae:Ea(ze),ae=new Ke(Se,Y+"leave",le,o,ge),ae.target=St,ae.relatedTarget=te,Se=null,Do(ge)===ie&&(Ke=new Ke(Q,Y+"enter",ze,o,ge),Ke.target=te,Ke.relatedTarget=St,Se=Ke),St=Se,le&&ze)t:{for(Ke=By,Q=le,Y=ze,te=0,Se=Q;Se;Se=Ke(Se))te++;Se=0;for(var Oe=Y;Oe;Oe=Ke(Oe))Se++;for(;0<te-Se;)Q=Ke(Q),te--;for(;0<Se-te;)Y=Ke(Y),Se--;for(;te--;){if(Q===Y||Y!==null&&Q===Y.alternate){Ke=Q;break t}Q=Ke(Q),Y=Ke(Y)}Ke=null}else Ke=null;le!==null&&lp(Ae,ae,le,Ke,!1),ze!==null&&St!==null&&lp(Ae,St,ze,Ke,!0)}}e:{if(ae=ie?Ea(ie):window,le=ae.nodeName&&ae.nodeName.toLowerCase(),le==="select"||le==="input"&&ae.type==="file")var ct=en;else if(Rn(ae))if(_n)ct=Sr;else{ct=nc;var Ve=Il}else le=ae.nodeName,!le||le.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?ie&&Lt(ie.elementType)&&(ct=en):ct=hs;if(ct&&(ct=ct(e,ie))){yr(Ae,ct,o,ge);break e}Ve&&Ve(e,ae,ie),e==="focusout"&&ie&&ae.type==="number"&&ie.memoizedProps.value!=null&&tr(ae,"number",ae.value)}switch(Ve=ie?Ea(ie):window,e){case"focusin":(Rn(Ve)||Ve.contentEditable==="true")&&(Sn=Ve,Ze=ie,on=null);break;case"focusout":on=Ze=Sn=null;break;case"mousedown":oe=!0;break;case"contextmenu":case"mouseup":case"dragend":oe=!1,ms(Ae,o,ge);break;case"selectionchange":if(ka)break;case"keydown":case"keyup":ms(Ae,o,ge)}var Qe;if(Wt)e:{switch(e){case"compositionstart":var lt="onCompositionStart";break e;case"compositionend":lt="onCompositionEnd";break e;case"compositionupdate":lt="onCompositionUpdate";break e}lt=void 0}else Vt?Vi(e,o)&&(lt="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(lt="onCompositionStart");lt&&(cs&&o.locale!=="ko"&&(Vt||lt!=="onCompositionStart"?lt==="onCompositionEnd"&&Vt&&(Qe=or()):(ai=ge,ir="value"in ai?ai.value:ai.textContent,Vt=!0)),Ve=Su(ie,lt),0<Ve.length&&(lt=new bn(lt,e,null,o,ge),Ae.push({event:lt,listeners:Ve}),Qe?lt.data=Qe:(Qe=ri(o),Qe!==null&&(lt.data=Qe)))),(Qe=tc?gr(e,o):fs(e,o))&&(lt=Su(ie,"onBeforeInput"),0<lt.length&&(Ve=new bn("onBeforeInput","beforeinput",null,o,ge),Ae.push({event:Ve,listeners:lt}),Ve.data=Qe)),Uy(Ae,e,ie,o,ge)}sp(Ae,t)})}function Wr(e,t,o){return{instance:e,listener:t,currentTarget:o}}function Su(e,t){for(var o=t+"Capture",r=[];e!==null;){var h=e,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=zo(e,o),h!=null&&r.unshift(Wr(e,h,g)),h=zo(e,t),h!=null&&r.push(Wr(e,h,g))),e.tag===3)return r;e=e.return}return[]}function By(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function lp(e,t,o,r,h){for(var g=t._reactName,A=[];o!==null&&o!==r;){var R=o,F=R.alternate,ie=R.stateNode;if(R=R.tag,F!==null&&F===r)break;R!==5&&R!==26&&R!==27||ie===null||(F=ie,h?(ie=zo(o,g),ie!=null&&A.unshift(Wr(o,ie,F))):h||(ie=zo(o,g),ie!=null&&A.push(Wr(o,ie,F)))),o=o.return}A.length!==0&&e.push({event:t,listeners:A})}var Gy=/\r\n?/g,Vy=/\u0000|\uFFFD/g;function up(e){return(typeof e=="string"?e:""+e).replace(Gy,`
`).replace(Vy,"")}function cp(e,t){return t=up(t),up(e)===t}function _t(e,t,o,r,h,g){switch(o){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||xn(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&xn(e,""+r);break;case"className":Uo(e,"class",r);break;case"tabIndex":Uo(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Uo(e,o,r);break;case"style":ts(e,r,g);break;case"data":if(t!=="object"){Uo(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||o!=="href")){e.removeAttribute(o);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(o);break}r=Lo(""+r),e.setAttribute(o,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(t!=="input"&&_t(e,t,"name",h.name,h,null),_t(e,t,"formEncType",h.formEncType,h,null),_t(e,t,"formMethod",h.formMethod,h,null),_t(e,t,"formTarget",h.formTarget,h,null)):(_t(e,t,"encType",h.encType,h,null),_t(e,t,"method",h.method,h,null),_t(e,t,"target",h.target,h,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(o);break}r=Lo(""+r),e.setAttribute(o,r);break;case"onClick":r!=null&&(e.onclick=ii);break;case"onScroll":r!=null&&at("scroll",e);break;case"onScrollEnd":r!=null&&at("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(o=r.__html,o!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=o}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}o=Lo(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(o,""+r):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":r===!0?e.setAttribute(o,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(o,r):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(o,r):e.removeAttribute(o);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(o):e.setAttribute(o,r);break;case"popover":at("beforetoggle",e),at("toggle",e),gi(e,"popover",r);break;case"xlinkActuate":Jt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Jt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Jt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Jt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Jt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Jt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Jt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Jt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Jt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":gi(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=xa.get(o)||o,gi(e,o,r))}}function dd(e,t,o,r,h,g){switch(o){case"style":ts(e,r,g);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(o=r.__html,o!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=o}}break;case"children":typeof r=="string"?xn(e,r):(typeof r=="number"||typeof r=="bigint")&&xn(e,""+r);break;case"onScroll":r!=null&&at("scroll",e);break;case"onScrollEnd":r!=null&&at("scrollend",e);break;case"onClick":r!=null&&(e.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),t=o.slice(2,h?o.length-7:void 0),g=e[ln]||null,g=g!=null?g[o]:null,typeof g=="function"&&e.removeEventListener(t,g,h),typeof r=="function")){typeof g!="function"&&g!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(t,r,h);break e}o in e?e[o]=r:r===!0?e.setAttribute(o,""):gi(e,o,r)}}}function dn(e,t,o){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",e),at("load",e);var r=!1,h=!1,g;for(g in o)if(o.hasOwnProperty(g)){var A=o[g];if(A!=null)switch(g){case"src":r=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:_t(e,t,g,A,o,null)}}h&&_t(e,t,"srcSet",o.srcSet,o,null),r&&_t(e,t,"src",o.src,o,null);return;case"input":at("invalid",e);var R=g=A=h=null,F=null,ie=null;for(r in o)if(o.hasOwnProperty(r)){var ge=o[r];if(ge!=null)switch(r){case"name":h=ge;break;case"type":A=ge;break;case"checked":F=ge;break;case"defaultChecked":ie=ge;break;case"value":g=ge;break;case"defaultValue":R=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(s(137,t));break;default:_t(e,t,r,ge,o,null)}}es(e,g,R,F,ie,A,h,!1);return;case"select":at("invalid",e),r=A=g=null;for(h in o)if(o.hasOwnProperty(h)&&(R=o[h],R!=null))switch(h){case"value":g=R;break;case"defaultValue":A=R;break;case"multiple":r=R;default:_t(e,t,h,R,o,null)}t=g,o=A,e.multiple=!!r,t!=null?$i(e,!!r,t,!1):o!=null&&$i(e,!!r,o,!0);return;case"textarea":at("invalid",e),g=h=r=null;for(A in o)if(o.hasOwnProperty(A)&&(R=o[A],R!=null))switch(A){case"value":r=R;break;case"defaultValue":h=R;break;case"children":g=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(s(91));break;default:_t(e,t,A,R,o,null)}Kt(e,r,h,g);return;case"option":for(F in o)if(o.hasOwnProperty(F)&&(r=o[F],r!=null))switch(F){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:_t(e,t,F,r,o,null)}return;case"dialog":at("beforetoggle",e),at("toggle",e),at("cancel",e),at("close",e);break;case"iframe":case"object":at("load",e);break;case"video":case"audio":for(r=0;r<Qr.length;r++)at(Qr[r],e);break;case"image":at("error",e),at("load",e);break;case"details":at("toggle",e);break;case"embed":case"source":case"link":at("error",e),at("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in o)if(o.hasOwnProperty(ie)&&(r=o[ie],r!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:_t(e,t,ie,r,o,null)}return;default:if(Lt(t)){for(ge in o)o.hasOwnProperty(ge)&&(r=o[ge],r!==void 0&&dd(e,t,ge,r,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(r=o[R],r!=null&&_t(e,t,R,r,o,null))}function qy(e,t,o,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,A=null,R=null,F=null,ie=null,ge=null;for(le in o){var Ae=o[le];if(o.hasOwnProperty(le)&&Ae!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":F=Ae;default:r.hasOwnProperty(le)||_t(e,t,le,null,r,Ae)}}for(var ae in r){var le=r[ae];if(Ae=o[ae],r.hasOwnProperty(ae)&&(le!=null||Ae!=null))switch(ae){case"type":g=le;break;case"name":h=le;break;case"checked":ie=le;break;case"defaultChecked":ge=le;break;case"value":A=le;break;case"defaultValue":R=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(s(137,t));break;default:le!==Ae&&_t(e,t,ae,le,r,Ae)}}Wa(e,A,R,F,ie,ge,g,h);return;case"select":le=A=R=ae=null;for(g in o)if(F=o[g],o.hasOwnProperty(g)&&F!=null)switch(g){case"value":break;case"multiple":le=F;default:r.hasOwnProperty(g)||_t(e,t,g,null,r,F)}for(h in r)if(g=r[h],F=o[h],r.hasOwnProperty(h)&&(g!=null||F!=null))switch(h){case"value":ae=g;break;case"defaultValue":R=g;break;case"multiple":A=g;default:g!==F&&_t(e,t,h,g,r,F)}t=R,o=A,r=le,ae!=null?$i(e,!!o,ae,!1):!!r!=!!o&&(t!=null?$i(e,!!o,t,!0):$i(e,!!o,o?[]:"",!1));return;case"textarea":le=ae=null;for(R in o)if(h=o[R],o.hasOwnProperty(R)&&h!=null&&!r.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:_t(e,t,R,null,r,h)}for(A in r)if(h=r[A],g=o[A],r.hasOwnProperty(A)&&(h!=null||g!=null))switch(A){case"value":ae=h;break;case"defaultValue":le=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==g&&_t(e,t,A,h,r,g)}nr(e,ae,le);return;case"option":for(var ze in o)if(ae=o[ze],o.hasOwnProperty(ze)&&ae!=null&&!r.hasOwnProperty(ze))switch(ze){case"selected":e.selected=!1;break;default:_t(e,t,ze,null,r,ae)}for(F in r)if(ae=r[F],le=o[F],r.hasOwnProperty(F)&&ae!==le&&(ae!=null||le!=null))switch(F){case"selected":e.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:_t(e,t,F,ae,r,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ke in o)ae=o[Ke],o.hasOwnProperty(Ke)&&ae!=null&&!r.hasOwnProperty(Ke)&&_t(e,t,Ke,null,r,ae);for(ie in r)if(ae=r[ie],le=o[ie],r.hasOwnProperty(ie)&&ae!==le&&(ae!=null||le!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(s(137,t));break;default:_t(e,t,ie,ae,r,le)}return;default:if(Lt(t)){for(var St in o)ae=o[St],o.hasOwnProperty(St)&&ae!==void 0&&!r.hasOwnProperty(St)&&dd(e,t,St,void 0,r,ae);for(ge in r)ae=r[ge],le=o[ge],!r.hasOwnProperty(ge)||ae===le||ae===void 0&&le===void 0||dd(e,t,ge,ae,r,le);return}}for(var Q in o)ae=o[Q],o.hasOwnProperty(Q)&&ae!=null&&!r.hasOwnProperty(Q)&&_t(e,t,Q,null,r,ae);for(Ae in r)ae=r[Ae],le=o[Ae],!r.hasOwnProperty(Ae)||ae===le||ae==null&&le==null||_t(e,t,Ae,ae,r,le)}function dp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Fy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,o=performance.getEntriesByType("resource"),r=0;r<o.length;r++){var h=o[r],g=h.transferSize,A=h.initiatorType,R=h.duration;if(g&&R&&dp(A)){for(A=0,R=h.responseEnd,r+=1;r<o.length;r++){var F=o[r],ie=F.startTime;if(ie>R)break;var ge=F.transferSize,Ae=F.initiatorType;ge&&dp(Ae)&&(F=F.responseEnd,A+=ge*(F<R?1:(R-ie)/(F-ie)))}if(--r,t+=8*(g+A)/(h.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var fd=null,hd=null;function Tu(e){return e.nodeType===9?e:e.ownerDocument}function fp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function pd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var md=null;function Hy(){var e=window.event;return e&&e.type==="popstate"?e===md?!1:(md=e,!0):(md=null,!1)}var pp=typeof setTimeout=="function"?setTimeout:void 0,Oy=typeof clearTimeout=="function"?clearTimeout:void 0,mp=typeof Promise=="function"?Promise:void 0,Yy=typeof queueMicrotask=="function"?queueMicrotask:typeof mp<"u"?function(e){return mp.resolve(null).then(e).catch(Jy)}:pp;function Jy(e){setTimeout(function(){throw e})}function ca(e){return e==="head"}function gp(e,t){var o=t,r=0;do{var h=o.nextSibling;if(e.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"||o==="/&"){if(r===0){e.removeChild(h),Vs(t);return}r--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")r++;else if(o==="html")el(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,el(o);for(var g=o.firstChild;g;){var A=g.nextSibling,R=g.nodeName;g[Sa]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=A}}else o==="body"&&el(e.ownerDocument.body);o=h}while(o);Vs(t)}function yp(e,t){var o=e;e=0;do{var r=o.nextSibling;if(o.nodeType===1?t?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(t?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),r&&r.nodeType===8)if(o=r.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=r}while(o)}function gd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var o=t;switch(t=t.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":gd(o),Ta(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function Ky(e,t,o,r){for(;e.nodeType===1;){var h=o;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Sa])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=hi(e.nextSibling),e===null)break}return null}function jy(e,t,o){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=hi(e.nextSibling),e===null))return null;return e}function vp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=hi(e.nextSibling),e===null))return null;return e}function yd(e){return e.data==="$?"||e.data==="$~"}function vd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Zy(e,t){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||o.readyState!=="loading")t();else{var r=function(){t(),o.removeEventListener("DOMContentLoaded",r)};o.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function hi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var _d=null;function _p(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(t===0)return hi(e.nextSibling);t--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||t++}e=e.nextSibling}return null}function Sp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(t===0)return e;t--}else o!=="/$"&&o!=="/&"||t++}e=e.previousSibling}return null}function Tp(e,t,o){switch(t=Tu(o),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function el(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ta(e)}var pi=new Map,Ep=new Set;function Eu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ao=$.d;$.d={f:Xy,r:$y,D:Qy,C:Wy,L:ev,m:tv,X:iv,S:nv,M:ov};function Xy(){var e=Ao.f(),t=hu();return e||t}function $y(e){var t=Pi(e);t!==null&&t.tag===5&&t.type==="form"?Gf(t):Ao.r(e)}var zs=typeof document>"u"?null:document;function Ap(e,t,o){var r=zs;if(r&&typeof t=="string"&&t){var h=vn(t);h='link[rel="'+e+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),Ep.has(h)||(Ep.add(h),e={rel:e,crossOrigin:o,href:t},r.querySelector(h)===null&&(t=r.createElement("link"),dn(t,"link",e),Gt(t),r.head.appendChild(t)))}}function Qy(e){Ao.D(e),Ap("dns-prefetch",e,null)}function Wy(e,t){Ao.C(e,t),Ap("preconnect",e,t)}function ev(e,t,o){Ao.L(e,t,o);var r=zs;if(r&&e&&t){var h='link[rel="preload"][as="'+vn(t)+'"]';t==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+vn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+vn(o.imageSizes)+'"]')):h+='[href="'+vn(e)+'"]';var g=h;switch(t){case"style":g=Bs(e);break;case"script":g=Gs(e)}pi.has(g)||(e=S({rel:"preload",href:t==="image"&&o&&o.imageSrcSet?void 0:e,as:t},o),pi.set(g,e),r.querySelector(h)!==null||t==="style"&&r.querySelector(tl(g))||t==="script"&&r.querySelector(nl(g))||(t=r.createElement("link"),dn(t,"link",e),Gt(t),r.head.appendChild(t)))}}function tv(e,t){Ao.m(e,t);var o=zs;if(o&&e){var r=t&&typeof t.as=="string"?t.as:"script",h='link[rel="modulepreload"][as="'+vn(r)+'"][href="'+vn(e)+'"]',g=h;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Gs(e)}if(!pi.has(g)&&(e=S({rel:"modulepreload",href:e},t),pi.set(g,e),o.querySelector(h)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(nl(g)))return}r=o.createElement("link"),dn(r,"link",e),Gt(r),o.head.appendChild(r)}}}function nv(e,t,o){Ao.S(e,t,o);var r=zs;if(r&&e){var h=hn(r).hoistableStyles,g=Bs(e);t=t||"default";var A=h.get(g);if(!A){var R={loading:0,preload:null};if(A=r.querySelector(tl(g)))R.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},o),(o=pi.get(g))&&Sd(e,o);var F=A=r.createElement("link");Gt(F),dn(F,"link",e),F._p=new Promise(function(ie,ge){F.onload=ie,F.onerror=ge}),F.addEventListener("load",function(){R.loading|=1}),F.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Au(A,t,r)}A={type:"stylesheet",instance:A,count:1,state:R},h.set(g,A)}}}function iv(e,t){Ao.X(e,t);var o=zs;if(o&&e){var r=hn(o).hoistableScripts,h=Gs(e),g=r.get(h);g||(g=o.querySelector(nl(h)),g||(e=S({src:e,async:!0},t),(t=pi.get(h))&&Td(e,t),g=o.createElement("script"),Gt(g),dn(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},r.set(h,g))}}function ov(e,t){Ao.M(e,t);var o=zs;if(o&&e){var r=hn(o).hoistableScripts,h=Gs(e),g=r.get(h);g||(g=o.querySelector(nl(h)),g||(e=S({src:e,async:!0,type:"module"},t),(t=pi.get(h))&&Td(e,t),g=o.createElement("script"),Gt(g),dn(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},r.set(h,g))}}function Cp(e,t,o,r){var h=(h=Le.current)?Eu(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(t=Bs(o.href),o=hn(h).hoistableStyles,r=o.get(t),r||(r={type:"style",instance:null,count:0,state:null},o.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Bs(o.href);var g=hn(h).hoistableStyles,A=g.get(e);if(A||(h=h.ownerDocument||h,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,A),(g=h.querySelector(tl(e)))&&!g._p&&(A.instance=g,A.state.loading=5),pi.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},pi.set(e,o),g||av(h,e,o,A.state))),t&&r===null)throw Error(s(528,""));return A}if(t&&r!==null)throw Error(s(529,""));return null;case"script":return t=o.async,o=o.src,typeof o=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Gs(o),o=hn(h).hoistableScripts,r=o.get(t),r||(r={type:"script",instance:null,count:0,state:null},o.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Bs(e){return'href="'+vn(e)+'"'}function tl(e){return'link[rel="stylesheet"]['+e+"]"}function xp(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function av(e,t,o,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),dn(t,"link",o),Gt(t),e.head.appendChild(t))}function Gs(e){return'[src="'+vn(e)+'"]'}function nl(e){return"script[async]"+e}function wp(e,t,o){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+vn(o.href)+'"]');if(r)return t.instance=r,Gt(r),r;var h=S({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),Gt(r),dn(r,"style",h),Au(r,o.precedence,e),t.instance=r;case"stylesheet":h=Bs(o.href);var g=e.querySelector(tl(h));if(g)return t.state.loading|=4,t.instance=g,Gt(g),g;r=xp(o),(h=pi.get(h))&&Sd(r,h),g=(e.ownerDocument||e).createElement("link"),Gt(g);var A=g;return A._p=new Promise(function(R,F){A.onload=R,A.onerror=F}),dn(g,"link",r),t.state.loading|=4,Au(g,o.precedence,e),t.instance=g;case"script":return g=Gs(o.src),(h=e.querySelector(nl(g)))?(t.instance=h,Gt(h),h):(r=o,(h=pi.get(g))&&(r=S({},o),Td(r,h)),e=e.ownerDocument||e,h=e.createElement("script"),Gt(h),dn(h,"link",r),e.head.appendChild(h),t.instance=h);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,Au(r,o.precedence,e));return t.instance}function Au(e,t,o){for(var r=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=r.length?r[r.length-1]:null,g=h,A=0;A<r.length;A++){var R=r[A];if(R.dataset.precedence===t)g=R;else if(g!==h)break}g?g.parentNode.insertBefore(e,g.nextSibling):(t=o.nodeType===9?o.head:o,t.insertBefore(e,t.firstChild))}function Sd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Td(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Cu=null;function bp(e,t,o){if(Cu===null){var r=new Map,h=Cu=new Map;h.set(o,r)}else h=Cu,r=h.get(o),r||(r=new Map,h.set(o,r));if(r.has(e))return r;for(r.set(e,null),o=o.getElementsByTagName(e),h=0;h<o.length;h++){var g=o[h];if(!(g[Sa]||g[Et]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var A=g.getAttribute(t)||"";A=e+A;var R=r.get(A);R?R.push(g):r.set(A,[g])}}return r}function Np(e,t,o){e=e.ownerDocument||e,e.head.insertBefore(o,t==="title"?e.querySelector("head > title"):null)}function sv(e,t,o){if(o===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Rp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function rv(e,t,o,r){if(o.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var h=Bs(r.href),g=t.querySelector(tl(h));if(g){t=g._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=xu.bind(e),t.then(e,e)),o.state.loading|=4,o.instance=g,Gt(g);return}g=t.ownerDocument||t,r=xp(r),(h=pi.get(h))&&Sd(r,h),g=g.createElement("link"),Gt(g);var A=g;A._p=new Promise(function(R,F){A.onload=R,A.onerror=F}),dn(g,"link",r),o.instance=g}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,t),(t=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=xu.bind(e),t.addEventListener("load",o),t.addEventListener("error",o))}}var Ed=0;function lv(e,t){return e.stylesheets&&e.count===0&&bu(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var r=setTimeout(function(){if(e.stylesheets&&bu(e,e.stylesheets),e.unsuspend){var g=e.unsuspend;e.unsuspend=null,g()}},6e4+t);0<e.imgBytes&&Ed===0&&(Ed=62500*Fy());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&bu(e,e.stylesheets),e.unsuspend)){var g=e.unsuspend;e.unsuspend=null,g()}},(e.imgBytes>Ed?50:800)+t);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(h)}}:null}function xu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var wu=null;function bu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,wu=new Map,t.forEach(uv,e),wu=null,xu.call(e))}function uv(e,t){if(!(t.state.loading&4)){var o=wu.get(e);if(o)var r=o.get(null);else{o=new Map,wu.set(e,o);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var A=h[g];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(o.set(A.dataset.precedence,A),r=A)}r&&o.set(null,r)}h=t.instance,A=h.getAttribute("data-precedence"),g=o.get(A)||r,g===r&&o.set(null,h),o.set(A,h),this.count++,r=xu.bind(this),h.addEventListener("load",r),h.addEventListener("error",r),g?g.parentNode.insertBefore(h,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),t.state.loading|=4}}var il={$$typeof:L,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function cv(e,t,o,r,h,g,A,R,F){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tt(0),this.hiddenUpdates=Tt(null),this.identifierPrefix=r,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function Ip(e,t,o,r,h,g,A,R,F,ie,ge,Ae){return e=new cv(e,t,o,A,F,ie,ge,Ae,R),t=1,g===!0&&(t|=24),g=Tn(3,null,null,t),e.current=g,g.stateNode=e,t=Ur(),t.refCount++,e.pooledCache=t,t.refCount++,g.memoizedState={element:r,isDehydrated:o,cache:t},Jn(g),e}function Mp(e){return e?(e=jo,e):jo}function Dp(e,t,o,r,h,g){h=Mp(h),r.context===null?r.context=h:r.pendingContext=h,r=an(t),r.payload={element:o},g=g===void 0?null:g,g!==null&&(r.callback=g),o=Kn(e,r,t),o!==null&&(Gn(o,e,t),uo(o,e,t))}function kp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<t?o:t}}function Ad(e,t){kp(e,t),(e=e.alternate)&&kp(e,t)}function Up(e){if(e.tag===13||e.tag===31){var t=no(e,67108864);t!==null&&Gn(t,e,67108864),Ad(e,67108864)}}function Pp(e){if(e.tag===13||e.tag===31){var t=Qn();t=ja(t);var o=no(e,t);o!==null&&Gn(o,e,t),Ad(e,t)}}var Nu=!0;function dv(e,t,o,r){var h=X.T;X.T=null;var g=$.p;try{$.p=2,Cd(e,t,o,r)}finally{$.p=g,X.T=h}}function fv(e,t,o,r){var h=X.T;X.T=null;var g=$.p;try{$.p=8,Cd(e,t,o,r)}finally{$.p=g,X.T=h}}function Cd(e,t,o,r){if(Nu){var h=xd(r);if(h===null)cd(e,t,r,Ru,o),zp(e,r);else if(pv(h,e,t,o,r))r.stopPropagation();else if(zp(e,r),t&4&&-1<hv.indexOf(e)){for(;h!==null;){var g=Pi(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var A=fn(g.pendingLanes);if(A!==0){var R=g;for(R.pendingLanes|=2,R.entangledLanes|=2;A;){var F=1<<31-Nt(A);R.entanglements[1]|=F,A&=~F}ji(g),(ht&6)===0&&(du=De()+500,$r(0))}}break;case 31:case 13:R=no(g,2),R!==null&&Gn(R,g,2),hu(),Ad(g,2)}if(g=xd(r),g===null&&cd(e,t,r,Ru,o),g===h)break;h=g}h!==null&&r.stopPropagation()}else cd(e,t,r,null,o)}}function xd(e){return e=os(e),wd(e)}var Ru=null;function wd(e){if(Ru=null,e=Do(e),e!==null){var t=c(e);if(t===null)e=null;else{var o=t.tag;if(o===13){if(e=f(t),e!==null)return e;e=null}else if(o===31){if(e=p(t),e!==null)return e;e=null}else if(o===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ru=e,null}function Lp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Re()){case qe:return 2;case et:return 8;case je:case Yt:return 32;case Wn:return 268435456;default:return 32}default:return 32}}var bd=!1,da=null,fa=null,ha=null,ol=new Map,al=new Map,pa=[],hv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zp(e,t){switch(e){case"focusin":case"focusout":da=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":ha=null;break;case"pointerover":case"pointerout":ol.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(t.pointerId)}}function sl(e,t,o,r,h,g){return e===null||e.nativeEvent!==g?(e={blockedOn:t,domEventName:o,eventSystemFlags:r,nativeEvent:g,targetContainers:[h]},t!==null&&(t=Pi(t),t!==null&&Up(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,h!==null&&t.indexOf(h)===-1&&t.push(h),e)}function pv(e,t,o,r,h){switch(t){case"focusin":return da=sl(da,e,t,o,r,h),!0;case"dragenter":return fa=sl(fa,e,t,o,r,h),!0;case"mouseover":return ha=sl(ha,e,t,o,r,h),!0;case"pointerover":var g=h.pointerId;return ol.set(g,sl(ol.get(g)||null,e,t,o,r,h)),!0;case"gotpointercapture":return g=h.pointerId,al.set(g,sl(al.get(g)||null,e,t,o,r,h)),!0}return!1}function Bp(e){var t=Do(e.target);if(t!==null){var o=c(t);if(o!==null){if(t=o.tag,t===13){if(t=f(o),t!==null){e.blockedOn=t,Mo(e.priority,function(){Pp(o)});return}}else if(t===31){if(t=p(o),t!==null){e.blockedOn=t,Mo(e.priority,function(){Pp(o)});return}}else if(t===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Iu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var o=xd(e.nativeEvent);if(o===null){o=e.nativeEvent;var r=new o.constructor(o.type,o);is=r,o.target.dispatchEvent(r),is=null}else return t=Pi(o),t!==null&&Up(t),e.blockedOn=o,!1;t.shift()}return!0}function Gp(e,t,o){Iu(e)&&o.delete(t)}function mv(){bd=!1,da!==null&&Iu(da)&&(da=null),fa!==null&&Iu(fa)&&(fa=null),ha!==null&&Iu(ha)&&(ha=null),ol.forEach(Gp),al.forEach(Gp)}function Mu(e,t){e.blockedOn===t&&(e.blockedOn=null,bd||(bd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,mv)))}var Du=null;function Vp(e){Du!==e&&(Du=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Du===e&&(Du=null);for(var t=0;t<e.length;t+=3){var o=e[t],r=e[t+1],h=e[t+2];if(typeof r!="function"){if(wd(r||o)===null)continue;break}var g=Pi(o);g!==null&&(e.splice(t,3),t-=3,xc(g,{pending:!0,data:h,method:o.method,action:r},r,h))}}))}function Vs(e){function t(F){return Mu(F,e)}da!==null&&Mu(da,e),fa!==null&&Mu(fa,e),ha!==null&&Mu(ha,e),ol.forEach(t),al.forEach(t);for(var o=0;o<pa.length;o++){var r=pa[o];r.blockedOn===e&&(r.blockedOn=null)}for(;0<pa.length&&(o=pa[0],o.blockedOn===null);)Bp(o),o.blockedOn===null&&pa.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(r=0;r<o.length;r+=3){var h=o[r],g=o[r+1],A=h[ln]||null;if(typeof g=="function")A||Vp(o);else if(A){var R=null;if(g&&g.hasAttribute("formAction")){if(h=g,A=g[ln]||null)R=A.formAction;else if(wd(h)!==null)continue}else R=A.action;typeof R=="function"?o[r+1]=R:(o.splice(r,3),r-=3),Vp(o)}}}function qp(){function e(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(A){return h=A})},focusReset:"manual",scroll:"manual"})}function t(){h!==null&&(h(),h=null),r||setTimeout(o,20)}function o(){if(!r&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(o,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),h!==null&&(h(),h=null)}}}function Nd(e){this._internalRoot=e}ku.prototype.render=Nd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var o=t.current,r=Qn();Dp(o,r,e,t,null,null)},ku.prototype.unmount=Nd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Dp(e.current,2,null,e,null,null),hu(),t[Zi]=null}};function ku(e){this._internalRoot=e}ku.prototype.unstable_scheduleHydration=function(e){if(e){var t=Xa();e={blockedOn:null,target:e,priority:t};for(var o=0;o<pa.length&&t!==0&&t<pa[o].priority;o++);pa.splice(o,0,e),o===0&&Bp(e)}};var Fp=n.version;if(Fp!=="19.2.0")throw Error(s(527,Fp,"19.2.0"));$.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=m(t),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var gv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uu.isDisabled&&Uu.supportsFiber)try{tt=Uu.inject(gv),kt=Uu}catch{}}return ll.createRoot=function(e,t){if(!l(e))throw Error(s(299));var o=!1,r="",h=Zf,g=Xf,A=$f;return t!=null&&(t.unstable_strictMode===!0&&(o=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(h=t.onUncaughtError),t.onCaughtError!==void 0&&(g=t.onCaughtError),t.onRecoverableError!==void 0&&(A=t.onRecoverableError)),t=Ip(e,1,!1,null,null,o,r,null,h,g,A,qp),e[Zi]=t.current,ud(e),new Nd(t)},ll.hydrateRoot=function(e,t,o){if(!l(e))throw Error(s(299));var r=!1,h="",g=Zf,A=Xf,R=$f,F=null;return o!=null&&(o.unstable_strictMode===!0&&(r=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(A=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.formState!==void 0&&(F=o.formState)),t=Ip(e,1,!0,t,o??null,r,h,F,g,A,R,qp),t.context=Mp(null),o=t.current,r=Qn(),r=ja(r),h=an(r),h.callback=null,Kn(o,h,r),o=r,t.current.lanes=o,Ui(t,o),ji(t),e[Zi]=t.current,ud(e),new ku(t)},ll.version="19.2.0",ll}var Qp;function bv(){if(Qp)return Md.exports;Qp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Md.exports=wv(),Md.exports}var Nv=bv();const Rv=Zd(Nv);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Iv,Mv;function Dv(){return{geminiUrl:Iv,vertexUrl:Mv}}function kv(i,n,a,s){var l,c;if(!(i!=null&&i.baseUrl)){const f=Dv();return n?(l=f.vertexUrl)!==null&&l!==void 0?l:a:(c=f.geminiUrl)!==null&&c!==void 0?c:s}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xo{}function Ue(i,n){const a=/\{([^}]+)\}/g;return i.replace(a,(s,l)=>{if(Object.prototype.hasOwnProperty.call(n,l)){const c=n[l];return c!=null?String(c):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function d(i,n,a){for(let c=0;c<n.length-1;c++){const f=n[c];if(f.endsWith("[]")){const p=f.slice(0,-2);if(!(p in i))if(Array.isArray(a))i[p]=Array.from({length:a.length},()=>({}));else throw new Error(`Value must be a list given an array path ${f}`);if(Array.isArray(i[p])){const y=i[p];if(Array.isArray(a))for(let m=0;m<y.length;m++){const _=y[m];d(_,n.slice(c+1),a[m])}else for(const m of y)d(m,n.slice(c+1),a)}return}else if(f.endsWith("[0]")){const p=f.slice(0,-3);p in i||(i[p]=[{}]);const y=i[p];d(y[0],n.slice(c+1),a);return}(!i[f]||typeof i[f]!="object")&&(i[f]={}),i=i[f]}const s=n[n.length-1],l=i[s];if(l!==void 0){if(!a||typeof a=="object"&&Object.keys(a).length===0||a===l)return;if(typeof l=="object"&&typeof a=="object"&&l!==null&&a!==null)Object.assign(l,a);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof a=="object"&&a!==null&&!Array.isArray(a)?Object.assign(i,a):i[s]=a}function u(i,n,a=void 0){try{if(n.length===1&&n[0]==="_self")return i;for(let s=0;s<n.length;s++){if(typeof i!="object"||i===null)return a;const l=n[s];if(l.endsWith("[]")){const c=l.slice(0,-2);if(c in i){const f=i[c];return Array.isArray(f)?f.map(p=>u(p,n.slice(s+1),a)):a}else return a}else i=i[l]}return i}catch(s){if(s instanceof TypeError)return a;throw s}}function Uv(i,n){for(const[a,s]of Object.entries(n)){const l=a.split("."),c=s.split("."),f=new Set;let p=-1;for(let y=0;y<l.length;y++)if(l[y]==="*"){p=y;break}if(p!==-1&&c.length>p)for(let y=p;y<c.length;y++){const m=c[y];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&f.add(m)}Gd(i,l,c,0,f)}}function Gd(i,n,a,s,l){if(s>=n.length||typeof i!="object"||i===null)return;const c=n[s];if(c.endsWith("[]")){const f=c.slice(0,-2),p=i;if(f in p&&Array.isArray(p[f]))for(const y of p[f])Gd(y,n,a,s+1,l)}else if(c==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const f=i,p=Object.keys(f).filter(m=>!m.startsWith("_")&&!l.has(m)),y={};for(const m of p)y[m]=f[m];for(const[m,_]of Object.entries(y)){const S=[];for(const E of a.slice(s))E==="*"?S.push(m):S.push(E);d(f,S,_)}for(const m of p)delete f[m]}}else{const f=i;c in f&&Gd(f[c],n,a,s+1,l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $d(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pv(i){const n={},a=u(i,["operationName"]);a!=null&&d(n,["operationName"],a);const s=u(i,["resourceName"]);return s!=null&&d(n,["_url","resourceName"],s),n}function Lv(i){const n={},a=u(i,["name"]);a!=null&&d(n,["name"],a);const s=u(i,["metadata"]);s!=null&&d(n,["metadata"],s);const l=u(i,["done"]);l!=null&&d(n,["done"],l);const c=u(i,["error"]);c!=null&&d(n,["error"],c);const f=u(i,["response","generateVideoResponse"]);return f!=null&&d(n,["response"],Bv(f)),n}function zv(i){const n={},a=u(i,["name"]);a!=null&&d(n,["name"],a);const s=u(i,["metadata"]);s!=null&&d(n,["metadata"],s);const l=u(i,["done"]);l!=null&&d(n,["done"],l);const c=u(i,["error"]);c!=null&&d(n,["error"],c);const f=u(i,["response"]);return f!=null&&d(n,["response"],Gv(f)),n}function Bv(i){const n={},a=u(i,["generatedSamples"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>Vv(f))),d(n,["generatedVideos"],c)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&d(n,["raiMediaFilteredCount"],s);const l=u(i,["raiMediaFilteredReasons"]);return l!=null&&d(n,["raiMediaFilteredReasons"],l),n}function Gv(i){const n={},a=u(i,["videos"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>qv(f))),d(n,["generatedVideos"],c)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&d(n,["raiMediaFilteredCount"],s);const l=u(i,["raiMediaFilteredReasons"]);return l!=null&&d(n,["raiMediaFilteredReasons"],l),n}function Vv(i){const n={},a=u(i,["video"]);return a!=null&&d(n,["video"],Kv(a)),n}function qv(i){const n={},a=u(i,["_self"]);return a!=null&&d(n,["video"],jv(a)),n}function Fv(i){const n={},a=u(i,["operationName"]);return a!=null&&d(n,["_url","operationName"],a),n}function Hv(i){const n={},a=u(i,["operationName"]);return a!=null&&d(n,["_url","operationName"],a),n}function Ov(i){const n={},a=u(i,["name"]);a!=null&&d(n,["name"],a);const s=u(i,["metadata"]);s!=null&&d(n,["metadata"],s);const l=u(i,["done"]);l!=null&&d(n,["done"],l);const c=u(i,["error"]);c!=null&&d(n,["error"],c);const f=u(i,["response"]);return f!=null&&d(n,["response"],Yv(f)),n}function Yv(i){const n={},a=u(i,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=u(i,["parent"]);s!=null&&d(n,["parent"],s);const l=u(i,["documentName"]);return l!=null&&d(n,["documentName"],l),n}function kg(i){const n={},a=u(i,["name"]);a!=null&&d(n,["name"],a);const s=u(i,["metadata"]);s!=null&&d(n,["metadata"],s);const l=u(i,["done"]);l!=null&&d(n,["done"],l);const c=u(i,["error"]);c!=null&&d(n,["error"],c);const f=u(i,["response"]);return f!=null&&d(n,["response"],Jv(f)),n}function Jv(i){const n={},a=u(i,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=u(i,["parent"]);s!=null&&d(n,["parent"],s);const l=u(i,["documentName"]);return l!=null&&d(n,["documentName"],l),n}function Kv(i){const n={},a=u(i,["uri"]);a!=null&&d(n,["uri"],a);const s=u(i,["encodedVideo"]);s!=null&&d(n,["videoBytes"],$d(s));const l=u(i,["encoding"]);return l!=null&&d(n,["mimeType"],l),n}function jv(i){const n={},a=u(i,["gcsUri"]);a!=null&&d(n,["uri"],a);const s=u(i,["bytesBase64Encoded"]);s!=null&&d(n,["videoBytes"],$d(s));const l=u(i,["mimeType"]);return l!=null&&d(n,["mimeType"],l),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Wp;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Wp||(Wp={}));var em;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(em||(em={}));var tm;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(tm||(tm={}));var ga;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(ga||(ga={}));var nm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(nm||(nm={}));var im;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(im||(im={}));var om;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(om||(om={}));var am;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(am||(am={}));var sm;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(sm||(sm={}));var rm;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(rm||(rm={}));var lm;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(lm||(lm={}));var um;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(um||(um={}));var cm;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE"})(cm||(cm={}));var dm;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(dm||(dm={}));var fm;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(fm||(fm={}));var hm;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(hm||(hm={}));var pm;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(pm||(pm={}));var mm;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(mm||(mm={}));var Mi;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Mi||(Mi={}));var gm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(gm||(gm={}));var ym;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(ym||(ym={}));var vm;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(vm||(vm={}));var Vd;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Vd||(Vd={}));var _m;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(_m||(_m={}));var Sm;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Sm||(Sm={}));var Tm;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(Tm||(Tm={}));var Em;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Em||(Em={}));var Am;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Am||(Am={}));var Cm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Cm||(Cm={}));var xm;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(xm||(xm={}));var wm;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(wm||(wm={}));var bm;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(bm||(bm={}));var Nm;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Nm||(Nm={}));var Rm;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Rm||(Rm={}));var Im;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Im||(Im={}));var Mm;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Mm||(Mm={}));var Dm;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Dm||(Dm={}));var km;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(km||(km={}));var Um;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Um||(Um={}));var Pm;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Pm||(Pm={}));var Lm;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Lm||(Lm={}));var zm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(zm||(zm={}));var Bm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Bm||(Bm={}));var Gm;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(Gm||(Gm={}));var Vm;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Vm||(Vm={}));var qm;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(qm||(qm={}));var Fm;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Fm||(Fm={}));var Hm;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Hm||(Hm={}));var Om;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Om||(Om={}));var Ym;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Ym||(Ym={}));var Jm;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Jm||(Jm={}));var Km;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Km||(Km={}));var Hs;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Hs||(Hs={}));class qd{constructor(n){const a={};for(const s of n.headers.entries())a[s[0]]=s[1];this.headers=a,this.responseInternal=n}json(){return this.responseInternal.json()}}class ul{get text(){var n,a,s,l,c,f,p,y;if(((l=(s=(a=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",_=!1;const S=[];for(const E of(y=(p=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)!==null&&y!==void 0?y:[]){for(const[C,D]of Object.entries(E))C!=="text"&&C!=="thought"&&(D!==null||D!==void 0)&&S.push(C);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;_=!0,m+=E.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),_?m:void 0}get data(){var n,a,s,l,c,f,p,y;if(((l=(s=(a=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const _=[];for(const S of(y=(p=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)!==null&&y!==void 0?y:[]){for(const[E,C]of Object.entries(S))E!=="inlineData"&&(C!==null||C!==void 0)&&_.push(E);S.inlineData&&typeof S.inlineData.data=="string"&&(m+=atob(S.inlineData.data))}return _.length>0&&console.warn(`there are non-data parts ${_} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var n,a,s,l,c,f,p,y;if(((l=(s=(a=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(y=(p=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(_=>_.functionCall).map(_=>_.functionCall).filter(_=>_!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var n,a,s,l,c,f,p,y,m;if(((l=(s=(a=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const _=(y=(p=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((_==null?void 0:_.length)!==0)return(m=_==null?void 0:_[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var n,a,s,l,c,f,p,y,m;if(((l=(s=(a=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const _=(y=(p=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((_==null?void 0:_.length)!==0)return(m=_==null?void 0:_[0])===null||m===void 0?void 0:m.output}}class jm{}class Zm{}class Zv{}class Xv{}class $v{}class Qv{}class Xm{}class $m{}class Qm{}class Wv{}class Yu{_fromAPIResponse({apiResponse:n,_isVertexAI:a}){const s=new Yu;let l;const c=n;return a?l=zv(c):l=Lv(c),Object.assign(s,l),s}}class Wm{}class eg{}class tg{}class e0{}class t0{}class n0{}class Qd{_fromAPIResponse({apiResponse:n,_isVertexAI:a}){const s=new Qd,c=Ov(n);return Object.assign(s,c),s}}class i0{}class o0{}class a0{}class ng{}class s0{get text(){var n,a,s;let l="",c=!1;const f=[];for(const p of(s=(a=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||a===void 0?void 0:a.parts)!==null&&s!==void 0?s:[]){for(const[y,m]of Object.entries(p))y!=="text"&&y!=="thought"&&m!==null&&f.push(y);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;c=!0,l+=p.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?l:void 0}get data(){var n,a,s;let l="";const c=[];for(const f of(s=(a=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||a===void 0?void 0:a.parts)!==null&&s!==void 0?s:[]){for(const[p,y]of Object.entries(f))p!=="inlineData"&&y!==null&&c.push(p);f.inlineData&&typeof f.inlineData.data=="string"&&(l+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class r0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Wd{_fromAPIResponse({apiResponse:n,_isVertexAI:a}){const s=new Wd,c=kg(n);return Object.assign(s,c),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ft(i,n){if(!n||typeof n!="string")throw new Error("model is required and must be a string");if(i.isVertexAI()){if(n.startsWith("publishers/")||n.startsWith("projects/")||n.startsWith("models/"))return n;if(n.indexOf("/")>=0){const a=n.split("/",2);return`publishers/${a[0]}/models/${a[1]}`}else return`publishers/google/models/${n}`}else return n.startsWith("models/")||n.startsWith("tunedModels/")?n:`models/${n}`}function Ug(i,n){const a=ft(i,n);return a?a.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${a}`:a.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${a}`:a:""}function Pg(i){return Array.isArray(i)?i.map(n=>Ju(n)):[Ju(i)]}function Ju(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Lg(i){const n=Ju(i);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function zg(i){const n=Ju(i);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function ig(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function Bg(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(n=>ig(n)):[ig(i)]}function Fd(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function og(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function ag(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function mn(i){if(i==null)throw new Error("ContentUnion is required");return Fd(i)?i:{role:"user",parts:Bg(i)}}function ef(i,n){if(!n)return[];if(i.isVertexAI()&&Array.isArray(n))return n.flatMap(a=>{const s=mn(a);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(i.isVertexAI()){const a=mn(n);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]}return Array.isArray(n)?n.map(a=>mn(a)):[mn(n)]}function mi(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(og(i)||ag(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[mn(i)]}const n=[],a=[],s=Fd(i[0]);for(const l of i){const c=Fd(l);if(c!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)n.push(l);else{if(og(l)||ag(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");a.push(l)}}return s||n.push({role:"user",parts:Bg(a)}),n}function l0(i,n){i.includes("null")&&(n.nullable=!0);const a=i.filter(s=>s!=="null");if(a.length===1)n.type=Object.values(ga).includes(a[0].toUpperCase())?a[0].toUpperCase():ga.TYPE_UNSPECIFIED;else{n.anyOf=[];for(const s of a)n.anyOf.push({type:Object.values(ga).includes(s.toUpperCase())?s.toUpperCase():ga.TYPE_UNSPECIFIED})}}function Os(i){const n={},a=["items"],s=["anyOf"],l=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=i.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(n.nullable=!0,i=c[1]):c[1].type==="null"&&(n.nullable=!0,i=c[0])),i.type instanceof Array&&l0(i.type,n);for(const[f,p]of Object.entries(i))if(p!=null)if(f=="type"){if(p==="null")throw new Error("type: null can not be the only possible type for the field.");if(p instanceof Array)continue;n.type=Object.values(ga).includes(p.toUpperCase())?p.toUpperCase():ga.TYPE_UNSPECIFIED}else if(a.includes(f))n[f]=Os(p);else if(s.includes(f)){const y=[];for(const m of p){if(m.type=="null"){n.nullable=!0;continue}y.push(Os(m))}n[f]=y}else if(l.includes(f)){const y={};for(const[m,_]of Object.entries(p))y[m]=Os(_);n[f]=y}else{if(f==="additionalProperties")continue;n[f]=p}return n}function tf(i){return Os(i)}function nf(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function of(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function Ks(i){if(i.functionDeclarations)for(const n of i.functionDeclarations)n.parameters&&(Object.keys(n.parameters).includes("$schema")?n.parametersJsonSchema||(n.parametersJsonSchema=n.parameters,delete n.parameters):n.parameters=Os(n.parameters)),n.response&&(Object.keys(n.response).includes("$schema")?n.responseJsonSchema||(n.responseJsonSchema=n.response,delete n.response):n.response=Os(n.response));return i}function js(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const n=[];for(const a of i)n.push(a);return n}function u0(i,n,a,s=1){const l=!n.startsWith(`${a}/`)&&n.split("/").length===s;return i.isVertexAI()?n.startsWith("projects/")?n:n.startsWith("locations/")?`projects/${i.getProject()}/${n}`:n.startsWith(`${a}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${n}`:l?`projects/${i.getProject()}/locations/${i.getLocation()}/${a}/${n}`:n:l?`${a}/${n}`:n}function wo(i,n){if(typeof n!="string")throw new Error("name must be a string");return u0(i,n,"cachedContents")}function Gg(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function ya(i){return $d(i)}function c0(i){return i!=null&&typeof i=="object"&&"name"in i}function d0(i){return i!=null&&typeof i=="object"&&"video"in i}function f0(i){return i!=null&&typeof i=="object"&&"uri"in i}function Vg(i){var n;let a;if(c0(i)&&(a=i.name),!(f0(i)&&(a=i.uri,a===void 0))&&!(d0(i)&&(a=(n=i.video)===null||n===void 0?void 0:n.uri,a===void 0))){if(typeof i=="string"&&(a=i),a===void 0)throw new Error("Could not extract file name from the provided input.");if(a.startsWith("https://")){const l=a.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${a}`);a=l[0]}else a.startsWith("files/")&&(a=a.split("files/")[1]);return a}}function qg(i,n){let a;return i.isVertexAI()?a=n?"publishers/google/models":"models":a=n?"models":"tunedModels",a}function Fg(i){for(const n of["models","tunedModels","publisherModels"])if(h0(i,n))return i[n];return[]}function h0(i,n){return i!==null&&typeof i=="object"&&n in i}function p0(i,n={}){const a=i,s={name:a.name,description:a.description,parametersJsonSchema:a.inputSchema};return a.outputSchema&&(s.responseJsonSchema=a.outputSchema),n.behavior&&(s.behavior=n.behavior),{functionDeclarations:[s]}}function m0(i,n={}){const a=[],s=new Set;for(const l of i){const c=l.name;if(s.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);s.add(c);const f=p0(l,n);f.functionDeclarations&&a.push(...f.functionDeclarations)}return{functionDeclarations:a}}function Hg(i,n){let a;if(typeof n=="string")if(i.isVertexAI())if(n.startsWith("gs://"))a={format:"jsonl",gcsUri:[n]};else if(n.startsWith("bq://"))a={format:"bigquery",bigqueryUri:n};else throw new Error(`Unsupported string source for Vertex AI: ${n}`);else if(n.startsWith("files/"))a={fileName:n};else throw new Error(`Unsupported string source for Gemini API: ${n}`);else if(Array.isArray(n)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");a={inlinedRequests:n}}else a=n;const s=[a.gcsUri,a.bigqueryUri].filter(Boolean).length,l=[a.inlinedRequests,a.fileName].filter(Boolean).length;if(i.isVertexAI()){if(l>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||l!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return a}function g0(i){if(typeof i!="string")return i;const n=i;if(n.startsWith("gs://"))return{format:"jsonl",gcsUri:n};if(n.startsWith("bq://"))return{format:"bigquery",bigqueryUri:n};throw new Error(`Unsupported destination: ${n}`)}function Og(i){if(typeof i!="object"||i===null)return{};const n=i,a=n.inlinedResponses;if(typeof a!="object"||a===null)return i;const l=a.inlinedResponses;if(!Array.isArray(l)||l.length===0)return i;let c=!1;for(const f of l){if(typeof f!="object"||f===null)continue;const y=f.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){c=!0;break}}return c&&(n.inlinedEmbedContentResponses=n.inlinedResponses,delete n.inlinedResponses),i}function Zs(i,n){const a=n;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(a))return a.split("/").pop();throw new Error(`Invalid batch job name: ${a}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(a))return a.split("/").pop();if(/^\d+$/.test(a))return a;throw new Error(`Invalid batch job name: ${a}.`)}function Yg(i){const n=i;return n==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":n==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":n==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":n==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":n==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":n==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":n==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function y0(i){const n={},a=u(i,["responsesFile"]);a!=null&&d(n,["fileName"],a);const s=u(i,["inlinedResponses","inlinedResponses"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>j0(f))),d(n,["inlinedResponses"],c)}const l=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>f)),d(n,["inlinedEmbedContentResponses"],c)}return n}function v0(i){const n={},a=u(i,["predictionsFormat"]);a!=null&&d(n,["format"],a);const s=u(i,["gcsDestination","outputUriPrefix"]);s!=null&&d(n,["gcsUri"],s);const l=u(i,["bigqueryDestination","outputUri"]);return l!=null&&d(n,["bigqueryUri"],l),n}function _0(i){const n={},a=u(i,["format"]);a!=null&&d(n,["predictionsFormat"],a);const s=u(i,["gcsUri"]);s!=null&&d(n,["gcsDestination","outputUriPrefix"],s);const l=u(i,["bigqueryUri"]);if(l!=null&&d(n,["bigqueryDestination","outputUri"],l),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return n}function Fu(i){const n={},a=u(i,["name"]);a!=null&&d(n,["name"],a);const s=u(i,["metadata","displayName"]);s!=null&&d(n,["displayName"],s);const l=u(i,["metadata","state"]);l!=null&&d(n,["state"],Yg(l));const c=u(i,["metadata","createTime"]);c!=null&&d(n,["createTime"],c);const f=u(i,["metadata","endTime"]);f!=null&&d(n,["endTime"],f);const p=u(i,["metadata","updateTime"]);p!=null&&d(n,["updateTime"],p);const y=u(i,["metadata","model"]);y!=null&&d(n,["model"],y);const m=u(i,["metadata","output"]);return m!=null&&d(n,["dest"],y0(Og(m))),n}function Hd(i){const n={},a=u(i,["name"]);a!=null&&d(n,["name"],a);const s=u(i,["displayName"]);s!=null&&d(n,["displayName"],s);const l=u(i,["state"]);l!=null&&d(n,["state"],Yg(l));const c=u(i,["error"]);c!=null&&d(n,["error"],c);const f=u(i,["createTime"]);f!=null&&d(n,["createTime"],f);const p=u(i,["startTime"]);p!=null&&d(n,["startTime"],p);const y=u(i,["endTime"]);y!=null&&d(n,["endTime"],y);const m=u(i,["updateTime"]);m!=null&&d(n,["updateTime"],m);const _=u(i,["model"]);_!=null&&d(n,["model"],_);const S=u(i,["inputConfig"]);S!=null&&d(n,["src"],S0(S));const E=u(i,["outputConfig"]);E!=null&&d(n,["dest"],v0(Og(E)));const C=u(i,["completionStats"]);return C!=null&&d(n,["completionStats"],C),n}function S0(i){const n={},a=u(i,["instancesFormat"]);a!=null&&d(n,["format"],a);const s=u(i,["gcsSource","uris"]);s!=null&&d(n,["gcsUri"],s);const l=u(i,["bigquerySource","inputUri"]);return l!=null&&d(n,["bigqueryUri"],l),n}function T0(i,n){const a={};if(u(n,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(n,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=u(n,["fileName"]);s!=null&&d(a,["fileName"],s);const l=u(n,["inlinedRequests"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>K0(i,f))),d(a,["requests","requests"],c)}return a}function E0(i){const n={},a=u(i,["format"]);a!=null&&d(n,["instancesFormat"],a);const s=u(i,["gcsUri"]);s!=null&&d(n,["gcsSource","uris"],s);const l=u(i,["bigqueryUri"]);if(l!=null&&d(n,["bigquerySource","inputUri"],l),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return n}function A0(i){const n={},a=u(i,["data"]);if(a!=null&&d(n,["data"],a),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function C0(i,n){const a={},s=u(n,["name"]);return s!=null&&d(a,["_url","name"],Zs(i,s)),a}function x0(i,n){const a={},s=u(n,["name"]);return s!=null&&d(a,["_url","name"],Zs(i,s)),a}function w0(i){const n={},a=u(i,["content"]);a!=null&&d(n,["content"],a);const s=u(i,["citationMetadata"]);s!=null&&d(n,["citationMetadata"],b0(s));const l=u(i,["tokenCount"]);l!=null&&d(n,["tokenCount"],l);const c=u(i,["finishReason"]);c!=null&&d(n,["finishReason"],c);const f=u(i,["avgLogprobs"]);f!=null&&d(n,["avgLogprobs"],f);const p=u(i,["groundingMetadata"]);p!=null&&d(n,["groundingMetadata"],p);const y=u(i,["index"]);y!=null&&d(n,["index"],y);const m=u(i,["logprobsResult"]);m!=null&&d(n,["logprobsResult"],m);const _=u(i,["safetyRatings"]);if(_!=null){let E=_;Array.isArray(E)&&(E=E.map(C=>C)),d(n,["safetyRatings"],E)}const S=u(i,["urlContextMetadata"]);return S!=null&&d(n,["urlContextMetadata"],S),n}function b0(i){const n={},a=u(i,["citationSources"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>l)),d(n,["citations"],s)}return n}function Jg(i){const n={},a=u(i,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>t_(c))),d(n,["parts"],l)}const s=u(i,["role"]);return s!=null&&d(n,["role"],s),n}function N0(i,n){const a={},s=u(i,["displayName"]);if(n!==void 0&&s!=null&&d(n,["batch","displayName"],s),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return a}function R0(i,n){const a={},s=u(i,["displayName"]);n!==void 0&&s!=null&&d(n,["displayName"],s);const l=u(i,["dest"]);return n!==void 0&&l!=null&&d(n,["outputConfig"],_0(g0(l))),a}function sg(i,n){const a={},s=u(n,["model"]);s!=null&&d(a,["_url","model"],ft(i,s));const l=u(n,["src"]);l!=null&&d(a,["batch","inputConfig"],T0(i,Hg(i,l)));const c=u(n,["config"]);return c!=null&&N0(c,a),a}function I0(i,n){const a={},s=u(n,["model"]);s!=null&&d(a,["model"],ft(i,s));const l=u(n,["src"]);l!=null&&d(a,["inputConfig"],E0(Hg(i,l)));const c=u(n,["config"]);return c!=null&&R0(c,a),a}function M0(i,n){const a={},s=u(i,["displayName"]);return n!==void 0&&s!=null&&d(n,["batch","displayName"],s),a}function D0(i,n){const a={},s=u(n,["model"]);s!=null&&d(a,["_url","model"],ft(i,s));const l=u(n,["src"]);l!=null&&d(a,["batch","inputConfig"],G0(i,l));const c=u(n,["config"]);return c!=null&&M0(c,a),a}function k0(i,n){const a={},s=u(n,["name"]);return s!=null&&d(a,["_url","name"],Zs(i,s)),a}function U0(i,n){const a={},s=u(n,["name"]);return s!=null&&d(a,["_url","name"],Zs(i,s)),a}function P0(i){const n={},a=u(i,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=u(i,["name"]);s!=null&&d(n,["name"],s);const l=u(i,["done"]);l!=null&&d(n,["done"],l);const c=u(i,["error"]);return c!=null&&d(n,["error"],c),n}function L0(i){const n={},a=u(i,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=u(i,["name"]);s!=null&&d(n,["name"],s);const l=u(i,["done"]);l!=null&&d(n,["done"],l);const c=u(i,["error"]);return c!=null&&d(n,["error"],c),n}function z0(i,n){const a={},s=u(n,["contents"]);if(s!=null){let c=ef(i,s);Array.isArray(c)&&(c=c.map(f=>f)),d(a,["requests[]","request","content"],c)}const l=u(n,["config"]);return l!=null&&(d(a,["_self"],B0(l,a)),Uv(a,{"requests[].*":"requests[].request.*"})),a}function B0(i,n){const a={},s=u(i,["taskType"]);n!==void 0&&s!=null&&d(n,["requests[]","taskType"],s);const l=u(i,["title"]);n!==void 0&&l!=null&&d(n,["requests[]","title"],l);const c=u(i,["outputDimensionality"]);if(n!==void 0&&c!=null&&d(n,["requests[]","outputDimensionality"],c),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return a}function G0(i,n){const a={},s=u(n,["fileName"]);s!=null&&d(a,["file_name"],s);const l=u(n,["inlinedRequests"]);return l!=null&&d(a,["requests"],z0(i,l)),a}function V0(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["fileUri"]);a!=null&&d(n,["fileUri"],a);const s=u(i,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function q0(i,n,a){const s={},l=u(n,["systemInstruction"]);a!==void 0&&l!=null&&d(a,["systemInstruction"],Jg(mn(l)));const c=u(n,["temperature"]);c!=null&&d(s,["temperature"],c);const f=u(n,["topP"]);f!=null&&d(s,["topP"],f);const p=u(n,["topK"]);p!=null&&d(s,["topK"],p);const y=u(n,["candidateCount"]);y!=null&&d(s,["candidateCount"],y);const m=u(n,["maxOutputTokens"]);m!=null&&d(s,["maxOutputTokens"],m);const _=u(n,["stopSequences"]);_!=null&&d(s,["stopSequences"],_);const S=u(n,["responseLogprobs"]);S!=null&&d(s,["responseLogprobs"],S);const E=u(n,["logprobs"]);E!=null&&d(s,["logprobs"],E);const C=u(n,["presencePenalty"]);C!=null&&d(s,["presencePenalty"],C);const D=u(n,["frequencyPenalty"]);D!=null&&d(s,["frequencyPenalty"],D);const w=u(n,["seed"]);w!=null&&d(s,["seed"],w);const M=u(n,["responseMimeType"]);M!=null&&d(s,["responseMimeType"],M);const N=u(n,["responseSchema"]);N!=null&&d(s,["responseSchema"],tf(N));const U=u(n,["responseJsonSchema"]);if(U!=null&&d(s,["responseJsonSchema"],U),u(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const L=u(n,["safetySettings"]);if(a!==void 0&&L!=null){let V=L;Array.isArray(V)&&(V=V.map(re=>n_(re))),d(a,["safetySettings"],V)}const q=u(n,["tools"]);if(a!==void 0&&q!=null){let V=js(q);Array.isArray(V)&&(V=V.map(re=>i_(Ks(re)))),d(a,["tools"],V)}const O=u(n,["toolConfig"]);if(a!==void 0&&O!=null&&d(a,["toolConfig"],O),u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ee=u(n,["cachedContent"]);a!==void 0&&ee!=null&&d(a,["cachedContent"],wo(i,ee));const J=u(n,["responseModalities"]);J!=null&&d(s,["responseModalities"],J);const pe=u(n,["mediaResolution"]);pe!=null&&d(s,["mediaResolution"],pe);const Z=u(n,["speechConfig"]);if(Z!=null&&d(s,["speechConfig"],nf(Z)),u(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ye=u(n,["thinkingConfig"]);ye!=null&&d(s,["thinkingConfig"],ye);const Me=u(n,["imageConfig"]);return Me!=null&&d(s,["imageConfig"],Me),s}function F0(i){const n={},a=u(i,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=u(i,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(m=>w0(m))),d(n,["candidates"],y)}const l=u(i,["modelVersion"]);l!=null&&d(n,["modelVersion"],l);const c=u(i,["promptFeedback"]);c!=null&&d(n,["promptFeedback"],c);const f=u(i,["responseId"]);f!=null&&d(n,["responseId"],f);const p=u(i,["usageMetadata"]);return p!=null&&d(n,["usageMetadata"],p),n}function H0(i,n){const a={},s=u(n,["name"]);return s!=null&&d(a,["_url","name"],Zs(i,s)),a}function O0(i,n){const a={},s=u(n,["name"]);return s!=null&&d(a,["_url","name"],Zs(i,s)),a}function Y0(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const a=u(i,["enableWidget"]);return a!=null&&d(n,["enableWidget"],a),n}function J0(i){const n={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const a=u(i,["timeRangeFilter"]);return a!=null&&d(n,["timeRangeFilter"],a),n}function K0(i,n){const a={},s=u(n,["model"]);s!=null&&d(a,["request","model"],ft(i,s));const l=u(n,["contents"]);if(l!=null){let p=mi(l);Array.isArray(p)&&(p=p.map(y=>Jg(y))),d(a,["request","contents"],p)}const c=u(n,["metadata"]);c!=null&&d(a,["metadata"],c);const f=u(n,["config"]);return f!=null&&d(a,["request","generationConfig"],q0(i,f,u(a,["request"],{}))),a}function j0(i){const n={},a=u(i,["response"]);a!=null&&d(n,["response"],F0(a));const s=u(i,["error"]);return s!=null&&d(n,["error"],s),n}function Z0(i,n){const a={},s=u(i,["pageSize"]);n!==void 0&&s!=null&&d(n,["_query","pageSize"],s);const l=u(i,["pageToken"]);if(n!==void 0&&l!=null&&d(n,["_query","pageToken"],l),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return a}function X0(i,n){const a={},s=u(i,["pageSize"]);n!==void 0&&s!=null&&d(n,["_query","pageSize"],s);const l=u(i,["pageToken"]);n!==void 0&&l!=null&&d(n,["_query","pageToken"],l);const c=u(i,["filter"]);return n!==void 0&&c!=null&&d(n,["_query","filter"],c),a}function $0(i){const n={},a=u(i,["config"]);return a!=null&&Z0(a,n),n}function Q0(i){const n={},a=u(i,["config"]);return a!=null&&X0(a,n),n}function W0(i){const n={},a=u(i,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=u(i,["nextPageToken"]);s!=null&&d(n,["nextPageToken"],s);const l=u(i,["operations"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>Fu(f))),d(n,["batchJobs"],c)}return n}function e_(i){const n={},a=u(i,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=u(i,["nextPageToken"]);s!=null&&d(n,["nextPageToken"],s);const l=u(i,["batchPredictionJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>Hd(f))),d(n,["batchJobs"],c)}return n}function t_(i){const n={},a=u(i,["functionCall"]);a!=null&&d(n,["functionCall"],a);const s=u(i,["codeExecutionResult"]);s!=null&&d(n,["codeExecutionResult"],s);const l=u(i,["executableCode"]);l!=null&&d(n,["executableCode"],l);const c=u(i,["fileData"]);c!=null&&d(n,["fileData"],V0(c));const f=u(i,["functionResponse"]);f!=null&&d(n,["functionResponse"],f);const p=u(i,["inlineData"]);p!=null&&d(n,["inlineData"],A0(p));const y=u(i,["text"]);y!=null&&d(n,["text"],y);const m=u(i,["thought"]);m!=null&&d(n,["thought"],m);const _=u(i,["thoughtSignature"]);_!=null&&d(n,["thoughtSignature"],_);const S=u(i,["videoMetadata"]);return S!=null&&d(n,["videoMetadata"],S),n}function n_(i){const n={},a=u(i,["category"]);if(a!=null&&d(n,["category"],a),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(i,["threshold"]);return s!=null&&d(n,["threshold"],s),n}function i_(i){const n={},a=u(i,["functionDeclarations"]);if(a!=null){let _=a;Array.isArray(_)&&(_=_.map(S=>S)),d(n,["functionDeclarations"],_)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["googleSearchRetrieval"]);s!=null&&d(n,["googleSearchRetrieval"],s);const l=u(i,["computerUse"]);l!=null&&d(n,["computerUse"],l);const c=u(i,["fileSearch"]);c!=null&&d(n,["fileSearch"],c);const f=u(i,["codeExecution"]);if(f!=null&&d(n,["codeExecution"],f),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(i,["googleMaps"]);p!=null&&d(n,["googleMaps"],Y0(p));const y=u(i,["googleSearch"]);y!=null&&d(n,["googleSearch"],J0(y));const m=u(i,["urlContext"]);return m!=null&&d(n,["urlContext"],m),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Co;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(Co||(Co={}));class Ja{constructor(n,a,s,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=a,this.init(n,s,l)}init(n,a,s){var l,c;this.nameInternal=n,this.pageInternal=a[this.nameInternal]||[],this.sdkHttpResponseInternal=a==null?void 0:a.sdkHttpResponse,this.idxInternal=0;let f={config:{}};!s||Object.keys(s).length===0?f={config:{}}:typeof s=="object"?f=Object.assign({},s):f=s,f.config&&(f.config.pageToken=a.nextPageToken),this.paramsInternal=f,this.pageInternalSize=(c=(l=f.config)===null||l===void 0?void 0:l.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(n){this.init(this.nameInternal,n,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(n){return this.pageInternal[n]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const n=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:n,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const n=await this.requestInternal(this.params);return this.initNextPage(n),this.page}hasNextPage(){var n;return((n=this.params.config)===null||n===void 0?void 0:n.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class o_ extends xo{constructor(n){super(),this.apiClient=n,this.create=async a=>(this.apiClient.isVertexAI()&&(a.config=this.formatDestination(a.src,a.config)),this.createInternal(a)),this.createEmbeddings=async a=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(a)},this.list=async(a={})=>new Ja(Co.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(a),a)}createInlinedGenerateContentRequest(n){const a=sg(this.apiClient,n),s=a._url,l=Ue("{model}:batchGenerateContent",s),p=a.batch.inputConfig.requests,y=p.requests,m=[];for(const _ of y){const S=Object.assign({},_);if(S.systemInstruction){const E=S.systemInstruction;delete S.systemInstruction;const C=S.request;C.systemInstruction=E,S.request=C}m.push(S)}return p.requests=m,delete a.config,delete a._url,delete a._query,{path:l,body:a}}getGcsUri(n){if(typeof n=="string")return n.startsWith("gs://")?n:void 0;if(!Array.isArray(n)&&n.gcsUri&&n.gcsUri.length>0)return n.gcsUri[0]}getBigqueryUri(n){if(typeof n=="string")return n.startsWith("bq://")?n:void 0;if(!Array.isArray(n))return n.bigqueryUri}formatDestination(n,a){const s=a?Object.assign({},a):{},l=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${l}`),s.dest===void 0){const c=this.getGcsUri(n),f=this.getBigqueryUri(n);if(c)c.endsWith(".jsonl")?s.dest=`${c.slice(0,-6)}/dest`:s.dest=`${c}_dest_${l}`;else if(f)s.dest=`${f}_dest_${l}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(n){var a,s,l,c;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=I0(this.apiClient,n);return p=Ue("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(_=>_.json()),f.then(_=>Hd(_))}else{const m=sg(this.apiClient,n);return p=Ue("{model}:batchGenerateContent",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json()),f.then(_=>Fu(_))}}async createEmbeddingsInternal(n){var a,s;let l,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=D0(this.apiClient,n);return c=Ue("{model}:asyncBatchEmbedContent",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>Fu(y))}}async get(n){var a,s,l,c;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=O0(this.apiClient,n);return p=Ue("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(_=>_.json()),f.then(_=>Hd(_))}else{const m=H0(this.apiClient,n);return p=Ue("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json()),f.then(_=>Fu(_))}}async cancel(n){var a,s,l,c;let f="",p={};if(this.apiClient.isVertexAI()){const y=x0(this.apiClient,n);f=Ue("batchPredictionJobs/{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=C0(this.apiClient,n);f=Ue("batches/{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(n){var a,s,l,c;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=Q0(n);return p=Ue("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(_=>_.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:_.headers},E})),f.then(_=>{const S=e_(_),E=new ng;return Object.assign(E,S),E})}else{const m=$0(n);return p=Ue("batches",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:_.headers},E})),f.then(_=>{const S=W0(_),E=new ng;return Object.assign(E,S),E})}}async delete(n){var a,s,l,c;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=U0(this.apiClient,n);return p=Ue("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(_=>_.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:_.headers},E})),f.then(_=>L0(_))}else{const m=k0(this.apiClient,n);return p=Ue("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:_.headers},E})),f.then(_=>P0(_))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function a_(i){const n={},a=u(i,["data"]);if(a!=null&&d(n,["data"],a),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function rg(i){const n={},a=u(i,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>w_(c))),d(n,["parts"],l)}const s=u(i,["role"]);return s!=null&&d(n,["role"],s),n}function s_(i,n){const a={},s=u(i,["ttl"]);n!==void 0&&s!=null&&d(n,["ttl"],s);const l=u(i,["expireTime"]);n!==void 0&&l!=null&&d(n,["expireTime"],l);const c=u(i,["displayName"]);n!==void 0&&c!=null&&d(n,["displayName"],c);const f=u(i,["contents"]);if(n!==void 0&&f!=null){let _=mi(f);Array.isArray(_)&&(_=_.map(S=>rg(S))),d(n,["contents"],_)}const p=u(i,["systemInstruction"]);n!==void 0&&p!=null&&d(n,["systemInstruction"],rg(mn(p)));const y=u(i,["tools"]);if(n!==void 0&&y!=null){let _=y;Array.isArray(_)&&(_=_.map(S=>b_(S))),d(n,["tools"],_)}const m=u(i,["toolConfig"]);if(n!==void 0&&m!=null&&d(n,["toolConfig"],m),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return a}function r_(i,n){const a={},s=u(i,["ttl"]);n!==void 0&&s!=null&&d(n,["ttl"],s);const l=u(i,["expireTime"]);n!==void 0&&l!=null&&d(n,["expireTime"],l);const c=u(i,["displayName"]);n!==void 0&&c!=null&&d(n,["displayName"],c);const f=u(i,["contents"]);if(n!==void 0&&f!=null){let S=mi(f);Array.isArray(S)&&(S=S.map(E=>E)),d(n,["contents"],S)}const p=u(i,["systemInstruction"]);n!==void 0&&p!=null&&d(n,["systemInstruction"],mn(p));const y=u(i,["tools"]);if(n!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(E=>N_(E))),d(n,["tools"],S)}const m=u(i,["toolConfig"]);n!==void 0&&m!=null&&d(n,["toolConfig"],m);const _=u(i,["kmsKeyName"]);return n!==void 0&&_!=null&&d(n,["encryption_spec","kmsKeyName"],_),a}function l_(i,n){const a={},s=u(n,["model"]);s!=null&&d(a,["model"],Ug(i,s));const l=u(n,["config"]);return l!=null&&s_(l,a),a}function u_(i,n){const a={},s=u(n,["model"]);s!=null&&d(a,["model"],Ug(i,s));const l=u(n,["config"]);return l!=null&&r_(l,a),a}function c_(i,n){const a={},s=u(n,["name"]);return s!=null&&d(a,["_url","name"],wo(i,s)),a}function d_(i,n){const a={},s=u(n,["name"]);return s!=null&&d(a,["_url","name"],wo(i,s)),a}function f_(i){const n={},a=u(i,["sdkHttpResponse"]);return a!=null&&d(n,["sdkHttpResponse"],a),n}function h_(i){const n={},a=u(i,["sdkHttpResponse"]);return a!=null&&d(n,["sdkHttpResponse"],a),n}function p_(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["fileUri"]);a!=null&&d(n,["fileUri"],a);const s=u(i,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function m_(i){const n={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const a=u(i,["description"]);a!=null&&d(n,["description"],a);const s=u(i,["name"]);s!=null&&d(n,["name"],s);const l=u(i,["parameters"]);l!=null&&d(n,["parameters"],l);const c=u(i,["parametersJsonSchema"]);c!=null&&d(n,["parametersJsonSchema"],c);const f=u(i,["response"]);f!=null&&d(n,["response"],f);const p=u(i,["responseJsonSchema"]);return p!=null&&d(n,["responseJsonSchema"],p),n}function g_(i,n){const a={},s=u(n,["name"]);return s!=null&&d(a,["_url","name"],wo(i,s)),a}function y_(i,n){const a={},s=u(n,["name"]);return s!=null&&d(a,["_url","name"],wo(i,s)),a}function v_(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const a=u(i,["enableWidget"]);return a!=null&&d(n,["enableWidget"],a),n}function __(i){const n={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const a=u(i,["timeRangeFilter"]);return a!=null&&d(n,["timeRangeFilter"],a),n}function S_(i,n){const a={},s=u(i,["pageSize"]);n!==void 0&&s!=null&&d(n,["_query","pageSize"],s);const l=u(i,["pageToken"]);return n!==void 0&&l!=null&&d(n,["_query","pageToken"],l),a}function T_(i,n){const a={},s=u(i,["pageSize"]);n!==void 0&&s!=null&&d(n,["_query","pageSize"],s);const l=u(i,["pageToken"]);return n!==void 0&&l!=null&&d(n,["_query","pageToken"],l),a}function E_(i){const n={},a=u(i,["config"]);return a!=null&&S_(a,n),n}function A_(i){const n={},a=u(i,["config"]);return a!=null&&T_(a,n),n}function C_(i){const n={},a=u(i,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=u(i,["nextPageToken"]);s!=null&&d(n,["nextPageToken"],s);const l=u(i,["cachedContents"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>f)),d(n,["cachedContents"],c)}return n}function x_(i){const n={},a=u(i,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=u(i,["nextPageToken"]);s!=null&&d(n,["nextPageToken"],s);const l=u(i,["cachedContents"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>f)),d(n,["cachedContents"],c)}return n}function w_(i){const n={},a=u(i,["functionCall"]);a!=null&&d(n,["functionCall"],a);const s=u(i,["codeExecutionResult"]);s!=null&&d(n,["codeExecutionResult"],s);const l=u(i,["executableCode"]);l!=null&&d(n,["executableCode"],l);const c=u(i,["fileData"]);c!=null&&d(n,["fileData"],p_(c));const f=u(i,["functionResponse"]);f!=null&&d(n,["functionResponse"],f);const p=u(i,["inlineData"]);p!=null&&d(n,["inlineData"],a_(p));const y=u(i,["text"]);y!=null&&d(n,["text"],y);const m=u(i,["thought"]);m!=null&&d(n,["thought"],m);const _=u(i,["thoughtSignature"]);_!=null&&d(n,["thoughtSignature"],_);const S=u(i,["videoMetadata"]);return S!=null&&d(n,["videoMetadata"],S),n}function b_(i){const n={},a=u(i,["functionDeclarations"]);if(a!=null){let _=a;Array.isArray(_)&&(_=_.map(S=>S)),d(n,["functionDeclarations"],_)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["googleSearchRetrieval"]);s!=null&&d(n,["googleSearchRetrieval"],s);const l=u(i,["computerUse"]);l!=null&&d(n,["computerUse"],l);const c=u(i,["fileSearch"]);c!=null&&d(n,["fileSearch"],c);const f=u(i,["codeExecution"]);if(f!=null&&d(n,["codeExecution"],f),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(i,["googleMaps"]);p!=null&&d(n,["googleMaps"],v_(p));const y=u(i,["googleSearch"]);y!=null&&d(n,["googleSearch"],__(y));const m=u(i,["urlContext"]);return m!=null&&d(n,["urlContext"],m),n}function N_(i){const n={},a=u(i,["functionDeclarations"]);if(a!=null){let S=a;Array.isArray(S)&&(S=S.map(E=>m_(E))),d(n,["functionDeclarations"],S)}const s=u(i,["retrieval"]);s!=null&&d(n,["retrieval"],s);const l=u(i,["googleSearchRetrieval"]);l!=null&&d(n,["googleSearchRetrieval"],l);const c=u(i,["computerUse"]);if(c!=null&&d(n,["computerUse"],c),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=u(i,["codeExecution"]);f!=null&&d(n,["codeExecution"],f);const p=u(i,["enterpriseWebSearch"]);p!=null&&d(n,["enterpriseWebSearch"],p);const y=u(i,["googleMaps"]);y!=null&&d(n,["googleMaps"],y);const m=u(i,["googleSearch"]);m!=null&&d(n,["googleSearch"],m);const _=u(i,["urlContext"]);return _!=null&&d(n,["urlContext"],_),n}function R_(i,n){const a={},s=u(i,["ttl"]);n!==void 0&&s!=null&&d(n,["ttl"],s);const l=u(i,["expireTime"]);return n!==void 0&&l!=null&&d(n,["expireTime"],l),a}function I_(i,n){const a={},s=u(i,["ttl"]);n!==void 0&&s!=null&&d(n,["ttl"],s);const l=u(i,["expireTime"]);return n!==void 0&&l!=null&&d(n,["expireTime"],l),a}function M_(i,n){const a={},s=u(n,["name"]);s!=null&&d(a,["_url","name"],wo(i,s));const l=u(n,["config"]);return l!=null&&R_(l,a),a}function D_(i,n){const a={},s=u(n,["name"]);s!=null&&d(a,["_url","name"],wo(i,s));const l=u(n,["config"]);return l!=null&&I_(l,a),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class k_ extends xo{constructor(n){super(),this.apiClient=n,this.list=async(a={})=>new Ja(Co.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(a),a)}async create(n){var a,s,l,c;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=u_(this.apiClient,n);return p=Ue("cachedContents",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(_=>_.json()),f.then(_=>_)}else{const m=l_(this.apiClient,n);return p=Ue("cachedContents",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json()),f.then(_=>_)}}async get(n){var a,s,l,c;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=y_(this.apiClient,n);return p=Ue("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(_=>_.json()),f.then(_=>_)}else{const m=g_(this.apiClient,n);return p=Ue("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json()),f.then(_=>_)}}async delete(n){var a,s,l,c;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=d_(this.apiClient,n);return p=Ue("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(_=>_.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:_.headers},E})),f.then(_=>{const S=h_(_),E=new eg;return Object.assign(E,S),E})}else{const m=c_(this.apiClient,n);return p=Ue("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:_.headers},E})),f.then(_=>{const S=f_(_),E=new eg;return Object.assign(E,S),E})}}async update(n){var a,s,l,c;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=D_(this.apiClient,n);return p=Ue("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(_=>_.json()),f.then(_=>_)}else{const m=M_(this.apiClient,n);return p=Ue("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json()),f.then(_=>_)}}async listInternal(n){var a,s,l,c;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=A_(n);return p=Ue("cachedContents",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(_=>_.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:_.headers},E})),f.then(_=>{const S=x_(_),E=new tg;return Object.assign(E,S),E})}else{const m=E_(n);return p=Ue("cachedContents",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:_.headers},E})),f.then(_=>{const S=C_(_),E=new tg;return Object.assign(E,S),E})}}}function lg(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mt(i){return this instanceof Mt?(this.v=i,this):new Mt(i)}function Ys(i,n,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=a.apply(i,n||[]),l,c=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",f),l[Symbol.asyncIterator]=function(){return this},l;function f(C){return function(D){return Promise.resolve(D).then(C,S)}}function p(C,D){s[C]&&(l[C]=function(w){return new Promise(function(M,N){c.push([C,w,M,N])>1||y(C,w)})},D&&(l[C]=D(l[C])))}function y(C,D){try{m(s[C](D))}catch(w){E(c[0][3],w)}}function m(C){C.value instanceof Mt?Promise.resolve(C.value.v).then(_,S):E(c[0][2],C)}function _(C){y("next",C)}function S(C){y("throw",C)}function E(C,D){C(D),c.shift(),c.length&&y(c[0][0],c[0][1])}}function hl(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i[Symbol.asyncIterator],a;return n?n.call(i):(i=typeof lg=="function"?lg(i):i[Symbol.iterator](),a={},s("next"),s("throw"),s("return"),a[Symbol.asyncIterator]=function(){return this},a);function s(c){a[c]=i[c]&&function(f){return new Promise(function(p,y){f=i[c](f),l(p,y,f.done,f.value)})}}function l(c,f,p,y){Promise.resolve(y).then(function(m){c({value:m,done:p})},f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function U_(i){var n;if(i.candidates==null||i.candidates.length===0)return!1;const a=(n=i.candidates[0])===null||n===void 0?void 0:n.content;return a===void 0?!1:Kg(a)}function Kg(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const n of i.parts)if(n===void 0||Object.keys(n).length===0)return!1;return!0}function P_(i){if(i.length!==0){for(const n of i)if(n.role!=="user"&&n.role!=="model")throw new Error(`Role must be user or model, but got ${n.role}.`)}}function ug(i){if(i===void 0||i.length===0)return[];const n=[],a=i.length;let s=0;for(;s<a;)if(i[s].role==="user")n.push(i[s]),s++;else{const l=[];let c=!0;for(;s<a&&i[s].role==="model";)l.push(i[s]),c&&!Kg(i[s])&&(c=!1),s++;c?n.push(...l):n.pop()}return n}class L_{constructor(n,a){this.modelsModule=n,this.apiClient=a}create(n){return new z_(this.apiClient,this.modelsModule,n.model,n.config,structuredClone(n.history))}}class z_{constructor(n,a,s,l={},c=[]){this.apiClient=n,this.modelsModule=a,this.model=s,this.config=l,this.history=c,this.sendPromise=Promise.resolve(),P_(c)}async sendMessage(n){var a;await this.sendPromise;const s=mn(n.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(a=n.config)!==null&&a!==void 0?a:this.config});return this.sendPromise=(async()=>{var c,f,p;const y=await l,m=(f=(c=y.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content,_=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let E=[];_!=null&&(E=(p=_.slice(S))!==null&&p!==void 0?p:[]);const C=m?[m]:[];this.recordHistory(s,C,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(n){var a;await this.sendPromise;const s=mn(n.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(a=n.config)!==null&&a!==void 0?a:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const c=await l;return this.processStreamResponse(c,s)}getHistory(n=!1){const a=n?ug(this.history):this.history;return structuredClone(a)}processStreamResponse(n,a){var s,l;return Ys(this,arguments,function*(){var f,p,y,m;const _=[];try{for(var S=!0,E=hl(n),C;C=yield Mt(E.next()),f=C.done,!f;S=!0){m=C.value,S=!1;const D=m;if(U_(D)){const w=(l=(s=D.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content;w!==void 0&&_.push(w)}yield yield Mt(D)}}catch(D){p={error:D}}finally{try{!S&&!f&&(y=E.return)&&(yield Mt(y.call(E)))}finally{if(p)throw p.error}}this.recordHistory(a,_)})}recordHistory(n,a,s){let l=[];a.length>0&&a.every(c=>c.role!==void 0)?l=a:l.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...ug(s)):this.history.push(n),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ju extends Error{constructor(n){super(n.message),this.name="ApiError",this.status=n.status,Object.setPrototypeOf(this,ju.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function B_(i){const n={},a=u(i,["file"]);return a!=null&&d(n,["file"],a),n}function G_(i){const n={},a=u(i,["sdkHttpResponse"]);return a!=null&&d(n,["sdkHttpResponse"],a),n}function V_(i){const n={},a=u(i,["name"]);return a!=null&&d(n,["_url","file"],Vg(a)),n}function q_(i){const n={},a=u(i,["sdkHttpResponse"]);return a!=null&&d(n,["sdkHttpResponse"],a),n}function F_(i){const n={},a=u(i,["name"]);return a!=null&&d(n,["_url","file"],Vg(a)),n}function H_(i,n){const a={},s=u(i,["pageSize"]);n!==void 0&&s!=null&&d(n,["_query","pageSize"],s);const l=u(i,["pageToken"]);return n!==void 0&&l!=null&&d(n,["_query","pageToken"],l),a}function O_(i){const n={},a=u(i,["config"]);return a!=null&&H_(a,n),n}function Y_(i){const n={},a=u(i,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=u(i,["nextPageToken"]);s!=null&&d(n,["nextPageToken"],s);const l=u(i,["files"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>f)),d(n,["files"],c)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class J_ extends xo{constructor(n){super(),this.apiClient=n,this.list=async(a={})=>new Ja(Co.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(a),a)}async upload(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(n.file,n.config).then(a=>a)}async download(n){await this.apiClient.downloadFile(n)}async listInternal(n){var a,s;let l,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=O_(n);return c=Ue("files",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:y.headers},_})),l.then(y=>{const m=Y_(y),_=new i0;return Object.assign(_,m),_})}}async createInternal(n){var a,s;let l,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=B_(n);return c=Ue("upload/v1beta/files",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=G_(y),_=new o0;return Object.assign(_,m),_})}}async get(n){var a,s;let l,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=F_(n);return c=Ue("files/{file}",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async delete(n){var a,s;let l,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=V_(n);return c=Ue("files/{file}",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:y.headers},_})),l.then(y=>{const m=q_(y),_=new a0;return Object.assign(_,m),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hu(i){const n={},a=u(i,["data"]);if(a!=null&&d(n,["data"],a),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function K_(i){const n={},a=u(i,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>lS(c))),d(n,["parts"],l)}const s=u(i,["role"]);return s!=null&&d(n,["role"],s),n}function j_(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["fileUri"]);a!=null&&d(n,["fileUri"],a);const s=u(i,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function Z_(i){const n={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const a=u(i,["description"]);a!=null&&d(n,["description"],a);const s=u(i,["name"]);s!=null&&d(n,["name"],s);const l=u(i,["parameters"]);l!=null&&d(n,["parameters"],l);const c=u(i,["parametersJsonSchema"]);c!=null&&d(n,["parametersJsonSchema"],c);const f=u(i,["response"]);f!=null&&d(n,["response"],f);const p=u(i,["responseJsonSchema"]);return p!=null&&d(n,["responseJsonSchema"],p),n}function X_(i){const n={},a=u(i,["modelSelectionConfig"]);a!=null&&d(n,["modelConfig"],a);const s=u(i,["responseJsonSchema"]);s!=null&&d(n,["responseJsonSchema"],s);const l=u(i,["audioTimestamp"]);l!=null&&d(n,["audioTimestamp"],l);const c=u(i,["candidateCount"]);c!=null&&d(n,["candidateCount"],c);const f=u(i,["enableAffectiveDialog"]);f!=null&&d(n,["enableAffectiveDialog"],f);const p=u(i,["frequencyPenalty"]);p!=null&&d(n,["frequencyPenalty"],p);const y=u(i,["logprobs"]);y!=null&&d(n,["logprobs"],y);const m=u(i,["maxOutputTokens"]);m!=null&&d(n,["maxOutputTokens"],m);const _=u(i,["mediaResolution"]);_!=null&&d(n,["mediaResolution"],_);const S=u(i,["presencePenalty"]);S!=null&&d(n,["presencePenalty"],S);const E=u(i,["responseLogprobs"]);E!=null&&d(n,["responseLogprobs"],E);const C=u(i,["responseMimeType"]);C!=null&&d(n,["responseMimeType"],C);const D=u(i,["responseModalities"]);D!=null&&d(n,["responseModalities"],D);const w=u(i,["responseSchema"]);w!=null&&d(n,["responseSchema"],w);const M=u(i,["routingConfig"]);M!=null&&d(n,["routingConfig"],M);const N=u(i,["seed"]);N!=null&&d(n,["seed"],N);const U=u(i,["speechConfig"]);U!=null&&d(n,["speechConfig"],jg(U));const L=u(i,["stopSequences"]);L!=null&&d(n,["stopSequences"],L);const q=u(i,["temperature"]);q!=null&&d(n,["temperature"],q);const O=u(i,["thinkingConfig"]);O!=null&&d(n,["thinkingConfig"],O);const ee=u(i,["topK"]);ee!=null&&d(n,["topK"],ee);const J=u(i,["topP"]);if(J!=null&&d(n,["topP"],J),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function $_(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const a=u(i,["enableWidget"]);return a!=null&&d(n,["enableWidget"],a),n}function Q_(i){const n={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const a=u(i,["timeRangeFilter"]);return a!=null&&d(n,["timeRangeFilter"],a),n}function W_(i,n){const a={},s=u(i,["generationConfig"]);n!==void 0&&s!=null&&d(n,["setup","generationConfig"],s);const l=u(i,["responseModalities"]);n!==void 0&&l!=null&&d(n,["setup","generationConfig","responseModalities"],l);const c=u(i,["temperature"]);n!==void 0&&c!=null&&d(n,["setup","generationConfig","temperature"],c);const f=u(i,["topP"]);n!==void 0&&f!=null&&d(n,["setup","generationConfig","topP"],f);const p=u(i,["topK"]);n!==void 0&&p!=null&&d(n,["setup","generationConfig","topK"],p);const y=u(i,["maxOutputTokens"]);n!==void 0&&y!=null&&d(n,["setup","generationConfig","maxOutputTokens"],y);const m=u(i,["mediaResolution"]);n!==void 0&&m!=null&&d(n,["setup","generationConfig","mediaResolution"],m);const _=u(i,["seed"]);n!==void 0&&_!=null&&d(n,["setup","generationConfig","seed"],_);const S=u(i,["speechConfig"]);n!==void 0&&S!=null&&d(n,["setup","generationConfig","speechConfig"],of(S));const E=u(i,["thinkingConfig"]);n!==void 0&&E!=null&&d(n,["setup","generationConfig","thinkingConfig"],E);const C=u(i,["enableAffectiveDialog"]);n!==void 0&&C!=null&&d(n,["setup","generationConfig","enableAffectiveDialog"],C);const D=u(i,["systemInstruction"]);n!==void 0&&D!=null&&d(n,["setup","systemInstruction"],K_(mn(D)));const w=u(i,["tools"]);if(n!==void 0&&w!=null){let ee=js(w);Array.isArray(ee)&&(ee=ee.map(J=>cS(Ks(J)))),d(n,["setup","tools"],ee)}const M=u(i,["sessionResumption"]);n!==void 0&&M!=null&&d(n,["setup","sessionResumption"],uS(M));const N=u(i,["inputAudioTranscription"]);n!==void 0&&N!=null&&d(n,["setup","inputAudioTranscription"],N);const U=u(i,["outputAudioTranscription"]);n!==void 0&&U!=null&&d(n,["setup","outputAudioTranscription"],U);const L=u(i,["realtimeInputConfig"]);n!==void 0&&L!=null&&d(n,["setup","realtimeInputConfig"],L);const q=u(i,["contextWindowCompression"]);n!==void 0&&q!=null&&d(n,["setup","contextWindowCompression"],q);const O=u(i,["proactivity"]);return n!==void 0&&O!=null&&d(n,["setup","proactivity"],O),a}function eS(i,n){const a={},s=u(i,["generationConfig"]);n!==void 0&&s!=null&&d(n,["setup","generationConfig"],X_(s));const l=u(i,["responseModalities"]);n!==void 0&&l!=null&&d(n,["setup","generationConfig","responseModalities"],l);const c=u(i,["temperature"]);n!==void 0&&c!=null&&d(n,["setup","generationConfig","temperature"],c);const f=u(i,["topP"]);n!==void 0&&f!=null&&d(n,["setup","generationConfig","topP"],f);const p=u(i,["topK"]);n!==void 0&&p!=null&&d(n,["setup","generationConfig","topK"],p);const y=u(i,["maxOutputTokens"]);n!==void 0&&y!=null&&d(n,["setup","generationConfig","maxOutputTokens"],y);const m=u(i,["mediaResolution"]);n!==void 0&&m!=null&&d(n,["setup","generationConfig","mediaResolution"],m);const _=u(i,["seed"]);n!==void 0&&_!=null&&d(n,["setup","generationConfig","seed"],_);const S=u(i,["speechConfig"]);n!==void 0&&S!=null&&d(n,["setup","generationConfig","speechConfig"],jg(of(S)));const E=u(i,["thinkingConfig"]);n!==void 0&&E!=null&&d(n,["setup","generationConfig","thinkingConfig"],E);const C=u(i,["enableAffectiveDialog"]);n!==void 0&&C!=null&&d(n,["setup","generationConfig","enableAffectiveDialog"],C);const D=u(i,["systemInstruction"]);n!==void 0&&D!=null&&d(n,["setup","systemInstruction"],mn(D));const w=u(i,["tools"]);if(n!==void 0&&w!=null){let ee=js(w);Array.isArray(ee)&&(ee=ee.map(J=>dS(Ks(J)))),d(n,["setup","tools"],ee)}const M=u(i,["sessionResumption"]);n!==void 0&&M!=null&&d(n,["setup","sessionResumption"],M);const N=u(i,["inputAudioTranscription"]);n!==void 0&&N!=null&&d(n,["setup","inputAudioTranscription"],N);const U=u(i,["outputAudioTranscription"]);n!==void 0&&U!=null&&d(n,["setup","outputAudioTranscription"],U);const L=u(i,["realtimeInputConfig"]);n!==void 0&&L!=null&&d(n,["setup","realtimeInputConfig"],L);const q=u(i,["contextWindowCompression"]);n!==void 0&&q!=null&&d(n,["setup","contextWindowCompression"],q);const O=u(i,["proactivity"]);return n!==void 0&&O!=null&&d(n,["setup","proactivity"],O),a}function tS(i,n){const a={},s=u(n,["model"]);s!=null&&d(a,["setup","model"],ft(i,s));const l=u(n,["config"]);return l!=null&&d(a,["config"],W_(l,a)),a}function nS(i,n){const a={},s=u(n,["model"]);s!=null&&d(a,["setup","model"],ft(i,s));const l=u(n,["config"]);return l!=null&&d(a,["config"],eS(l,a)),a}function iS(i){const n={},a=u(i,["musicGenerationConfig"]);return a!=null&&d(n,["musicGenerationConfig"],a),n}function oS(i){const n={},a=u(i,["weightedPrompts"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>l)),d(n,["weightedPrompts"],s)}return n}function aS(i){const n={},a=u(i,["media"]);if(a!=null){let m=Pg(a);Array.isArray(m)&&(m=m.map(_=>Hu(_))),d(n,["mediaChunks"],m)}const s=u(i,["audio"]);s!=null&&d(n,["audio"],Hu(zg(s)));const l=u(i,["audioStreamEnd"]);l!=null&&d(n,["audioStreamEnd"],l);const c=u(i,["video"]);c!=null&&d(n,["video"],Hu(Lg(c)));const f=u(i,["text"]);f!=null&&d(n,["text"],f);const p=u(i,["activityStart"]);p!=null&&d(n,["activityStart"],p);const y=u(i,["activityEnd"]);return y!=null&&d(n,["activityEnd"],y),n}function sS(i){const n={},a=u(i,["media"]);if(a!=null){let m=Pg(a);Array.isArray(m)&&(m=m.map(_=>_)),d(n,["mediaChunks"],m)}const s=u(i,["audio"]);s!=null&&d(n,["audio"],zg(s));const l=u(i,["audioStreamEnd"]);l!=null&&d(n,["audioStreamEnd"],l);const c=u(i,["video"]);c!=null&&d(n,["video"],Lg(c));const f=u(i,["text"]);f!=null&&d(n,["text"],f);const p=u(i,["activityStart"]);p!=null&&d(n,["activityStart"],p);const y=u(i,["activityEnd"]);return y!=null&&d(n,["activityEnd"],y),n}function rS(i){const n={},a=u(i,["setupComplete"]);a!=null&&d(n,["setupComplete"],a);const s=u(i,["serverContent"]);s!=null&&d(n,["serverContent"],s);const l=u(i,["toolCall"]);l!=null&&d(n,["toolCall"],l);const c=u(i,["toolCallCancellation"]);c!=null&&d(n,["toolCallCancellation"],c);const f=u(i,["usageMetadata"]);f!=null&&d(n,["usageMetadata"],fS(f));const p=u(i,["goAway"]);p!=null&&d(n,["goAway"],p);const y=u(i,["sessionResumptionUpdate"]);return y!=null&&d(n,["sessionResumptionUpdate"],y),n}function lS(i){const n={},a=u(i,["functionCall"]);a!=null&&d(n,["functionCall"],a);const s=u(i,["codeExecutionResult"]);s!=null&&d(n,["codeExecutionResult"],s);const l=u(i,["executableCode"]);l!=null&&d(n,["executableCode"],l);const c=u(i,["fileData"]);c!=null&&d(n,["fileData"],j_(c));const f=u(i,["functionResponse"]);f!=null&&d(n,["functionResponse"],f);const p=u(i,["inlineData"]);p!=null&&d(n,["inlineData"],Hu(p));const y=u(i,["text"]);y!=null&&d(n,["text"],y);const m=u(i,["thought"]);m!=null&&d(n,["thought"],m);const _=u(i,["thoughtSignature"]);_!=null&&d(n,["thoughtSignature"],_);const S=u(i,["videoMetadata"]);return S!=null&&d(n,["videoMetadata"],S),n}function uS(i){const n={},a=u(i,["handle"]);if(a!=null&&d(n,["handle"],a),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function jg(i){const n={},a=u(i,["languageCode"]);a!=null&&d(n,["languageCode"],a);const s=u(i,["voiceConfig"]);if(s!=null&&d(n,["voiceConfig"],s),u(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return n}function cS(i){const n={},a=u(i,["functionDeclarations"]);if(a!=null){let _=a;Array.isArray(_)&&(_=_.map(S=>S)),d(n,["functionDeclarations"],_)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["googleSearchRetrieval"]);s!=null&&d(n,["googleSearchRetrieval"],s);const l=u(i,["computerUse"]);l!=null&&d(n,["computerUse"],l);const c=u(i,["fileSearch"]);c!=null&&d(n,["fileSearch"],c);const f=u(i,["codeExecution"]);if(f!=null&&d(n,["codeExecution"],f),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(i,["googleMaps"]);p!=null&&d(n,["googleMaps"],$_(p));const y=u(i,["googleSearch"]);y!=null&&d(n,["googleSearch"],Q_(y));const m=u(i,["urlContext"]);return m!=null&&d(n,["urlContext"],m),n}function dS(i){const n={},a=u(i,["functionDeclarations"]);if(a!=null){let S=a;Array.isArray(S)&&(S=S.map(E=>Z_(E))),d(n,["functionDeclarations"],S)}const s=u(i,["retrieval"]);s!=null&&d(n,["retrieval"],s);const l=u(i,["googleSearchRetrieval"]);l!=null&&d(n,["googleSearchRetrieval"],l);const c=u(i,["computerUse"]);if(c!=null&&d(n,["computerUse"],c),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=u(i,["codeExecution"]);f!=null&&d(n,["codeExecution"],f);const p=u(i,["enterpriseWebSearch"]);p!=null&&d(n,["enterpriseWebSearch"],p);const y=u(i,["googleMaps"]);y!=null&&d(n,["googleMaps"],y);const m=u(i,["googleSearch"]);m!=null&&d(n,["googleSearch"],m);const _=u(i,["urlContext"]);return _!=null&&d(n,["urlContext"],_),n}function fS(i){const n={},a=u(i,["promptTokenCount"]);a!=null&&d(n,["promptTokenCount"],a);const s=u(i,["cachedContentTokenCount"]);s!=null&&d(n,["cachedContentTokenCount"],s);const l=u(i,["candidatesTokenCount"]);l!=null&&d(n,["responseTokenCount"],l);const c=u(i,["toolUsePromptTokenCount"]);c!=null&&d(n,["toolUsePromptTokenCount"],c);const f=u(i,["thoughtsTokenCount"]);f!=null&&d(n,["thoughtsTokenCount"],f);const p=u(i,["totalTokenCount"]);p!=null&&d(n,["totalTokenCount"],p);const y=u(i,["promptTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(D=>D)),d(n,["promptTokensDetails"],C)}const m=u(i,["cacheTokensDetails"]);if(m!=null){let C=m;Array.isArray(C)&&(C=C.map(D=>D)),d(n,["cacheTokensDetails"],C)}const _=u(i,["candidatesTokensDetails"]);if(_!=null){let C=_;Array.isArray(C)&&(C=C.map(D=>D)),d(n,["responseTokensDetails"],C)}const S=u(i,["toolUsePromptTokensDetails"]);if(S!=null){let C=S;Array.isArray(C)&&(C=C.map(D=>D)),d(n,["toolUsePromptTokensDetails"],C)}const E=u(i,["trafficType"]);return E!=null&&d(n,["trafficType"],E),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hS(i){const n={},a=u(i,["data"]);if(a!=null&&d(n,["data"],a),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function pS(i){const n={},a=u(i,["content"]);a!=null&&d(n,["content"],a);const s=u(i,["citationMetadata"]);s!=null&&d(n,["citationMetadata"],mS(s));const l=u(i,["tokenCount"]);l!=null&&d(n,["tokenCount"],l);const c=u(i,["finishReason"]);c!=null&&d(n,["finishReason"],c);const f=u(i,["avgLogprobs"]);f!=null&&d(n,["avgLogprobs"],f);const p=u(i,["groundingMetadata"]);p!=null&&d(n,["groundingMetadata"],p);const y=u(i,["index"]);y!=null&&d(n,["index"],y);const m=u(i,["logprobsResult"]);m!=null&&d(n,["logprobsResult"],m);const _=u(i,["safetyRatings"]);if(_!=null){let E=_;Array.isArray(E)&&(E=E.map(C=>C)),d(n,["safetyRatings"],E)}const S=u(i,["urlContextMetadata"]);return S!=null&&d(n,["urlContextMetadata"],S),n}function mS(i){const n={},a=u(i,["citationSources"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>l)),d(n,["citations"],s)}return n}function gS(i,n){const a={},s=u(n,["model"]);s!=null&&d(a,["_url","model"],ft(i,s));const l=u(n,["contents"]);if(l!=null){let c=mi(l);Array.isArray(c)&&(c=c.map(f=>f)),d(a,["contents"],c)}return a}function yS(i){const n={},a=u(i,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=u(i,["tokensInfo"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>c)),d(n,["tokensInfo"],l)}return n}function vS(i){const n={},a=u(i,["values"]);a!=null&&d(n,["values"],a);const s=u(i,["statistics"]);return s!=null&&d(n,["statistics"],_S(s)),n}function _S(i){const n={},a=u(i,["truncated"]);a!=null&&d(n,["truncated"],a);const s=u(i,["token_count"]);return s!=null&&d(n,["tokenCount"],s),n}function Zu(i){const n={},a=u(i,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>CT(c))),d(n,["parts"],l)}const s=u(i,["role"]);return s!=null&&d(n,["role"],s),n}function SS(i){const n={},a=u(i,["controlType"]);a!=null&&d(n,["controlType"],a);const s=u(i,["enableControlImageComputation"]);return s!=null&&d(n,["computeControl"],s),n}function TS(i){const n={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function ES(i,n){const a={},s=u(i,["systemInstruction"]);n!==void 0&&s!=null&&d(n,["systemInstruction"],mn(s));const l=u(i,["tools"]);if(n!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>Wg(p))),d(n,["tools"],f)}const c=u(i,["generationConfig"]);return n!==void 0&&c!=null&&d(n,["generationConfig"],dT(c)),a}function AS(i,n){const a={},s=u(n,["model"]);s!=null&&d(a,["_url","model"],ft(i,s));const l=u(n,["contents"]);if(l!=null){let f=mi(l);Array.isArray(f)&&(f=f.map(p=>Zu(p))),d(a,["contents"],f)}const c=u(n,["config"]);return c!=null&&TS(c),a}function CS(i,n){const a={},s=u(n,["model"]);s!=null&&d(a,["_url","model"],ft(i,s));const l=u(n,["contents"]);if(l!=null){let f=mi(l);Array.isArray(f)&&(f=f.map(p=>p)),d(a,["contents"],f)}const c=u(n,["config"]);return c!=null&&ES(c,a),a}function xS(i){const n={},a=u(i,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=u(i,["totalTokens"]);s!=null&&d(n,["totalTokens"],s);const l=u(i,["cachedContentTokenCount"]);return l!=null&&d(n,["cachedContentTokenCount"],l),n}function wS(i){const n={},a=u(i,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=u(i,["totalTokens"]);return s!=null&&d(n,["totalTokens"],s),n}function bS(i,n){const a={},s=u(n,["model"]);return s!=null&&d(a,["_url","name"],ft(i,s)),a}function NS(i,n){const a={},s=u(n,["model"]);return s!=null&&d(a,["_url","name"],ft(i,s)),a}function RS(i){const n={},a=u(i,["sdkHttpResponse"]);return a!=null&&d(n,["sdkHttpResponse"],a),n}function IS(i){const n={},a=u(i,["sdkHttpResponse"]);return a!=null&&d(n,["sdkHttpResponse"],a),n}function MS(i,n){const a={},s=u(i,["outputGcsUri"]);n!==void 0&&s!=null&&d(n,["parameters","storageUri"],s);const l=u(i,["negativePrompt"]);n!==void 0&&l!=null&&d(n,["parameters","negativePrompt"],l);const c=u(i,["numberOfImages"]);n!==void 0&&c!=null&&d(n,["parameters","sampleCount"],c);const f=u(i,["aspectRatio"]);n!==void 0&&f!=null&&d(n,["parameters","aspectRatio"],f);const p=u(i,["guidanceScale"]);n!==void 0&&p!=null&&d(n,["parameters","guidanceScale"],p);const y=u(i,["seed"]);n!==void 0&&y!=null&&d(n,["parameters","seed"],y);const m=u(i,["safetyFilterLevel"]);n!==void 0&&m!=null&&d(n,["parameters","safetySetting"],m);const _=u(i,["personGeneration"]);n!==void 0&&_!=null&&d(n,["parameters","personGeneration"],_);const S=u(i,["includeSafetyAttributes"]);n!==void 0&&S!=null&&d(n,["parameters","includeSafetyAttributes"],S);const E=u(i,["includeRaiReason"]);n!==void 0&&E!=null&&d(n,["parameters","includeRaiReason"],E);const C=u(i,["language"]);n!==void 0&&C!=null&&d(n,["parameters","language"],C);const D=u(i,["outputMimeType"]);n!==void 0&&D!=null&&d(n,["parameters","outputOptions","mimeType"],D);const w=u(i,["outputCompressionQuality"]);n!==void 0&&w!=null&&d(n,["parameters","outputOptions","compressionQuality"],w);const M=u(i,["addWatermark"]);n!==void 0&&M!=null&&d(n,["parameters","addWatermark"],M);const N=u(i,["labels"]);n!==void 0&&N!=null&&d(n,["labels"],N);const U=u(i,["editMode"]);n!==void 0&&U!=null&&d(n,["parameters","editMode"],U);const L=u(i,["baseSteps"]);return n!==void 0&&L!=null&&d(n,["parameters","editConfig","baseSteps"],L),a}function DS(i,n){const a={},s=u(n,["model"]);s!=null&&d(a,["_url","model"],ft(i,s));const l=u(n,["prompt"]);l!=null&&d(a,["instances[0]","prompt"],l);const c=u(n,["referenceImages"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(y=>IT(y))),d(a,["instances[0]","referenceImages"],p)}const f=u(n,["config"]);return f!=null&&MS(f,a),a}function kS(i){const n={},a=u(i,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=u(i,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>Xu(c))),d(n,["generatedImages"],l)}return n}function US(i,n){const a={},s=u(i,["taskType"]);n!==void 0&&s!=null&&d(n,["requests[]","taskType"],s);const l=u(i,["title"]);n!==void 0&&l!=null&&d(n,["requests[]","title"],l);const c=u(i,["outputDimensionality"]);if(n!==void 0&&c!=null&&d(n,["requests[]","outputDimensionality"],c),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return a}function PS(i,n){const a={},s=u(i,["taskType"]);n!==void 0&&s!=null&&d(n,["instances[]","task_type"],s);const l=u(i,["title"]);n!==void 0&&l!=null&&d(n,["instances[]","title"],l);const c=u(i,["outputDimensionality"]);n!==void 0&&c!=null&&d(n,["parameters","outputDimensionality"],c);const f=u(i,["mimeType"]);n!==void 0&&f!=null&&d(n,["instances[]","mimeType"],f);const p=u(i,["autoTruncate"]);return n!==void 0&&p!=null&&d(n,["parameters","autoTruncate"],p),a}function LS(i,n){const a={},s=u(n,["model"]);s!=null&&d(a,["_url","model"],ft(i,s));const l=u(n,["contents"]);if(l!=null){let p=ef(i,l);Array.isArray(p)&&(p=p.map(y=>y)),d(a,["requests[]","content"],p)}const c=u(n,["config"]);c!=null&&US(c,a);const f=u(n,["model"]);return f!==void 0&&d(a,["requests[]","model"],ft(i,f)),a}function zS(i,n){const a={},s=u(n,["model"]);s!=null&&d(a,["_url","model"],ft(i,s));const l=u(n,["contents"]);if(l!=null){let f=ef(i,l);Array.isArray(f)&&(f=f.map(p=>p)),d(a,["instances[]","content"],f)}const c=u(n,["config"]);return c!=null&&PS(c,a),a}function BS(i){const n={},a=u(i,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=u(i,["embeddings"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>f)),d(n,["embeddings"],c)}const l=u(i,["metadata"]);return l!=null&&d(n,["metadata"],l),n}function GS(i){const n={},a=u(i,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=u(i,["predictions[]","embeddings"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>vS(f))),d(n,["embeddings"],c)}const l=u(i,["metadata"]);return l!=null&&d(n,["metadata"],l),n}function VS(i){const n={},a=u(i,["endpoint"]);a!=null&&d(n,["name"],a);const s=u(i,["deployedModelId"]);return s!=null&&d(n,["deployedModelId"],s),n}function qS(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["fileUri"]);a!=null&&d(n,["fileUri"],a);const s=u(i,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function FS(i){const n={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const a=u(i,["description"]);a!=null&&d(n,["description"],a);const s=u(i,["name"]);s!=null&&d(n,["name"],s);const l=u(i,["parameters"]);l!=null&&d(n,["parameters"],l);const c=u(i,["parametersJsonSchema"]);c!=null&&d(n,["parametersJsonSchema"],c);const f=u(i,["response"]);f!=null&&d(n,["response"],f);const p=u(i,["responseJsonSchema"]);return p!=null&&d(n,["responseJsonSchema"],p),n}function HS(i,n,a){const s={},l=u(n,["systemInstruction"]);a!==void 0&&l!=null&&d(a,["systemInstruction"],Zu(mn(l)));const c=u(n,["temperature"]);c!=null&&d(s,["temperature"],c);const f=u(n,["topP"]);f!=null&&d(s,["topP"],f);const p=u(n,["topK"]);p!=null&&d(s,["topK"],p);const y=u(n,["candidateCount"]);y!=null&&d(s,["candidateCount"],y);const m=u(n,["maxOutputTokens"]);m!=null&&d(s,["maxOutputTokens"],m);const _=u(n,["stopSequences"]);_!=null&&d(s,["stopSequences"],_);const S=u(n,["responseLogprobs"]);S!=null&&d(s,["responseLogprobs"],S);const E=u(n,["logprobs"]);E!=null&&d(s,["logprobs"],E);const C=u(n,["presencePenalty"]);C!=null&&d(s,["presencePenalty"],C);const D=u(n,["frequencyPenalty"]);D!=null&&d(s,["frequencyPenalty"],D);const w=u(n,["seed"]);w!=null&&d(s,["seed"],w);const M=u(n,["responseMimeType"]);M!=null&&d(s,["responseMimeType"],M);const N=u(n,["responseSchema"]);N!=null&&d(s,["responseSchema"],tf(N));const U=u(n,["responseJsonSchema"]);if(U!=null&&d(s,["responseJsonSchema"],U),u(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const L=u(n,["safetySettings"]);if(a!==void 0&&L!=null){let V=L;Array.isArray(V)&&(V=V.map(re=>MT(re))),d(a,["safetySettings"],V)}const q=u(n,["tools"]);if(a!==void 0&&q!=null){let V=js(q);Array.isArray(V)&&(V=V.map(re=>zT(Ks(re)))),d(a,["tools"],V)}const O=u(n,["toolConfig"]);if(a!==void 0&&O!=null&&d(a,["toolConfig"],O),u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ee=u(n,["cachedContent"]);a!==void 0&&ee!=null&&d(a,["cachedContent"],wo(i,ee));const J=u(n,["responseModalities"]);J!=null&&d(s,["responseModalities"],J);const pe=u(n,["mediaResolution"]);pe!=null&&d(s,["mediaResolution"],pe);const Z=u(n,["speechConfig"]);if(Z!=null&&d(s,["speechConfig"],nf(Z)),u(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ye=u(n,["thinkingConfig"]);ye!=null&&d(s,["thinkingConfig"],ye);const Me=u(n,["imageConfig"]);return Me!=null&&d(s,["imageConfig"],Me),s}function OS(i,n,a){const s={},l=u(n,["systemInstruction"]);a!==void 0&&l!=null&&d(a,["systemInstruction"],mn(l));const c=u(n,["temperature"]);c!=null&&d(s,["temperature"],c);const f=u(n,["topP"]);f!=null&&d(s,["topP"],f);const p=u(n,["topK"]);p!=null&&d(s,["topK"],p);const y=u(n,["candidateCount"]);y!=null&&d(s,["candidateCount"],y);const m=u(n,["maxOutputTokens"]);m!=null&&d(s,["maxOutputTokens"],m);const _=u(n,["stopSequences"]);_!=null&&d(s,["stopSequences"],_);const S=u(n,["responseLogprobs"]);S!=null&&d(s,["responseLogprobs"],S);const E=u(n,["logprobs"]);E!=null&&d(s,["logprobs"],E);const C=u(n,["presencePenalty"]);C!=null&&d(s,["presencePenalty"],C);const D=u(n,["frequencyPenalty"]);D!=null&&d(s,["frequencyPenalty"],D);const w=u(n,["seed"]);w!=null&&d(s,["seed"],w);const M=u(n,["responseMimeType"]);M!=null&&d(s,["responseMimeType"],M);const N=u(n,["responseSchema"]);N!=null&&d(s,["responseSchema"],tf(N));const U=u(n,["responseJsonSchema"]);U!=null&&d(s,["responseJsonSchema"],U);const L=u(n,["routingConfig"]);L!=null&&d(s,["routingConfig"],L);const q=u(n,["modelSelectionConfig"]);q!=null&&d(s,["modelConfig"],q);const O=u(n,["safetySettings"]);if(a!==void 0&&O!=null){let X=O;Array.isArray(X)&&(X=X.map($=>$)),d(a,["safetySettings"],X)}const ee=u(n,["tools"]);if(a!==void 0&&ee!=null){let X=js(ee);Array.isArray(X)&&(X=X.map($=>Wg(Ks($)))),d(a,["tools"],X)}const J=u(n,["toolConfig"]);a!==void 0&&J!=null&&d(a,["toolConfig"],J);const pe=u(n,["labels"]);a!==void 0&&pe!=null&&d(a,["labels"],pe);const Z=u(n,["cachedContent"]);a!==void 0&&Z!=null&&d(a,["cachedContent"],wo(i,Z));const ye=u(n,["responseModalities"]);ye!=null&&d(s,["responseModalities"],ye);const Me=u(n,["mediaResolution"]);Me!=null&&d(s,["mediaResolution"],Me);const V=u(n,["speechConfig"]);V!=null&&d(s,["speechConfig"],Qg(nf(V)));const re=u(n,["audioTimestamp"]);re!=null&&d(s,["audioTimestamp"],re);const b=u(n,["thinkingConfig"]);b!=null&&d(s,["thinkingConfig"],b);const de=u(n,["imageConfig"]);return de!=null&&d(s,["imageConfig"],de),s}function cg(i,n){const a={},s=u(n,["model"]);s!=null&&d(a,["_url","model"],ft(i,s));const l=u(n,["contents"]);if(l!=null){let f=mi(l);Array.isArray(f)&&(f=f.map(p=>Zu(p))),d(a,["contents"],f)}const c=u(n,["config"]);return c!=null&&d(a,["generationConfig"],HS(i,c,a)),a}function dg(i,n){const a={},s=u(n,["model"]);s!=null&&d(a,["_url","model"],ft(i,s));const l=u(n,["contents"]);if(l!=null){let f=mi(l);Array.isArray(f)&&(f=f.map(p=>p)),d(a,["contents"],f)}const c=u(n,["config"]);return c!=null&&d(a,["generationConfig"],OS(i,c,a)),a}function fg(i){const n={},a=u(i,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=u(i,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(m=>pS(m))),d(n,["candidates"],y)}const l=u(i,["modelVersion"]);l!=null&&d(n,["modelVersion"],l);const c=u(i,["promptFeedback"]);c!=null&&d(n,["promptFeedback"],c);const f=u(i,["responseId"]);f!=null&&d(n,["responseId"],f);const p=u(i,["usageMetadata"]);return p!=null&&d(n,["usageMetadata"],p),n}function hg(i){const n={},a=u(i,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=u(i,["candidates"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(_=>_)),d(n,["candidates"],m)}const l=u(i,["createTime"]);l!=null&&d(n,["createTime"],l);const c=u(i,["modelVersion"]);c!=null&&d(n,["modelVersion"],c);const f=u(i,["promptFeedback"]);f!=null&&d(n,["promptFeedback"],f);const p=u(i,["responseId"]);p!=null&&d(n,["responseId"],p);const y=u(i,["usageMetadata"]);return y!=null&&d(n,["usageMetadata"],y),n}function YS(i,n){const a={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=u(i,["numberOfImages"]);n!==void 0&&s!=null&&d(n,["parameters","sampleCount"],s);const l=u(i,["aspectRatio"]);n!==void 0&&l!=null&&d(n,["parameters","aspectRatio"],l);const c=u(i,["guidanceScale"]);if(n!==void 0&&c!=null&&d(n,["parameters","guidanceScale"],c),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=u(i,["safetyFilterLevel"]);n!==void 0&&f!=null&&d(n,["parameters","safetySetting"],f);const p=u(i,["personGeneration"]);n!==void 0&&p!=null&&d(n,["parameters","personGeneration"],p);const y=u(i,["includeSafetyAttributes"]);n!==void 0&&y!=null&&d(n,["parameters","includeSafetyAttributes"],y);const m=u(i,["includeRaiReason"]);n!==void 0&&m!=null&&d(n,["parameters","includeRaiReason"],m);const _=u(i,["language"]);n!==void 0&&_!=null&&d(n,["parameters","language"],_);const S=u(i,["outputMimeType"]);n!==void 0&&S!=null&&d(n,["parameters","outputOptions","mimeType"],S);const E=u(i,["outputCompressionQuality"]);if(n!==void 0&&E!=null&&d(n,["parameters","outputOptions","compressionQuality"],E),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=u(i,["imageSize"]);if(n!==void 0&&C!=null&&d(n,["parameters","sampleImageSize"],C),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return a}function JS(i,n){const a={},s=u(i,["outputGcsUri"]);n!==void 0&&s!=null&&d(n,["parameters","storageUri"],s);const l=u(i,["negativePrompt"]);n!==void 0&&l!=null&&d(n,["parameters","negativePrompt"],l);const c=u(i,["numberOfImages"]);n!==void 0&&c!=null&&d(n,["parameters","sampleCount"],c);const f=u(i,["aspectRatio"]);n!==void 0&&f!=null&&d(n,["parameters","aspectRatio"],f);const p=u(i,["guidanceScale"]);n!==void 0&&p!=null&&d(n,["parameters","guidanceScale"],p);const y=u(i,["seed"]);n!==void 0&&y!=null&&d(n,["parameters","seed"],y);const m=u(i,["safetyFilterLevel"]);n!==void 0&&m!=null&&d(n,["parameters","safetySetting"],m);const _=u(i,["personGeneration"]);n!==void 0&&_!=null&&d(n,["parameters","personGeneration"],_);const S=u(i,["includeSafetyAttributes"]);n!==void 0&&S!=null&&d(n,["parameters","includeSafetyAttributes"],S);const E=u(i,["includeRaiReason"]);n!==void 0&&E!=null&&d(n,["parameters","includeRaiReason"],E);const C=u(i,["language"]);n!==void 0&&C!=null&&d(n,["parameters","language"],C);const D=u(i,["outputMimeType"]);n!==void 0&&D!=null&&d(n,["parameters","outputOptions","mimeType"],D);const w=u(i,["outputCompressionQuality"]);n!==void 0&&w!=null&&d(n,["parameters","outputOptions","compressionQuality"],w);const M=u(i,["addWatermark"]);n!==void 0&&M!=null&&d(n,["parameters","addWatermark"],M);const N=u(i,["labels"]);n!==void 0&&N!=null&&d(n,["labels"],N);const U=u(i,["imageSize"]);n!==void 0&&U!=null&&d(n,["parameters","sampleImageSize"],U);const L=u(i,["enhancePrompt"]);return n!==void 0&&L!=null&&d(n,["parameters","enhancePrompt"],L),a}function KS(i,n){const a={},s=u(n,["model"]);s!=null&&d(a,["_url","model"],ft(i,s));const l=u(n,["prompt"]);l!=null&&d(a,["instances[0]","prompt"],l);const c=u(n,["config"]);return c!=null&&YS(c,a),a}function jS(i,n){const a={},s=u(n,["model"]);s!=null&&d(a,["_url","model"],ft(i,s));const l=u(n,["prompt"]);l!=null&&d(a,["instances[0]","prompt"],l);const c=u(n,["config"]);return c!=null&&JS(c,a),a}function ZS(i){const n={},a=u(i,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=u(i,["predictions"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>rT(f))),d(n,["generatedImages"],c)}const l=u(i,["positivePromptSafetyAttributes"]);return l!=null&&d(n,["positivePromptSafetyAttributes"],Xg(l)),n}function XS(i){const n={},a=u(i,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=u(i,["predictions"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>Xu(f))),d(n,["generatedImages"],c)}const l=u(i,["positivePromptSafetyAttributes"]);return l!=null&&d(n,["positivePromptSafetyAttributes"],$g(l)),n}function $S(i,n){const a={},s=u(i,["numberOfVideos"]);if(n!==void 0&&s!=null&&d(n,["parameters","sampleCount"],s),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=u(i,["durationSeconds"]);if(n!==void 0&&l!=null&&d(n,["parameters","durationSeconds"],l),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=u(i,["aspectRatio"]);n!==void 0&&c!=null&&d(n,["parameters","aspectRatio"],c);const f=u(i,["resolution"]);n!==void 0&&f!=null&&d(n,["parameters","resolution"],f);const p=u(i,["personGeneration"]);if(n!==void 0&&p!=null&&d(n,["parameters","personGeneration"],p),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(i,["negativePrompt"]);n!==void 0&&y!=null&&d(n,["parameters","negativePrompt"],y);const m=u(i,["enhancePrompt"]);if(n!==void 0&&m!=null&&d(n,["parameters","enhancePrompt"],m),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const _=u(i,["lastFrame"]);n!==void 0&&_!=null&&d(n,["instances[0]","lastFrame"],$u(_));const S=u(i,["referenceImages"]);if(n!==void 0&&S!=null){let E=S;Array.isArray(E)&&(E=E.map(C=>XT(C))),d(n,["instances[0]","referenceImages"],E)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return a}function QS(i,n){const a={},s=u(i,["numberOfVideos"]);n!==void 0&&s!=null&&d(n,["parameters","sampleCount"],s);const l=u(i,["outputGcsUri"]);n!==void 0&&l!=null&&d(n,["parameters","storageUri"],l);const c=u(i,["fps"]);n!==void 0&&c!=null&&d(n,["parameters","fps"],c);const f=u(i,["durationSeconds"]);n!==void 0&&f!=null&&d(n,["parameters","durationSeconds"],f);const p=u(i,["seed"]);n!==void 0&&p!=null&&d(n,["parameters","seed"],p);const y=u(i,["aspectRatio"]);n!==void 0&&y!=null&&d(n,["parameters","aspectRatio"],y);const m=u(i,["resolution"]);n!==void 0&&m!=null&&d(n,["parameters","resolution"],m);const _=u(i,["personGeneration"]);n!==void 0&&_!=null&&d(n,["parameters","personGeneration"],_);const S=u(i,["pubsubTopic"]);n!==void 0&&S!=null&&d(n,["parameters","pubsubTopic"],S);const E=u(i,["negativePrompt"]);n!==void 0&&E!=null&&d(n,["parameters","negativePrompt"],E);const C=u(i,["enhancePrompt"]);n!==void 0&&C!=null&&d(n,["parameters","enhancePrompt"],C);const D=u(i,["generateAudio"]);n!==void 0&&D!=null&&d(n,["parameters","generateAudio"],D);const w=u(i,["lastFrame"]);n!==void 0&&w!=null&&d(n,["instances[0]","lastFrame"],Di(w));const M=u(i,["referenceImages"]);if(n!==void 0&&M!=null){let L=M;Array.isArray(L)&&(L=L.map(q=>$T(q))),d(n,["instances[0]","referenceImages"],L)}const N=u(i,["mask"]);n!==void 0&&N!=null&&d(n,["instances[0]","mask"],ZT(N));const U=u(i,["compressionQuality"]);return n!==void 0&&U!=null&&d(n,["parameters","compressionQuality"],U),a}function WS(i){const n={},a=u(i,["name"]);a!=null&&d(n,["name"],a);const s=u(i,["metadata"]);s!=null&&d(n,["metadata"],s);const l=u(i,["done"]);l!=null&&d(n,["done"],l);const c=u(i,["error"]);c!=null&&d(n,["error"],c);const f=u(i,["response","generateVideoResponse"]);return f!=null&&d(n,["response"],iT(f)),n}function eT(i){const n={},a=u(i,["name"]);a!=null&&d(n,["name"],a);const s=u(i,["metadata"]);s!=null&&d(n,["metadata"],s);const l=u(i,["done"]);l!=null&&d(n,["done"],l);const c=u(i,["error"]);c!=null&&d(n,["error"],c);const f=u(i,["response"]);return f!=null&&d(n,["response"],oT(f)),n}function tT(i,n){const a={},s=u(n,["model"]);s!=null&&d(a,["_url","model"],ft(i,s));const l=u(n,["prompt"]);l!=null&&d(a,["instances[0]","prompt"],l);const c=u(n,["image"]);c!=null&&d(a,["instances[0]","image"],$u(c));const f=u(n,["video"]);f!=null&&d(a,["instances[0]","video"],ey(f));const p=u(n,["source"]);p!=null&&aT(p,a);const y=u(n,["config"]);return y!=null&&$S(y,a),a}function nT(i,n){const a={},s=u(n,["model"]);s!=null&&d(a,["_url","model"],ft(i,s));const l=u(n,["prompt"]);l!=null&&d(a,["instances[0]","prompt"],l);const c=u(n,["image"]);c!=null&&d(a,["instances[0]","image"],Di(c));const f=u(n,["video"]);f!=null&&d(a,["instances[0]","video"],ty(f));const p=u(n,["source"]);p!=null&&sT(p,a);const y=u(n,["config"]);return y!=null&&QS(y,a),a}function iT(i){const n={},a=u(i,["generatedSamples"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>uT(f))),d(n,["generatedVideos"],c)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&d(n,["raiMediaFilteredCount"],s);const l=u(i,["raiMediaFilteredReasons"]);return l!=null&&d(n,["raiMediaFilteredReasons"],l),n}function oT(i){const n={},a=u(i,["videos"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>cT(f))),d(n,["generatedVideos"],c)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&d(n,["raiMediaFilteredCount"],s);const l=u(i,["raiMediaFilteredReasons"]);return l!=null&&d(n,["raiMediaFilteredReasons"],l),n}function aT(i,n){const a={},s=u(i,["prompt"]);n!==void 0&&s!=null&&d(n,["instances[0]","prompt"],s);const l=u(i,["image"]);n!==void 0&&l!=null&&d(n,["instances[0]","image"],$u(l));const c=u(i,["video"]);return n!==void 0&&c!=null&&d(n,["instances[0]","video"],ey(c)),a}function sT(i,n){const a={},s=u(i,["prompt"]);n!==void 0&&s!=null&&d(n,["instances[0]","prompt"],s);const l=u(i,["image"]);n!==void 0&&l!=null&&d(n,["instances[0]","image"],Di(l));const c=u(i,["video"]);return n!==void 0&&c!=null&&d(n,["instances[0]","video"],ty(c)),a}function rT(i){const n={},a=u(i,["_self"]);a!=null&&d(n,["image"],gT(a));const s=u(i,["raiFilteredReason"]);s!=null&&d(n,["raiFilteredReason"],s);const l=u(i,["_self"]);return l!=null&&d(n,["safetyAttributes"],Xg(l)),n}function Xu(i){const n={},a=u(i,["_self"]);a!=null&&d(n,["image"],Zg(a));const s=u(i,["raiFilteredReason"]);s!=null&&d(n,["raiFilteredReason"],s);const l=u(i,["_self"]);l!=null&&d(n,["safetyAttributes"],$g(l));const c=u(i,["prompt"]);return c!=null&&d(n,["enhancedPrompt"],c),n}function lT(i){const n={},a=u(i,["_self"]);a!=null&&d(n,["mask"],Zg(a));const s=u(i,["labels"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>c)),d(n,["labels"],l)}return n}function uT(i){const n={},a=u(i,["video"]);return a!=null&&d(n,["video"],KT(a)),n}function cT(i){const n={},a=u(i,["_self"]);return a!=null&&d(n,["video"],jT(a)),n}function dT(i){const n={},a=u(i,["modelSelectionConfig"]);a!=null&&d(n,["modelConfig"],a);const s=u(i,["responseJsonSchema"]);s!=null&&d(n,["responseJsonSchema"],s);const l=u(i,["audioTimestamp"]);l!=null&&d(n,["audioTimestamp"],l);const c=u(i,["candidateCount"]);c!=null&&d(n,["candidateCount"],c);const f=u(i,["enableAffectiveDialog"]);f!=null&&d(n,["enableAffectiveDialog"],f);const p=u(i,["frequencyPenalty"]);p!=null&&d(n,["frequencyPenalty"],p);const y=u(i,["logprobs"]);y!=null&&d(n,["logprobs"],y);const m=u(i,["maxOutputTokens"]);m!=null&&d(n,["maxOutputTokens"],m);const _=u(i,["mediaResolution"]);_!=null&&d(n,["mediaResolution"],_);const S=u(i,["presencePenalty"]);S!=null&&d(n,["presencePenalty"],S);const E=u(i,["responseLogprobs"]);E!=null&&d(n,["responseLogprobs"],E);const C=u(i,["responseMimeType"]);C!=null&&d(n,["responseMimeType"],C);const D=u(i,["responseModalities"]);D!=null&&d(n,["responseModalities"],D);const w=u(i,["responseSchema"]);w!=null&&d(n,["responseSchema"],w);const M=u(i,["routingConfig"]);M!=null&&d(n,["routingConfig"],M);const N=u(i,["seed"]);N!=null&&d(n,["seed"],N);const U=u(i,["speechConfig"]);U!=null&&d(n,["speechConfig"],Qg(U));const L=u(i,["stopSequences"]);L!=null&&d(n,["stopSequences"],L);const q=u(i,["temperature"]);q!=null&&d(n,["temperature"],q);const O=u(i,["thinkingConfig"]);O!=null&&d(n,["thinkingConfig"],O);const ee=u(i,["topK"]);ee!=null&&d(n,["topK"],ee);const J=u(i,["topP"]);if(J!=null&&d(n,["topP"],J),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function fT(i,n){const a={},s=u(n,["model"]);return s!=null&&d(a,["_url","name"],ft(i,s)),a}function hT(i,n){const a={},s=u(n,["model"]);return s!=null&&d(a,["_url","name"],ft(i,s)),a}function pT(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const a=u(i,["enableWidget"]);return a!=null&&d(n,["enableWidget"],a),n}function mT(i){const n={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const a=u(i,["timeRangeFilter"]);return a!=null&&d(n,["timeRangeFilter"],a),n}function gT(i){const n={},a=u(i,["bytesBase64Encoded"]);a!=null&&d(n,["imageBytes"],ya(a));const s=u(i,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function Zg(i){const n={},a=u(i,["gcsUri"]);a!=null&&d(n,["gcsUri"],a);const s=u(i,["bytesBase64Encoded"]);s!=null&&d(n,["imageBytes"],ya(s));const l=u(i,["mimeType"]);return l!=null&&d(n,["mimeType"],l),n}function $u(i){const n={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const a=u(i,["imageBytes"]);a!=null&&d(n,["bytesBase64Encoded"],ya(a));const s=u(i,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function Di(i){const n={},a=u(i,["gcsUri"]);a!=null&&d(n,["gcsUri"],a);const s=u(i,["imageBytes"]);s!=null&&d(n,["bytesBase64Encoded"],ya(s));const l=u(i,["mimeType"]);return l!=null&&d(n,["mimeType"],l),n}function yT(i,n,a){const s={},l=u(n,["pageSize"]);a!==void 0&&l!=null&&d(a,["_query","pageSize"],l);const c=u(n,["pageToken"]);a!==void 0&&c!=null&&d(a,["_query","pageToken"],c);const f=u(n,["filter"]);a!==void 0&&f!=null&&d(a,["_query","filter"],f);const p=u(n,["queryBase"]);return a!==void 0&&p!=null&&d(a,["_url","models_url"],qg(i,p)),s}function vT(i,n,a){const s={},l=u(n,["pageSize"]);a!==void 0&&l!=null&&d(a,["_query","pageSize"],l);const c=u(n,["pageToken"]);a!==void 0&&c!=null&&d(a,["_query","pageToken"],c);const f=u(n,["filter"]);a!==void 0&&f!=null&&d(a,["_query","filter"],f);const p=u(n,["queryBase"]);return a!==void 0&&p!=null&&d(a,["_url","models_url"],qg(i,p)),s}function _T(i,n){const a={},s=u(n,["config"]);return s!=null&&yT(i,s,a),a}function ST(i,n){const a={},s=u(n,["config"]);return s!=null&&vT(i,s,a),a}function TT(i){const n={},a=u(i,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=u(i,["nextPageToken"]);s!=null&&d(n,["nextPageToken"],s);const l=u(i,["_self"]);if(l!=null){let c=Fg(l);Array.isArray(c)&&(c=c.map(f=>Od(f))),d(n,["models"],c)}return n}function ET(i){const n={},a=u(i,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=u(i,["nextPageToken"]);s!=null&&d(n,["nextPageToken"],s);const l=u(i,["_self"]);if(l!=null){let c=Fg(l);Array.isArray(c)&&(c=c.map(f=>Yd(f))),d(n,["models"],c)}return n}function AT(i){const n={},a=u(i,["maskMode"]);a!=null&&d(n,["maskMode"],a);const s=u(i,["segmentationClasses"]);s!=null&&d(n,["maskClasses"],s);const l=u(i,["maskDilation"]);return l!=null&&d(n,["dilation"],l),n}function Od(i){const n={},a=u(i,["name"]);a!=null&&d(n,["name"],a);const s=u(i,["displayName"]);s!=null&&d(n,["displayName"],s);const l=u(i,["description"]);l!=null&&d(n,["description"],l);const c=u(i,["version"]);c!=null&&d(n,["version"],c);const f=u(i,["_self"]);f!=null&&d(n,["tunedModelInfo"],BT(f));const p=u(i,["inputTokenLimit"]);p!=null&&d(n,["inputTokenLimit"],p);const y=u(i,["outputTokenLimit"]);y!=null&&d(n,["outputTokenLimit"],y);const m=u(i,["supportedGenerationMethods"]);return m!=null&&d(n,["supportedActions"],m),n}function Yd(i){const n={},a=u(i,["name"]);a!=null&&d(n,["name"],a);const s=u(i,["displayName"]);s!=null&&d(n,["displayName"],s);const l=u(i,["description"]);l!=null&&d(n,["description"],l);const c=u(i,["versionId"]);c!=null&&d(n,["version"],c);const f=u(i,["deployedModels"]);if(f!=null){let S=f;Array.isArray(S)&&(S=S.map(E=>VS(E))),d(n,["endpoints"],S)}const p=u(i,["labels"]);p!=null&&d(n,["labels"],p);const y=u(i,["_self"]);y!=null&&d(n,["tunedModelInfo"],GT(y));const m=u(i,["defaultCheckpointId"]);m!=null&&d(n,["defaultCheckpointId"],m);const _=u(i,["checkpoints"]);if(_!=null){let S=_;Array.isArray(S)&&(S=S.map(E=>E)),d(n,["checkpoints"],S)}return n}function CT(i){const n={},a=u(i,["functionCall"]);a!=null&&d(n,["functionCall"],a);const s=u(i,["codeExecutionResult"]);s!=null&&d(n,["codeExecutionResult"],s);const l=u(i,["executableCode"]);l!=null&&d(n,["executableCode"],l);const c=u(i,["fileData"]);c!=null&&d(n,["fileData"],qS(c));const f=u(i,["functionResponse"]);f!=null&&d(n,["functionResponse"],f);const p=u(i,["inlineData"]);p!=null&&d(n,["inlineData"],hS(p));const y=u(i,["text"]);y!=null&&d(n,["text"],y);const m=u(i,["thought"]);m!=null&&d(n,["thought"],m);const _=u(i,["thoughtSignature"]);_!=null&&d(n,["thoughtSignature"],_);const S=u(i,["videoMetadata"]);return S!=null&&d(n,["videoMetadata"],S),n}function xT(i){const n={},a=u(i,["productImage"]);return a!=null&&d(n,["image"],Di(a)),n}function wT(i,n){const a={},s=u(i,["numberOfImages"]);n!==void 0&&s!=null&&d(n,["parameters","sampleCount"],s);const l=u(i,["baseSteps"]);n!==void 0&&l!=null&&d(n,["parameters","editConfig","baseSteps"],l);const c=u(i,["outputGcsUri"]);n!==void 0&&c!=null&&d(n,["parameters","storageUri"],c);const f=u(i,["seed"]);n!==void 0&&f!=null&&d(n,["parameters","seed"],f);const p=u(i,["safetyFilterLevel"]);n!==void 0&&p!=null&&d(n,["parameters","safetySetting"],p);const y=u(i,["personGeneration"]);n!==void 0&&y!=null&&d(n,["parameters","personGeneration"],y);const m=u(i,["addWatermark"]);n!==void 0&&m!=null&&d(n,["parameters","addWatermark"],m);const _=u(i,["outputMimeType"]);n!==void 0&&_!=null&&d(n,["parameters","outputOptions","mimeType"],_);const S=u(i,["outputCompressionQuality"]);n!==void 0&&S!=null&&d(n,["parameters","outputOptions","compressionQuality"],S);const E=u(i,["enhancePrompt"]);n!==void 0&&E!=null&&d(n,["parameters","enhancePrompt"],E);const C=u(i,["labels"]);return n!==void 0&&C!=null&&d(n,["labels"],C),a}function bT(i,n){const a={},s=u(n,["model"]);s!=null&&d(a,["_url","model"],ft(i,s));const l=u(n,["source"]);l!=null&&RT(l,a);const c=u(n,["config"]);return c!=null&&wT(c,a),a}function NT(i){const n={},a=u(i,["predictions"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>Xu(l))),d(n,["generatedImages"],s)}return n}function RT(i,n){const a={},s=u(i,["prompt"]);n!==void 0&&s!=null&&d(n,["instances[0]","prompt"],s);const l=u(i,["personImage"]);n!==void 0&&l!=null&&d(n,["instances[0]","personImage","image"],Di(l));const c=u(i,["productImages"]);if(n!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(p=>xT(p))),d(n,["instances[0]","productImages"],f)}return a}function IT(i){const n={},a=u(i,["referenceImage"]);a!=null&&d(n,["referenceImage"],Di(a));const s=u(i,["referenceId"]);s!=null&&d(n,["referenceId"],s);const l=u(i,["referenceType"]);l!=null&&d(n,["referenceType"],l);const c=u(i,["maskImageConfig"]);c!=null&&d(n,["maskImageConfig"],AT(c));const f=u(i,["controlImageConfig"]);f!=null&&d(n,["controlImageConfig"],SS(f));const p=u(i,["styleImageConfig"]);p!=null&&d(n,["styleImageConfig"],p);const y=u(i,["subjectImageConfig"]);return y!=null&&d(n,["subjectImageConfig"],y),n}function Xg(i){const n={},a=u(i,["safetyAttributes","categories"]);a!=null&&d(n,["categories"],a);const s=u(i,["safetyAttributes","scores"]);s!=null&&d(n,["scores"],s);const l=u(i,["contentType"]);return l!=null&&d(n,["contentType"],l),n}function $g(i){const n={},a=u(i,["safetyAttributes","categories"]);a!=null&&d(n,["categories"],a);const s=u(i,["safetyAttributes","scores"]);s!=null&&d(n,["scores"],s);const l=u(i,["contentType"]);return l!=null&&d(n,["contentType"],l),n}function MT(i){const n={},a=u(i,["category"]);if(a!=null&&d(n,["category"],a),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(i,["threshold"]);return s!=null&&d(n,["threshold"],s),n}function DT(i){const n={},a=u(i,["image"]);return a!=null&&d(n,["image"],Di(a)),n}function kT(i,n){const a={},s=u(i,["mode"]);n!==void 0&&s!=null&&d(n,["parameters","mode"],s);const l=u(i,["maxPredictions"]);n!==void 0&&l!=null&&d(n,["parameters","maxPredictions"],l);const c=u(i,["confidenceThreshold"]);n!==void 0&&c!=null&&d(n,["parameters","confidenceThreshold"],c);const f=u(i,["maskDilation"]);n!==void 0&&f!=null&&d(n,["parameters","maskDilation"],f);const p=u(i,["binaryColorThreshold"]);n!==void 0&&p!=null&&d(n,["parameters","binaryColorThreshold"],p);const y=u(i,["labels"]);return n!==void 0&&y!=null&&d(n,["labels"],y),a}function UT(i,n){const a={},s=u(n,["model"]);s!=null&&d(a,["_url","model"],ft(i,s));const l=u(n,["source"]);l!=null&&LT(l,a);const c=u(n,["config"]);return c!=null&&kT(c,a),a}function PT(i){const n={},a=u(i,["predictions"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>lT(l))),d(n,["generatedMasks"],s)}return n}function LT(i,n){const a={},s=u(i,["prompt"]);n!==void 0&&s!=null&&d(n,["instances[0]","prompt"],s);const l=u(i,["image"]);n!==void 0&&l!=null&&d(n,["instances[0]","image"],Di(l));const c=u(i,["scribbleImage"]);return n!==void 0&&c!=null&&d(n,["instances[0]","scribble"],DT(c)),a}function Qg(i){const n={},a=u(i,["languageCode"]);a!=null&&d(n,["languageCode"],a);const s=u(i,["voiceConfig"]);if(s!=null&&d(n,["voiceConfig"],s),u(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return n}function zT(i){const n={},a=u(i,["functionDeclarations"]);if(a!=null){let _=a;Array.isArray(_)&&(_=_.map(S=>S)),d(n,["functionDeclarations"],_)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["googleSearchRetrieval"]);s!=null&&d(n,["googleSearchRetrieval"],s);const l=u(i,["computerUse"]);l!=null&&d(n,["computerUse"],l);const c=u(i,["fileSearch"]);c!=null&&d(n,["fileSearch"],c);const f=u(i,["codeExecution"]);if(f!=null&&d(n,["codeExecution"],f),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(i,["googleMaps"]);p!=null&&d(n,["googleMaps"],pT(p));const y=u(i,["googleSearch"]);y!=null&&d(n,["googleSearch"],mT(y));const m=u(i,["urlContext"]);return m!=null&&d(n,["urlContext"],m),n}function Wg(i){const n={},a=u(i,["functionDeclarations"]);if(a!=null){let S=a;Array.isArray(S)&&(S=S.map(E=>FS(E))),d(n,["functionDeclarations"],S)}const s=u(i,["retrieval"]);s!=null&&d(n,["retrieval"],s);const l=u(i,["googleSearchRetrieval"]);l!=null&&d(n,["googleSearchRetrieval"],l);const c=u(i,["computerUse"]);if(c!=null&&d(n,["computerUse"],c),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=u(i,["codeExecution"]);f!=null&&d(n,["codeExecution"],f);const p=u(i,["enterpriseWebSearch"]);p!=null&&d(n,["enterpriseWebSearch"],p);const y=u(i,["googleMaps"]);y!=null&&d(n,["googleMaps"],y);const m=u(i,["googleSearch"]);m!=null&&d(n,["googleSearch"],m);const _=u(i,["urlContext"]);return _!=null&&d(n,["urlContext"],_),n}function BT(i){const n={},a=u(i,["baseModel"]);a!=null&&d(n,["baseModel"],a);const s=u(i,["createTime"]);s!=null&&d(n,["createTime"],s);const l=u(i,["updateTime"]);return l!=null&&d(n,["updateTime"],l),n}function GT(i){const n={},a=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);a!=null&&d(n,["baseModel"],a);const s=u(i,["createTime"]);s!=null&&d(n,["createTime"],s);const l=u(i,["updateTime"]);return l!=null&&d(n,["updateTime"],l),n}function VT(i,n){const a={},s=u(i,["displayName"]);n!==void 0&&s!=null&&d(n,["displayName"],s);const l=u(i,["description"]);n!==void 0&&l!=null&&d(n,["description"],l);const c=u(i,["defaultCheckpointId"]);return n!==void 0&&c!=null&&d(n,["defaultCheckpointId"],c),a}function qT(i,n){const a={},s=u(i,["displayName"]);n!==void 0&&s!=null&&d(n,["displayName"],s);const l=u(i,["description"]);n!==void 0&&l!=null&&d(n,["description"],l);const c=u(i,["defaultCheckpointId"]);return n!==void 0&&c!=null&&d(n,["defaultCheckpointId"],c),a}function FT(i,n){const a={},s=u(n,["model"]);s!=null&&d(a,["_url","name"],ft(i,s));const l=u(n,["config"]);return l!=null&&VT(l,a),a}function HT(i,n){const a={},s=u(n,["model"]);s!=null&&d(a,["_url","model"],ft(i,s));const l=u(n,["config"]);return l!=null&&qT(l,a),a}function OT(i,n){const a={},s=u(i,["outputGcsUri"]);n!==void 0&&s!=null&&d(n,["parameters","storageUri"],s);const l=u(i,["safetyFilterLevel"]);n!==void 0&&l!=null&&d(n,["parameters","safetySetting"],l);const c=u(i,["personGeneration"]);n!==void 0&&c!=null&&d(n,["parameters","personGeneration"],c);const f=u(i,["includeRaiReason"]);n!==void 0&&f!=null&&d(n,["parameters","includeRaiReason"],f);const p=u(i,["outputMimeType"]);n!==void 0&&p!=null&&d(n,["parameters","outputOptions","mimeType"],p);const y=u(i,["outputCompressionQuality"]);n!==void 0&&y!=null&&d(n,["parameters","outputOptions","compressionQuality"],y);const m=u(i,["enhanceInputImage"]);n!==void 0&&m!=null&&d(n,["parameters","upscaleConfig","enhanceInputImage"],m);const _=u(i,["imagePreservationFactor"]);n!==void 0&&_!=null&&d(n,["parameters","upscaleConfig","imagePreservationFactor"],_);const S=u(i,["labels"]);n!==void 0&&S!=null&&d(n,["labels"],S);const E=u(i,["numberOfImages"]);n!==void 0&&E!=null&&d(n,["parameters","sampleCount"],E);const C=u(i,["mode"]);return n!==void 0&&C!=null&&d(n,["parameters","mode"],C),a}function YT(i,n){const a={},s=u(n,["model"]);s!=null&&d(a,["_url","model"],ft(i,s));const l=u(n,["image"]);l!=null&&d(a,["instances[0]","image"],Di(l));const c=u(n,["upscaleFactor"]);c!=null&&d(a,["parameters","upscaleConfig","upscaleFactor"],c);const f=u(n,["config"]);return f!=null&&OT(f,a),a}function JT(i){const n={},a=u(i,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=u(i,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>Xu(c))),d(n,["generatedImages"],l)}return n}function KT(i){const n={},a=u(i,["uri"]);a!=null&&d(n,["uri"],a);const s=u(i,["encodedVideo"]);s!=null&&d(n,["videoBytes"],ya(s));const l=u(i,["encoding"]);return l!=null&&d(n,["mimeType"],l),n}function jT(i){const n={},a=u(i,["gcsUri"]);a!=null&&d(n,["uri"],a);const s=u(i,["bytesBase64Encoded"]);s!=null&&d(n,["videoBytes"],ya(s));const l=u(i,["mimeType"]);return l!=null&&d(n,["mimeType"],l),n}function ZT(i){const n={},a=u(i,["image"]);a!=null&&d(n,["_self"],Di(a));const s=u(i,["maskMode"]);return s!=null&&d(n,["maskMode"],s),n}function XT(i){const n={},a=u(i,["image"]);a!=null&&d(n,["image"],$u(a));const s=u(i,["referenceType"]);return s!=null&&d(n,["referenceType"],s),n}function $T(i){const n={},a=u(i,["image"]);a!=null&&d(n,["image"],Di(a));const s=u(i,["referenceType"]);return s!=null&&d(n,["referenceType"],s),n}function ey(i){const n={},a=u(i,["uri"]);a!=null&&d(n,["uri"],a);const s=u(i,["videoBytes"]);s!=null&&d(n,["encodedVideo"],ya(s));const l=u(i,["mimeType"]);return l!=null&&d(n,["encoding"],l),n}function ty(i){const n={},a=u(i,["uri"]);a!=null&&d(n,["gcsUri"],a);const s=u(i,["videoBytes"]);s!=null&&d(n,["bytesBase64Encoded"],ya(s));const l=u(i,["mimeType"]);return l!=null&&d(n,["mimeType"],l),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QT="Content-Type",WT="X-Server-Timeout",eE="User-Agent",Jd="x-goog-api-client",tE="1.29.0",nE=`google-genai-sdk/${tE}`,iE="v1beta1",oE="v1beta",pg=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class aE{constructor(n){var a,s;this.clientOptions=Object.assign(Object.assign({},n),{project:n.project,location:n.location,apiKey:n.apiKey,vertexai:n.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:iE,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:oE,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,n.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,n.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var n;return(n=this.clientOptions.vertexai)!==null&&n!==void 0?n:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(n){if(!n||n.baseUrl===void 0||n.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[n.baseUrl.endsWith("/")?n.baseUrl.slice(0,-1):n.baseUrl];return n.apiVersion&&n.apiVersion!==""&&s.push(n.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const n=this.getBaseUrl(),a=new URL(n);return a.protocol=a.protocol=="http:"?"ws":"wss",a.toString()}setBaseUrl(n){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=n;else throw new Error("HTTP options are not correctly set.")}constructUrl(n,a,s){const l=[this.getRequestUrlInternal(a)];return s&&l.push(this.getBaseResourcePath()),n!==""&&l.push(n),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(n){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||n.path.startsWith("projects/")||n.httpMethod==="GET"&&n.path.startsWith("publishers/google/models"))}async request(n){let a=this.clientOptions.httpOptions;n.httpOptions&&(a=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const s=this.shouldPrependVertexProjectPath(n),l=this.constructUrl(n.path,a,s);if(n.queryParams)for(const[f,p]of Object.entries(n.queryParams))l.searchParams.append(f,String(p));let c={};if(n.httpMethod==="GET"){if(n.body&&n.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=n.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,a,l.toString(),n.abortSignal),this.unaryApiCall(l,c,n.httpMethod)}patchHttpOptions(n,a){const s=JSON.parse(JSON.stringify(n));for(const[l,c]of Object.entries(a))typeof c=="object"?s[l]=Object.assign(Object.assign({},s[l]),c):c!==void 0&&(s[l]=c);return s}async requestStream(n){let a=this.clientOptions.httpOptions;n.httpOptions&&(a=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const s=this.shouldPrependVertexProjectPath(n),l=this.constructUrl(n.path,a,s);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let c={};return c.body=n.body,c=await this.includeExtraHttpOptionsToRequestInit(c,a,l.toString(),n.abortSignal),this.streamApiCall(l,c,n.httpMethod)}async includeExtraHttpOptionsToRequestInit(n,a,s,l){if(a&&a.timeout||l){const c=new AbortController,f=c.signal;if(a.timeout&&(a==null?void 0:a.timeout)>0){const p=setTimeout(()=>c.abort(),a.timeout);p&&typeof p.unref=="function"&&p.unref()}l&&l.addEventListener("abort",()=>{c.abort()}),n.signal=f}return a&&a.extraBody!==null&&sE(n,a.extraBody),n.headers=await this.getHeadersInternal(a,s),n}async unaryApiCall(n,a,s){return this.apiCall(n.toString(),Object.assign(Object.assign({},a),{method:s})).then(async l=>(await mg(l),new qd(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(n,a,s){return this.apiCall(n.toString(),Object.assign(Object.assign({},a),{method:s})).then(async l=>(await mg(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(n){var a;return Ys(this,arguments,function*(){const l=(a=n==null?void 0:n.body)===null||a===void 0?void 0:a.getReader(),c=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let f="";for(;;){const{done:p,value:y}=yield Mt(l.read());if(p){if(f.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=c.decode(y,{stream:!0});try{const S=JSON.parse(m);if("error"in S){const E=JSON.parse(JSON.stringify(S.error)),C=E.status,D=E.code,w=`got status: ${C}. ${JSON.stringify(S)}`;if(D>=400&&D<600)throw new ju({message:w,status:D})}}catch(S){if(S.name==="ApiError")throw S}f+=m;let _=f.match(pg);for(;_;){const S=_[1];try{const E=new Response(S,{headers:n==null?void 0:n.headers,status:n==null?void 0:n.status,statusText:n==null?void 0:n.statusText});yield yield Mt(new qd(E)),f=f.slice(_[0].length),_=f.match(pg)}catch(E){throw new Error(`exception parsing stream chunk ${S}. ${E}`)}}}}finally{l.releaseLock()}})}async apiCall(n,a){return fetch(n,a).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const n={},a=nE+" "+this.clientOptions.userAgentExtra;return n[eE]=a,n[Jd]=a,n[QT]="application/json",n}async getHeadersInternal(n,a){const s=new Headers;if(n&&n.headers){for(const[l,c]of Object.entries(n.headers))s.append(l,c);n.timeout&&n.timeout>0&&s.append(WT,String(Math.ceil(n.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,a),s}getFileName(n){var a;let s="";return typeof n=="string"&&(s=n.replace(/[/\\]+$/,""),s=(a=s.split(/[/\\]/).pop())!==null&&a!==void 0?a:""),s}async uploadFile(n,a){var s;const l={};a!=null&&(l.mimeType=a.mimeType,l.name=a.name,l.displayName=a.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const c=this.clientOptions.uploader,f=await c.stat(n);l.sizeBytes=String(f.size);const p=(s=a==null?void 0:a.mimeType)!==null&&s!==void 0?s:f.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=p;const y={file:l},m=this.getFileName(n),_=Ue("upload/v1beta/files",y._url),S=await this.fetchUploadUrl(_,l.sizeBytes,l.mimeType,m,y,a==null?void 0:a.httpOptions);return c.upload(n,S,this)}async uploadFileToFileSearchStore(n,a,s){var l;const c=this.clientOptions.uploader,f=await c.stat(a),p=String(f.size),y=(l=s==null?void 0:s.mimeType)!==null&&l!==void 0?l:f.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${n}:uploadToFileSearchStore`,_=this.getFileName(a),S={};s!=null&&s.customMetadata&&(S.customMetadata=s.customMetadata),s!=null&&s.chunkingConfig&&(S.chunkingConfig=s.chunkingConfig);const E=await this.fetchUploadUrl(m,p,y,_,S,s==null?void 0:s.httpOptions);return c.uploadToFileSearchStore(a,E,this)}async downloadFile(n){await this.clientOptions.downloader.download(n,this)}async fetchUploadUrl(n,a,s,l,c,f){var p;let y={};f?y=f:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${a}`,"X-Goog-Upload-Header-Content-Type":`${s}`},l?{"X-Goog-Upload-File-Name":l}:{})};const m=await this.request({path:n,body:JSON.stringify(c),httpMethod:"POST",httpOptions:y});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const _=(p=m==null?void 0:m.headers)===null||p===void 0?void 0:p["x-goog-upload-url"];if(_===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return _}}async function mg(i){var n;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const a=i.status;let s;!((n=i.headers.get("content-type"))===null||n===void 0)&&n.includes("application/json")?s=await i.json():s={error:{message:await i.text(),code:i.status,status:i.statusText}};const l=JSON.stringify(s);throw a>=400&&a<600?new ju({message:l,status:a}):new Error(l)}}function sE(i,n){if(!n||Object.keys(n).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let a={};if(typeof i.body=="string"&&i.body.length>0)try{const c=JSON.parse(i.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))a=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(c,f){const p=Object.assign({},c);for(const y in f)if(Object.prototype.hasOwnProperty.call(f,y)){const m=f[y],_=p[y];m&&typeof m=="object"&&!Array.isArray(m)&&_&&typeof _=="object"&&!Array.isArray(_)?p[y]=s(_,m):(_&&m&&typeof _!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof _}, New type: ${typeof m}. Overwriting.`),p[y]=m)}return p}const l=s(a,n);i.body=JSON.stringify(l)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rE="mcp_used/unknown";let lE=!1;function ny(i){for(const n of i)if(uE(n)||typeof n=="object"&&"inputSchema"in n)return!0;return lE}function iy(i){var n;const a=(n=i[Jd])!==null&&n!==void 0?n:"";i[Jd]=(a+` ${rE}`).trimStart()}function uE(i){return i!==null&&typeof i=="object"&&i instanceof af}function cE(i,n=100){return Ys(this,arguments,function*(){let s,l=0;for(;l<n;){const c=yield Mt(i.listTools({cursor:s}));for(const f of c.tools)yield yield Mt(f),l++;if(!c.nextCursor)break;s=c.nextCursor}})}class af{constructor(n=[],a){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=n,this.config=a}static create(n,a){return new af(n,a)}async initialize(){var n,a,s,l;if(this.mcpTools.length>0)return;const c={},f=[];for(const _ of this.mcpClients)try{for(var p=!0,y=(a=void 0,hl(cE(_))),m;m=await y.next(),n=m.done,!n;p=!0){l=m.value,p=!1;const S=l;f.push(S);const E=S.name;if(c[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);c[E]=_}}catch(S){a={error:S}}finally{try{!p&&!n&&(s=y.return)&&await s.call(y)}finally{if(a)throw a.error}}this.mcpTools=f,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),m0(this.mcpTools,this.config)}async callTool(n){await this.initialize();const a=[];for(const s of n)if(s.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[s.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const f=await l.callTool({name:s.name,arguments:s.args},void 0,c);a.push({functionResponse:{name:s.name,response:f.isError?{error:f}:f}})}return a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function dE(i,n,a){const s=new r0;let l;a.data instanceof Blob?l=JSON.parse(await a.data.text()):l=JSON.parse(a.data),Object.assign(s,l),n(s)}class fE{constructor(n,a,s){this.apiClient=n,this.auth=a,this.webSocketFactory=s}async connect(n){var a,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),f=mE(this.apiClient.getDefaultHeaders()),p=this.apiClient.getApiKey(),y=`${l}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${p}`;let m=()=>{};const _=new Promise(L=>{m=L}),S=n.callbacks,E=function(){m({})},C=this.apiClient,D={onopen:E,onmessage:L=>{dE(C,S.onmessage,L)},onerror:(a=S==null?void 0:S.onerror)!==null&&a!==void 0?a:function(L){},onclose:(s=S==null?void 0:S.onclose)!==null&&s!==void 0?s:function(L){}},w=this.webSocketFactory.create(y,pE(f),D);w.connect(),await _;const U={setup:{model:ft(this.apiClient,n.model)}};return w.send(JSON.stringify(U)),new hE(w,this.apiClient)}}class hE{constructor(n,a){this.conn=n,this.apiClient=a}async setWeightedPrompts(n){if(!n.weightedPrompts||Object.keys(n.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const a=oS(n);this.conn.send(JSON.stringify({clientContent:a}))}async setMusicGenerationConfig(n){n.musicGenerationConfig||(n.musicGenerationConfig={});const a=iS(n);this.conn.send(JSON.stringify(a))}sendPlaybackControl(n){const a={playbackControl:n};this.conn.send(JSON.stringify(a))}play(){this.sendPlaybackControl(Hs.PLAY)}pause(){this.sendPlaybackControl(Hs.PAUSE)}stop(){this.sendPlaybackControl(Hs.STOP)}resetContext(){this.sendPlaybackControl(Hs.RESET_CONTEXT)}close(){this.conn.close()}}function pE(i){const n={};return i.forEach((a,s)=>{n[s]=a}),n}function mE(i){const n=new Headers;for(const[a,s]of Object.entries(i))n.append(a,s);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function yE(i,n,a){const s=new s0;let l;a.data instanceof Blob?l=await a.data.text():a.data instanceof ArrayBuffer?l=new TextDecoder().decode(a.data):l=a.data;const c=JSON.parse(l);if(i.isVertexAI()){const f=rS(c);Object.assign(s,f)}else Object.assign(s,c);n(s)}class vE{constructor(n,a,s){this.apiClient=n,this.auth=a,this.webSocketFactory=s,this.music=new fE(this.apiClient,this.auth,this.webSocketFactory)}async connect(n){var a,s,l,c,f,p;if(n.config&&n.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let _;const S=this.apiClient.getHeaders();n.config&&n.config.tools&&ny(n.config.tools)&&iy(S);const E=EE(S);if(this.apiClient.isVertexAI())_=`${y}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,_);else{const Z=this.apiClient.getApiKey();let ye="BidiGenerateContent",Me="key";Z!=null&&Z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ye="BidiGenerateContentConstrained",Me="access_token"),_=`${y}/ws/google.ai.generativelanguage.${m}.GenerativeService.${ye}?${Me}=${Z}`}let C=()=>{};const D=new Promise(Z=>{C=Z}),w=n.callbacks,M=function(){var Z;(Z=w==null?void 0:w.onopen)===null||Z===void 0||Z.call(w),C({})},N=this.apiClient,U={onopen:M,onmessage:Z=>{yE(N,w.onmessage,Z)},onerror:(a=w==null?void 0:w.onerror)!==null&&a!==void 0?a:function(Z){},onclose:(s=w==null?void 0:w.onclose)!==null&&s!==void 0?s:function(Z){}},L=this.webSocketFactory.create(_,TE(E),U);L.connect(),await D;let q=ft(this.apiClient,n.model);if(this.apiClient.isVertexAI()&&q.startsWith("publishers/")){const Z=this.apiClient.getProject(),ye=this.apiClient.getLocation();q=`projects/${Z}/locations/${ye}/`+q}let O={};this.apiClient.isVertexAI()&&((l=n.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(n.config===void 0?n.config={responseModalities:[Mi.AUDIO]}:n.config.responseModalities=[Mi.AUDIO]),!((c=n.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ee=(p=(f=n.config)===null||f===void 0?void 0:f.tools)!==null&&p!==void 0?p:[],J=[];for(const Z of ee)if(this.isCallableTool(Z)){const ye=Z;J.push(await ye.tool())}else J.push(Z);J.length>0&&(n.config.tools=J);const pe={model:q,config:n.config,callbacks:n.callbacks};return this.apiClient.isVertexAI()?O=nS(this.apiClient,pe):O=tS(this.apiClient,pe),delete O.config,L.send(JSON.stringify(O)),new SE(L,this.apiClient)}isCallableTool(n){return"callTool"in n&&typeof n.callTool=="function"}}const _E={turnComplete:!0};class SE{constructor(n,a){this.conn=n,this.apiClient=a}tLiveClientContent(n,a){if(a.turns!==null&&a.turns!==void 0){let s=[];try{s=mi(a.turns),n.isVertexAI()||(s=s.map(l=>Zu(l)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof a.turns}'`)}return{clientContent:{turns:s,turnComplete:a.turnComplete}}}return{clientContent:{turnComplete:a.turnComplete}}}tLiveClienttToolResponse(n,a){let s=[];if(a.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(a.functionResponses)?s=a.functionResponses:s=[a.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const c of s){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!n.isVertexAI()&&!("id"in c))throw new Error(gE)}return{toolResponse:{functionResponses:s}}}sendClientContent(n){n=Object.assign(Object.assign({},_E),n);const a=this.tLiveClientContent(this.apiClient,n);this.conn.send(JSON.stringify(a))}sendRealtimeInput(n){let a={};this.apiClient.isVertexAI()?a={realtimeInput:sS(n)}:a={realtimeInput:aS(n)},this.conn.send(JSON.stringify(a))}sendToolResponse(n){if(n.functionResponses==null)throw new Error("Tool response parameters are required.");const a=this.tLiveClienttToolResponse(this.apiClient,n);this.conn.send(JSON.stringify(a))}close(){this.conn.close()}}function TE(i){const n={};return i.forEach((a,s)=>{n[s]=a}),n}function EE(i){const n=new Headers;for(const[a,s]of Object.entries(i))n.append(a,s);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gg=10;function yg(i){var n,a,s;if(!((n=i==null?void 0:i.automaticFunctionCalling)===null||n===void 0)&&n.disable)return!0;let l=!1;for(const f of(a=i==null?void 0:i.tools)!==null&&a!==void 0?a:[])if(Js(f)){l=!0;break}if(!l)return!0;const c=(s=i==null?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function Js(i){return"callTool"in i&&typeof i.callTool=="function"}function AE(i){var n,a,s;return(s=(a=(n=i.config)===null||n===void 0?void 0:n.tools)===null||a===void 0?void 0:a.some(l=>Js(l)))!==null&&s!==void 0?s:!1}function vg(i){var n;const a=[];return!((n=i==null?void 0:i.config)===null||n===void 0)&&n.tools&&i.config.tools.forEach((s,l)=>{if(Js(s))return;const c=s;c.functionDeclarations&&c.functionDeclarations.length>0&&a.push(l)}),a}function _g(i){var n;return!(!((n=i==null?void 0:i.automaticFunctionCalling)===null||n===void 0)&&n.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CE extends xo{constructor(n){super(),this.apiClient=n,this.generateContent=async a=>{var s,l,c,f,p;const y=await this.processParamsMaybeAddMcpUsage(a);if(this.maybeMoveToResponseJsonSchem(a),!AE(a)||yg(a.config))return await this.generateContentInternal(y);const m=vg(a);if(m.length>0){const w=m.map(M=>`tools[${M}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let _,S;const E=mi(y.contents),C=(c=(l=(s=y.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&c!==void 0?c:gg;let D=0;for(;D<C&&(_=await this.generateContentInternal(y),!(!_.functionCalls||_.functionCalls.length===0));){const w=_.candidates[0].content,M=[];for(const N of(p=(f=a.config)===null||f===void 0?void 0:f.tools)!==null&&p!==void 0?p:[])if(Js(N)){const L=await N.callTool(_.functionCalls);M.push(...L)}D++,S={role:"user",parts:M},y.contents=mi(y.contents),y.contents.push(w),y.contents.push(S),_g(y.config)&&(E.push(w),E.push(S))}return _g(y.config)&&(_.automaticFunctionCallingHistory=E),_},this.generateContentStream=async a=>{if(this.maybeMoveToResponseJsonSchem(a),yg(a.config)){const l=await this.processParamsMaybeAddMcpUsage(a);return await this.generateContentStreamInternal(l)}const s=vg(a);if(s.length>0){const l=s.map(c=>`tools[${c}]`).join(", ");throw new Error(`Incompatible tools found at ${l}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}return await this.processAfcStream(a)},this.generateImages=async a=>await this.generateImagesInternal(a).then(s=>{var l;let c;const f=[];if(s!=null&&s.generatedImages)for(const y of s.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((l=y==null?void 0:y.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?c=y==null?void 0:y.safetyAttributes:f.push(y);let p;return c?p={generatedImages:f,positivePromptSafetyAttributes:c,sdkHttpResponse:s.sdkHttpResponse}:p={generatedImages:f,sdkHttpResponse:s.sdkHttpResponse},p}),this.list=async a=>{var s;const f={config:Object.assign(Object.assign({},{queryBase:!0}),a==null?void 0:a.config)};if(this.apiClient.isVertexAI()&&!f.config.queryBase){if(!((s=f.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");f.config.filter="labels.tune-type:*"}return new Ja(Co.PAGED_ITEM_MODELS,p=>this.listInternal(p),await this.listInternal(f),f)},this.editImage=async a=>{const s={model:a.model,prompt:a.prompt,referenceImages:[],config:a.config};return a.referenceImages&&a.referenceImages&&(s.referenceImages=a.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async a=>{let s={numberOfImages:1,mode:"upscale"};a.config&&(s=Object.assign(Object.assign({},s),a.config));const l={model:a.model,image:a.image,upscaleFactor:a.upscaleFactor,config:s};return await this.upscaleImageInternal(l)},this.generateVideos=async a=>{var s,l,c,f,p,y;if((a.prompt||a.image||a.video)&&a.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=a.video)===null||s===void 0)&&s.uri&&(!((l=a.video)===null||l===void 0)&&l.videoBytes)?a.video={uri:a.video.uri,mimeType:a.video.mimeType}:!((f=(c=a.source)===null||c===void 0?void 0:c.video)===null||f===void 0)&&f.uri&&(!((y=(p=a.source)===null||p===void 0?void 0:p.video)===null||y===void 0)&&y.videoBytes)&&(a.source.video={uri:a.source.video.uri,mimeType:a.source.video.mimeType})),await this.generateVideosInternal(a)}}maybeMoveToResponseJsonSchem(n){n.config&&n.config.responseSchema&&(n.config.responseJsonSchema||Object.keys(n.config.responseSchema).includes("$schema")&&(n.config.responseJsonSchema=n.config.responseSchema,delete n.config.responseSchema))}async processParamsMaybeAddMcpUsage(n){var a,s,l;const c=(a=n.config)===null||a===void 0?void 0:a.tools;if(!c)return n;const f=await Promise.all(c.map(async y=>Js(y)?await y.tool():y)),p={model:n.model,contents:n.contents,config:Object.assign(Object.assign({},n.config),{tools:f})};if(p.config.tools=f,n.config&&n.config.tools&&ny(n.config.tools)){const y=(l=(s=n.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&l!==void 0?l:{};let m=Object.assign({},y);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),iy(m),p.config.httpOptions=Object.assign(Object.assign({},n.config.httpOptions),{headers:m})}return p}async initAfcToolsMap(n){var a,s,l;const c=new Map;for(const f of(s=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[])if(Js(f)){const p=f,y=await p.tool();for(const m of(l=y.functionDeclarations)!==null&&l!==void 0?l:[]){if(!m.name)throw new Error("Function declaration name is required.");if(c.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);c.set(m.name,p)}}return c}async processAfcStream(n){var a,s,l;const c=(l=(s=(a=n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&l!==void 0?l:gg;let f=!1,p=0;const y=await this.initAfcToolsMap(n);return(function(m,_,S){var E,C;return Ys(this,arguments,function*(){for(var D,w,M,N;p<c;){f&&(p++,f=!1);const O=yield Mt(m.processParamsMaybeAddMcpUsage(S)),ee=yield Mt(m.generateContentStreamInternal(O)),J=[],pe=[];try{for(var U=!0,L=(w=void 0,hl(ee)),q;q=yield Mt(L.next()),D=q.done,!D;U=!0){N=q.value,U=!1;const Z=N;if(yield yield Mt(Z),Z.candidates&&(!((E=Z.candidates[0])===null||E===void 0)&&E.content)){pe.push(Z.candidates[0].content);for(const ye of(C=Z.candidates[0].content.parts)!==null&&C!==void 0?C:[])if(p<c&&ye.functionCall){if(!ye.functionCall.name)throw new Error("Function call name was not returned by the model.");if(_.has(ye.functionCall.name)){const Me=yield Mt(_.get(ye.functionCall.name).callTool([ye.functionCall]));J.push(...Me)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${_.keys()}, mising tool: ${ye.functionCall.name}`)}}}}catch(Z){w={error:Z}}finally{try{!U&&!D&&(M=L.return)&&(yield Mt(M.call(L)))}finally{if(w)throw w.error}}if(J.length>0){f=!0;const Z=new ul;Z.candidates=[{content:{role:"user",parts:J}}],yield yield Mt(Z);const ye=[];ye.push(...pe),ye.push({role:"user",parts:J});const Me=mi(S.contents).concat(ye);S.contents=Me}else break}})})(this,y,n)}async generateContentInternal(n){var a,s,l,c;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=dg(this.apiClient,n);return p=Ue("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(_=>_.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:_.headers},E})),f.then(_=>{const S=hg(_),E=new ul;return Object.assign(E,S),E})}else{const m=cg(this.apiClient,n);return p=Ue("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:_.headers},E})),f.then(_=>{const S=fg(_),E=new ul;return Object.assign(E,S),E})}}async generateContentStreamInternal(n){var a,s,l,c;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=dg(this.apiClient,n);return p=Ue("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.requestStream({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}),f.then(function(S){return Ys(this,arguments,function*(){var E,C,D,w;try{for(var M=!0,N=hl(S),U;U=yield Mt(N.next()),E=U.done,!E;M=!0){w=U.value,M=!1;const L=w,q=hg(yield Mt(L.json()));q.sdkHttpResponse={headers:L.headers};const O=new ul;Object.assign(O,q),yield yield Mt(O)}}catch(L){C={error:L}}finally{try{!M&&!E&&(D=N.return)&&(yield Mt(D.call(N)))}finally{if(C)throw C.error}}})})}else{const m=cg(this.apiClient,n);return p=Ue("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.requestStream({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}),f.then(function(S){return Ys(this,arguments,function*(){var E,C,D,w;try{for(var M=!0,N=hl(S),U;U=yield Mt(N.next()),E=U.done,!E;M=!0){w=U.value,M=!1;const L=w,q=fg(yield Mt(L.json()));q.sdkHttpResponse={headers:L.headers};const O=new ul;Object.assign(O,q),yield yield Mt(O)}}catch(L){C={error:L}}finally{try{!M&&!E&&(D=N.return)&&(yield Mt(D.call(N)))}finally{if(C)throw C.error}}})})}}async embedContent(n){var a,s,l,c;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=zS(this.apiClient,n);return p=Ue("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(_=>_.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:_.headers},E})),f.then(_=>{const S=GS(_),E=new jm;return Object.assign(E,S),E})}else{const m=LS(this.apiClient,n);return p=Ue("{model}:batchEmbedContents",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:_.headers},E})),f.then(_=>{const S=BS(_),E=new jm;return Object.assign(E,S),E})}}async generateImagesInternal(n){var a,s,l,c;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=jS(this.apiClient,n);return p=Ue("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(_=>_.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:_.headers},E})),f.then(_=>{const S=XS(_),E=new Zm;return Object.assign(E,S),E})}else{const m=KS(this.apiClient,n);return p=Ue("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:_.headers},E})),f.then(_=>{const S=ZS(_),E=new Zm;return Object.assign(E,S),E})}}async editImageInternal(n){var a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const p=DS(this.apiClient,n);return c=Ue("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:y.headers},_})),l.then(y=>{const m=kS(y),_=new Zv;return Object.assign(_,m),_})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(n){var a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const p=YT(this.apiClient,n);return c=Ue("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:y.headers},_})),l.then(y=>{const m=JT(y),_=new Xv;return Object.assign(_,m),_})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(n){var a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const p=bT(this.apiClient,n);return c=Ue("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=NT(y),_=new $v;return Object.assign(_,m),_})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(n){var a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const p=UT(this.apiClient,n);return c=Ue("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=PT(y),_=new Qv;return Object.assign(_,m),_})}else throw new Error("This method is only supported by the Vertex AI.")}async get(n){var a,s,l,c;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=hT(this.apiClient,n);return p=Ue("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(_=>_.json()),f.then(_=>Yd(_))}else{const m=fT(this.apiClient,n);return p=Ue("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json()),f.then(_=>Od(_))}}async listInternal(n){var a,s,l,c;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=ST(this.apiClient,n);return p=Ue("{models_url}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(_=>_.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:_.headers},E})),f.then(_=>{const S=ET(_),E=new Xm;return Object.assign(E,S),E})}else{const m=_T(this.apiClient,n);return p=Ue("{models_url}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:_.headers},E})),f.then(_=>{const S=TT(_),E=new Xm;return Object.assign(E,S),E})}}async update(n){var a,s,l,c;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=HT(this.apiClient,n);return p=Ue("{model}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(_=>_.json()),f.then(_=>Yd(_))}else{const m=FT(this.apiClient,n);return p=Ue("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json()),f.then(_=>Od(_))}}async delete(n){var a,s,l,c;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=NS(this.apiClient,n);return p=Ue("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(_=>_.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:_.headers},E})),f.then(_=>{const S=IS(_),E=new $m;return Object.assign(E,S),E})}else{const m=bS(this.apiClient,n);return p=Ue("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:_.headers},E})),f.then(_=>{const S=RS(_),E=new $m;return Object.assign(E,S),E})}}async countTokens(n){var a,s,l,c;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=CS(this.apiClient,n);return p=Ue("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(_=>_.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:_.headers},E})),f.then(_=>{const S=wS(_),E=new Qm;return Object.assign(E,S),E})}else{const m=AS(this.apiClient,n);return p=Ue("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:_.headers},E})),f.then(_=>{const S=xS(_),E=new Qm;return Object.assign(E,S),E})}}async computeTokens(n){var a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const p=gS(this.apiClient,n);return c=Ue("{model}:computeTokens",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:y.headers},_})),l.then(y=>{const m=yS(y),_=new Wv;return Object.assign(_,m),_})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(n){var a,s,l,c;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=nT(this.apiClient,n);return p=Ue("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(_=>_.json()),f.then(_=>{const S=eT(_),E=new Yu;return Object.assign(E,S),E})}else{const m=tT(this.apiClient,n);return p=Ue("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json()),f.then(_=>{const S=WS(_),E=new Yu;return Object.assign(E,S),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xE extends xo{constructor(n){super(),this.apiClient=n}async getVideosOperation(n){const a=n.operation,s=n.config;if(a.name===void 0||a.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=a.name.split("/operations/")[0];let c;s&&"httpOptions"in s&&(c=s.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:a.name,resourceName:l,config:{httpOptions:c}});return a._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:a.name,config:s});return a._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async get(n){const a=n.operation,s=n.config;if(a.name===void 0||a.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=a.name.split("/operations/")[0];let c;s&&"httpOptions"in s&&(c=s.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:a.name,resourceName:l,config:{httpOptions:c}});return a._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:a.name,config:s});return a._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async getVideosOperationInternal(n){var a,s,l,c;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=Hv(n);return p=Ue("{operationName}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(_=>_.json()),f}else{const m=Fv(n);return p=Ue("{operationName}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json()),f}}async fetchPredictVideosOperationInternal(n){var a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const p=Pv(n);return c=Ue("{resourceName}:fetchPredictOperation",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wE(i){const n={},a=u(i,["data"]);if(a!=null&&d(n,["data"],a),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function bE(i){const n={},a=u(i,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>PE(c))),d(n,["parts"],l)}const s=u(i,["role"]);return s!=null&&d(n,["role"],s),n}function NE(i,n,a){const s={},l=u(n,["expireTime"]);a!==void 0&&l!=null&&d(a,["expireTime"],l);const c=u(n,["newSessionExpireTime"]);a!==void 0&&c!=null&&d(a,["newSessionExpireTime"],c);const f=u(n,["uses"]);a!==void 0&&f!=null&&d(a,["uses"],f);const p=u(n,["liveConnectConstraints"]);a!==void 0&&p!=null&&d(a,["bidiGenerateContentSetup"],UE(i,p));const y=u(n,["lockAdditionalFields"]);return a!==void 0&&y!=null&&d(a,["fieldMask"],y),s}function RE(i,n){const a={},s=u(n,["config"]);return s!=null&&d(a,["config"],NE(i,s,a)),a}function IE(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["fileUri"]);a!=null&&d(n,["fileUri"],a);const s=u(i,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function ME(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const a=u(i,["enableWidget"]);return a!=null&&d(n,["enableWidget"],a),n}function DE(i){const n={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const a=u(i,["timeRangeFilter"]);return a!=null&&d(n,["timeRangeFilter"],a),n}function kE(i,n){const a={},s=u(i,["generationConfig"]);n!==void 0&&s!=null&&d(n,["setup","generationConfig"],s);const l=u(i,["responseModalities"]);n!==void 0&&l!=null&&d(n,["setup","generationConfig","responseModalities"],l);const c=u(i,["temperature"]);n!==void 0&&c!=null&&d(n,["setup","generationConfig","temperature"],c);const f=u(i,["topP"]);n!==void 0&&f!=null&&d(n,["setup","generationConfig","topP"],f);const p=u(i,["topK"]);n!==void 0&&p!=null&&d(n,["setup","generationConfig","topK"],p);const y=u(i,["maxOutputTokens"]);n!==void 0&&y!=null&&d(n,["setup","generationConfig","maxOutputTokens"],y);const m=u(i,["mediaResolution"]);n!==void 0&&m!=null&&d(n,["setup","generationConfig","mediaResolution"],m);const _=u(i,["seed"]);n!==void 0&&_!=null&&d(n,["setup","generationConfig","seed"],_);const S=u(i,["speechConfig"]);n!==void 0&&S!=null&&d(n,["setup","generationConfig","speechConfig"],of(S));const E=u(i,["thinkingConfig"]);n!==void 0&&E!=null&&d(n,["setup","generationConfig","thinkingConfig"],E);const C=u(i,["enableAffectiveDialog"]);n!==void 0&&C!=null&&d(n,["setup","generationConfig","enableAffectiveDialog"],C);const D=u(i,["systemInstruction"]);n!==void 0&&D!=null&&d(n,["setup","systemInstruction"],bE(mn(D)));const w=u(i,["tools"]);if(n!==void 0&&w!=null){let ee=js(w);Array.isArray(ee)&&(ee=ee.map(J=>zE(Ks(J)))),d(n,["setup","tools"],ee)}const M=u(i,["sessionResumption"]);n!==void 0&&M!=null&&d(n,["setup","sessionResumption"],LE(M));const N=u(i,["inputAudioTranscription"]);n!==void 0&&N!=null&&d(n,["setup","inputAudioTranscription"],N);const U=u(i,["outputAudioTranscription"]);n!==void 0&&U!=null&&d(n,["setup","outputAudioTranscription"],U);const L=u(i,["realtimeInputConfig"]);n!==void 0&&L!=null&&d(n,["setup","realtimeInputConfig"],L);const q=u(i,["contextWindowCompression"]);n!==void 0&&q!=null&&d(n,["setup","contextWindowCompression"],q);const O=u(i,["proactivity"]);return n!==void 0&&O!=null&&d(n,["setup","proactivity"],O),a}function UE(i,n){const a={},s=u(n,["model"]);s!=null&&d(a,["setup","model"],ft(i,s));const l=u(n,["config"]);return l!=null&&d(a,["config"],kE(l,a)),a}function PE(i){const n={},a=u(i,["functionCall"]);a!=null&&d(n,["functionCall"],a);const s=u(i,["codeExecutionResult"]);s!=null&&d(n,["codeExecutionResult"],s);const l=u(i,["executableCode"]);l!=null&&d(n,["executableCode"],l);const c=u(i,["fileData"]);c!=null&&d(n,["fileData"],IE(c));const f=u(i,["functionResponse"]);f!=null&&d(n,["functionResponse"],f);const p=u(i,["inlineData"]);p!=null&&d(n,["inlineData"],wE(p));const y=u(i,["text"]);y!=null&&d(n,["text"],y);const m=u(i,["thought"]);m!=null&&d(n,["thought"],m);const _=u(i,["thoughtSignature"]);_!=null&&d(n,["thoughtSignature"],_);const S=u(i,["videoMetadata"]);return S!=null&&d(n,["videoMetadata"],S),n}function LE(i){const n={},a=u(i,["handle"]);if(a!=null&&d(n,["handle"],a),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function zE(i){const n={},a=u(i,["functionDeclarations"]);if(a!=null){let _=a;Array.isArray(_)&&(_=_.map(S=>S)),d(n,["functionDeclarations"],_)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["googleSearchRetrieval"]);s!=null&&d(n,["googleSearchRetrieval"],s);const l=u(i,["computerUse"]);l!=null&&d(n,["computerUse"],l);const c=u(i,["fileSearch"]);c!=null&&d(n,["fileSearch"],c);const f=u(i,["codeExecution"]);if(f!=null&&d(n,["codeExecution"],f),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(i,["googleMaps"]);p!=null&&d(n,["googleMaps"],ME(p));const y=u(i,["googleSearch"]);y!=null&&d(n,["googleSearch"],DE(y));const m=u(i,["urlContext"]);return m!=null&&d(n,["urlContext"],m),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BE(i){const n=[];for(const a in i)if(Object.prototype.hasOwnProperty.call(i,a)){const s=i[a];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const l=Object.keys(s).map(c=>`${a}.${c}`);n.push(...l)}else n.push(a)}return n.join(",")}function GE(i,n){let a=null;const s=i.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const c=s.setup;typeof c=="object"&&c!==null?(i.bidiGenerateContentSetup=c,a=c):delete i.bidiGenerateContentSetup}else s!==void 0&&delete i.bidiGenerateContentSetup;const l=i.fieldMask;if(a){const c=BE(a);if(Array.isArray(n==null?void 0:n.lockAdditionalFields)&&(n==null?void 0:n.lockAdditionalFields.length)===0)c?i.fieldMask=c:delete i.fieldMask;else if(n!=null&&n.lockAdditionalFields&&n.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const f=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let p=[];l.length>0&&(p=l.map(m=>f.includes(m)?`generationConfig.${m}`:m));const y=[];c&&y.push(c),p.length>0&&y.push(...p),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?i.fieldMask=l.join(","):delete i.fieldMask;return i}class VE extends xo{constructor(n){super(),this.apiClient=n}async create(n){var a,s;let l,c="",f={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const p=RE(this.apiClient,n);c=Ue("auth_tokens",p._url),f=p._query,delete p.config,delete p._url,delete p._query;const y=GE(p,n.config);return l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),l.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qE(i,n){const a={},s=u(i,["displayName"]);return n!==void 0&&s!=null&&d(n,["displayName"],s),a}function FE(i){const n={},a=u(i,["config"]);return a!=null&&qE(a,n),n}function HE(i,n){const a={},s=u(i,["force"]);return n!==void 0&&s!=null&&d(n,["_query","force"],s),a}function OE(i){const n={},a=u(i,["name"]);a!=null&&d(n,["_url","name"],a);const s=u(i,["config"]);return s!=null&&HE(s,n),n}function YE(i){const n={},a=u(i,["name"]);return a!=null&&d(n,["_url","name"],a),n}function JE(i,n){const a={},s=u(i,["customMetadata"]);if(n!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>f)),d(n,["customMetadata"],c)}const l=u(i,["chunkingConfig"]);return n!==void 0&&l!=null&&d(n,["chunkingConfig"],l),a}function KE(i){const n={},a=u(i,["name"]);a!=null&&d(n,["name"],a);const s=u(i,["metadata"]);s!=null&&d(n,["metadata"],s);const l=u(i,["done"]);l!=null&&d(n,["done"],l);const c=u(i,["error"]);c!=null&&d(n,["error"],c);const f=u(i,["response"]);return f!=null&&d(n,["response"],ZE(f)),n}function jE(i){const n={},a=u(i,["fileSearchStoreName"]);a!=null&&d(n,["_url","file_search_store_name"],a);const s=u(i,["fileName"]);s!=null&&d(n,["fileName"],s);const l=u(i,["config"]);return l!=null&&JE(l,n),n}function ZE(i){const n={},a=u(i,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=u(i,["parent"]);s!=null&&d(n,["parent"],s);const l=u(i,["documentName"]);return l!=null&&d(n,["documentName"],l),n}function XE(i,n){const a={},s=u(i,["pageSize"]);n!==void 0&&s!=null&&d(n,["_query","pageSize"],s);const l=u(i,["pageToken"]);return n!==void 0&&l!=null&&d(n,["_query","pageToken"],l),a}function $E(i){const n={},a=u(i,["config"]);return a!=null&&XE(a,n),n}function QE(i){const n={},a=u(i,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=u(i,["nextPageToken"]);s!=null&&d(n,["nextPageToken"],s);const l=u(i,["fileSearchStores"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>f)),d(n,["fileSearchStores"],c)}return n}function WE(i,n){const a={},s=u(i,["mimeType"]);n!==void 0&&s!=null&&d(n,["mimeType"],s);const l=u(i,["displayName"]);n!==void 0&&l!=null&&d(n,["displayName"],l);const c=u(i,["customMetadata"]);if(n!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(y=>y)),d(n,["customMetadata"],p)}const f=u(i,["chunkingConfig"]);return n!==void 0&&f!=null&&d(n,["chunkingConfig"],f),a}function eA(i){const n={},a=u(i,["fileSearchStoreName"]);a!=null&&d(n,["_url","file_search_store_name"],a);const s=u(i,["config"]);return s!=null&&WE(s,n),n}function tA(i){const n={},a=u(i,["sdkHttpResponse"]);return a!=null&&d(n,["sdkHttpResponse"],a),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nA(i,n){const a={},s=u(i,["force"]);return n!==void 0&&s!=null&&d(n,["_query","force"],s),a}function iA(i){const n={},a=u(i,["name"]);a!=null&&d(n,["_url","name"],a);const s=u(i,["config"]);return s!=null&&nA(s,n),n}function oA(i){const n={},a=u(i,["name"]);return a!=null&&d(n,["_url","name"],a),n}function aA(i,n){const a={},s=u(i,["pageSize"]);n!==void 0&&s!=null&&d(n,["_query","pageSize"],s);const l=u(i,["pageToken"]);return n!==void 0&&l!=null&&d(n,["_query","pageToken"],l),a}function sA(i){const n={},a=u(i,["parent"]);a!=null&&d(n,["_url","parent"],a);const s=u(i,["config"]);return s!=null&&aA(s,n),n}function rA(i){const n={},a=u(i,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=u(i,["nextPageToken"]);s!=null&&d(n,["nextPageToken"],s);const l=u(i,["documents"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>f)),d(n,["documents"],c)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lA extends xo{constructor(n){super(),this.apiClient=n,this.list=async a=>new Ja(Co.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:a.parent,config:s.config}),await this.listInternal(a),a)}async get(n){var a,s;let l,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=oA(n);return c=Ue("{name}",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async delete(n){var a,s;let l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=iA(n);l=Ue("{name}",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(n){var a,s;let l,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=sA(n);return c=Ue("{parent}/documents",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=rA(y),_=new e0;return Object.assign(_,m),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uA extends xo{constructor(n,a=new lA(n)){super(),this.apiClient=n,this.documents=a,this.list=async(s={})=>new Ja(Co.PAGED_ITEM_FILE_SEARCH_STORES,l=>this.listInternal(l),await this.listInternal(s),s)}async uploadToFileSearchStore(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(n.fileSearchStoreName,n.file,n.config)}async create(n){var a,s;let l,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=FE(n);return c=Ue("fileSearchStores",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async get(n){var a,s;let l,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=YE(n);return c=Ue("{name}",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async delete(n){var a,s;let l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=OE(n);l=Ue("{name}",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(n){var a,s;let l,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=$E(n);return c=Ue("fileSearchStores",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=QE(y),_=new t0;return Object.assign(_,m),_})}}async uploadToFileSearchStoreInternal(n){var a,s;let l,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=eA(n);return c=Ue("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=tA(y),_=new n0;return Object.assign(_,m),_})}}async importFile(n){var a,s;let l,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=jE(n);return c=Ue("{file_search_store_name}:importFile",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=KE(y),_=new Qd;return Object.assign(_,m),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cA(i,n){const a={},s=u(i,["name"]);return s!=null&&d(a,["_url","name"],s),a}function dA(i,n){const a={},s=u(i,["name"]);return s!=null&&d(a,["_url","name"],s),a}function fA(i,n,a){const s={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=u(i,["tunedModelDisplayName"]);if(n!==void 0&&l!=null&&d(n,["displayName"],l),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=u(i,["epochCount"]);n!==void 0&&c!=null&&d(n,["tuningTask","hyperparameters","epochCount"],c);const f=u(i,["learningRateMultiplier"]);if(f!=null&&d(s,["tuningTask","hyperparameters","learningRateMultiplier"],f),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const p=u(i,["batchSize"]);n!==void 0&&p!=null&&d(n,["tuningTask","hyperparameters","batchSize"],p);const y=u(i,["learningRate"]);if(n!==void 0&&y!=null&&d(n,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function hA(i,n,a){const s={};let l=u(a,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const C=u(i,["validationDataset"]);n!==void 0&&C!=null&&d(n,["supervisedTuningSpec"],Sg(C))}else if(l==="PREFERENCE_TUNING"){const C=u(i,["validationDataset"]);n!==void 0&&C!=null&&d(n,["preferenceOptimizationSpec"],Sg(C))}const c=u(i,["tunedModelDisplayName"]);n!==void 0&&c!=null&&d(n,["tunedModelDisplayName"],c);const f=u(i,["description"]);n!==void 0&&f!=null&&d(n,["description"],f);let p=u(a,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const C=u(i,["epochCount"]);n!==void 0&&C!=null&&d(n,["supervisedTuningSpec","hyperParameters","epochCount"],C)}else if(p==="PREFERENCE_TUNING"){const C=u(i,["epochCount"]);n!==void 0&&C!=null&&d(n,["preferenceOptimizationSpec","hyperParameters","epochCount"],C)}let y=u(a,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const C=u(i,["learningRateMultiplier"]);n!==void 0&&C!=null&&d(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],C)}else if(y==="PREFERENCE_TUNING"){const C=u(i,["learningRateMultiplier"]);n!==void 0&&C!=null&&d(n,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],C)}let m=u(a,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const C=u(i,["exportLastCheckpointOnly"]);n!==void 0&&C!=null&&d(n,["supervisedTuningSpec","exportLastCheckpointOnly"],C)}else if(m==="PREFERENCE_TUNING"){const C=u(i,["exportLastCheckpointOnly"]);n!==void 0&&C!=null&&d(n,["preferenceOptimizationSpec","exportLastCheckpointOnly"],C)}let _=u(a,["config","method"]);if(_===void 0&&(_="SUPERVISED_FINE_TUNING"),_==="SUPERVISED_FINE_TUNING"){const C=u(i,["adapterSize"]);n!==void 0&&C!=null&&d(n,["supervisedTuningSpec","hyperParameters","adapterSize"],C)}else if(_==="PREFERENCE_TUNING"){const C=u(i,["adapterSize"]);n!==void 0&&C!=null&&d(n,["preferenceOptimizationSpec","hyperParameters","adapterSize"],C)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const S=u(i,["labels"]);n!==void 0&&S!=null&&d(n,["labels"],S);const E=u(i,["beta"]);return n!==void 0&&E!=null&&d(n,["preferenceOptimizationSpec","hyperParameters","beta"],E),s}function pA(i,n){const a={},s=u(i,["baseModel"]);s!=null&&d(a,["baseModel"],s);const l=u(i,["preTunedModel"]);l!=null&&d(a,["preTunedModel"],l);const c=u(i,["trainingDataset"]);c!=null&&xA(c);const f=u(i,["config"]);return f!=null&&fA(f,a),a}function mA(i,n){const a={},s=u(i,["baseModel"]);s!=null&&d(a,["baseModel"],s);const l=u(i,["preTunedModel"]);l!=null&&d(a,["preTunedModel"],l);const c=u(i,["trainingDataset"]);c!=null&&wA(c,a,n);const f=u(i,["config"]);return f!=null&&hA(f,a,n),a}function gA(i,n){const a={},s=u(i,["name"]);return s!=null&&d(a,["_url","name"],s),a}function yA(i,n){const a={},s=u(i,["name"]);return s!=null&&d(a,["_url","name"],s),a}function vA(i,n,a){const s={},l=u(i,["pageSize"]);n!==void 0&&l!=null&&d(n,["_query","pageSize"],l);const c=u(i,["pageToken"]);n!==void 0&&c!=null&&d(n,["_query","pageToken"],c);const f=u(i,["filter"]);return n!==void 0&&f!=null&&d(n,["_query","filter"],f),s}function _A(i,n,a){const s={},l=u(i,["pageSize"]);n!==void 0&&l!=null&&d(n,["_query","pageSize"],l);const c=u(i,["pageToken"]);n!==void 0&&c!=null&&d(n,["_query","pageToken"],c);const f=u(i,["filter"]);return n!==void 0&&f!=null&&d(n,["_query","filter"],f),s}function SA(i,n){const a={},s=u(i,["config"]);return s!=null&&vA(s,a),a}function TA(i,n){const a={},s=u(i,["config"]);return s!=null&&_A(s,a),a}function EA(i,n){const a={},s=u(i,["sdkHttpResponse"]);s!=null&&d(a,["sdkHttpResponse"],s);const l=u(i,["nextPageToken"]);l!=null&&d(a,["nextPageToken"],l);const c=u(i,["tunedModels"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(p=>oy(p))),d(a,["tuningJobs"],f)}return a}function AA(i,n){const a={},s=u(i,["sdkHttpResponse"]);s!=null&&d(a,["sdkHttpResponse"],s);const l=u(i,["nextPageToken"]);l!=null&&d(a,["nextPageToken"],l);const c=u(i,["tuningJobs"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(p=>Kd(p))),d(a,["tuningJobs"],f)}return a}function CA(i,n){const a={},s=u(i,["name"]);s!=null&&d(a,["model"],s);const l=u(i,["name"]);return l!=null&&d(a,["endpoint"],l),a}function xA(i,n){const a={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=u(i,["examples"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>c)),d(a,["examples","examples"],l)}return a}function wA(i,n,a){const s={};let l=u(a,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const f=u(i,["gcsUri"]);n!==void 0&&f!=null&&d(n,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(l==="PREFERENCE_TUNING"){const f=u(i,["gcsUri"]);n!==void 0&&f!=null&&d(n,["preferenceOptimizationSpec","trainingDatasetUri"],f)}let c=u(a,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const f=u(i,["vertexDatasetResource"]);n!==void 0&&f!=null&&d(n,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(c==="PREFERENCE_TUNING"){const f=u(i,["vertexDatasetResource"]);n!==void 0&&f!=null&&d(n,["preferenceOptimizationSpec","trainingDatasetUri"],f)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function oy(i,n){const a={},s=u(i,["sdkHttpResponse"]);s!=null&&d(a,["sdkHttpResponse"],s);const l=u(i,["name"]);l!=null&&d(a,["name"],l);const c=u(i,["state"]);c!=null&&d(a,["state"],Gg(c));const f=u(i,["createTime"]);f!=null&&d(a,["createTime"],f);const p=u(i,["tuningTask","startTime"]);p!=null&&d(a,["startTime"],p);const y=u(i,["tuningTask","completeTime"]);y!=null&&d(a,["endTime"],y);const m=u(i,["updateTime"]);m!=null&&d(a,["updateTime"],m);const _=u(i,["description"]);_!=null&&d(a,["description"],_);const S=u(i,["baseModel"]);S!=null&&d(a,["baseModel"],S);const E=u(i,["_self"]);return E!=null&&d(a,["tunedModel"],CA(E)),a}function Kd(i,n){const a={},s=u(i,["sdkHttpResponse"]);s!=null&&d(a,["sdkHttpResponse"],s);const l=u(i,["name"]);l!=null&&d(a,["name"],l);const c=u(i,["state"]);c!=null&&d(a,["state"],Gg(c));const f=u(i,["createTime"]);f!=null&&d(a,["createTime"],f);const p=u(i,["startTime"]);p!=null&&d(a,["startTime"],p);const y=u(i,["endTime"]);y!=null&&d(a,["endTime"],y);const m=u(i,["updateTime"]);m!=null&&d(a,["updateTime"],m);const _=u(i,["error"]);_!=null&&d(a,["error"],_);const S=u(i,["description"]);S!=null&&d(a,["description"],S);const E=u(i,["baseModel"]);E!=null&&d(a,["baseModel"],E);const C=u(i,["tunedModel"]);C!=null&&d(a,["tunedModel"],C);const D=u(i,["preTunedModel"]);D!=null&&d(a,["preTunedModel"],D);const w=u(i,["supervisedTuningSpec"]);w!=null&&d(a,["supervisedTuningSpec"],w);const M=u(i,["preferenceOptimizationSpec"]);M!=null&&d(a,["preferenceOptimizationSpec"],M);const N=u(i,["tuningDataStats"]);N!=null&&d(a,["tuningDataStats"],N);const U=u(i,["encryptionSpec"]);U!=null&&d(a,["encryptionSpec"],U);const L=u(i,["partnerModelTuningSpec"]);L!=null&&d(a,["partnerModelTuningSpec"],L);const q=u(i,["customBaseModel"]);q!=null&&d(a,["customBaseModel"],q);const O=u(i,["experiment"]);O!=null&&d(a,["experiment"],O);const ee=u(i,["labels"]);ee!=null&&d(a,["labels"],ee);const J=u(i,["outputUri"]);J!=null&&d(a,["outputUri"],J);const pe=u(i,["pipelineJob"]);pe!=null&&d(a,["pipelineJob"],pe);const Z=u(i,["serviceAccount"]);Z!=null&&d(a,["serviceAccount"],Z);const ye=u(i,["tunedModelDisplayName"]);ye!=null&&d(a,["tunedModelDisplayName"],ye);const Me=u(i,["veoTuningSpec"]);return Me!=null&&d(a,["veoTuningSpec"],Me),a}function bA(i,n){const a={},s=u(i,["sdkHttpResponse"]);s!=null&&d(a,["sdkHttpResponse"],s);const l=u(i,["name"]);l!=null&&d(a,["name"],l);const c=u(i,["metadata"]);c!=null&&d(a,["metadata"],c);const f=u(i,["done"]);f!=null&&d(a,["done"],f);const p=u(i,["error"]);return p!=null&&d(a,["error"],p),a}function Sg(i,n){const a={},s=u(i,["gcsUri"]);s!=null&&d(a,["validationDatasetUri"],s);const l=u(i,["vertexDatasetResource"]);return l!=null&&d(a,["validationDatasetUri"],l),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NA extends xo{constructor(n){super(),this.apiClient=n,this.get=async a=>await this.getInternal(a),this.list=async(a={})=>new Ja(Co.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(a),a),this.tune=async a=>{var s;if(this.apiClient.isVertexAI())if(a.baseModel.startsWith("projects/")){const l={tunedModelName:a.baseModel};!((s=a.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(l.checkpointId=a.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},a),{preTunedModel:l});return c.baseModel=void 0,await this.tuneInternal(c)}else{const l=Object.assign({},a);return await this.tuneInternal(l)}else{const l=Object.assign({},a),c=await this.tuneMldevInternal(l);let f="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?f=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(f=c.name.split("/operations/")[0]),{name:f,state:Vd.JOB_STATE_QUEUED}}}}async getInternal(n){var a,s,l,c;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=yA(n);return p=Ue("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(_=>_.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:_.headers},E})),f.then(_=>Kd(_))}else{const m=gA(n);return p=Ue("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:_.headers},E})),f.then(_=>oy(_))}}async listInternal(n){var a,s,l,c;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=TA(n);return p=Ue("tuningJobs",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(_=>_.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:_.headers},E})),f.then(_=>{const S=AA(_),E=new Wm;return Object.assign(E,S),E})}else{const m=SA(n);return p=Ue("tunedModels",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:_.headers},E})),f.then(_=>{const S=EA(_),E=new Wm;return Object.assign(E,S),E})}}async cancel(n){var a,s,l,c;let f="",p={};if(this.apiClient.isVertexAI()){const y=dA(n);f=Ue("{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=cA(n);f=Ue("{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal})}}async tuneInternal(n){var a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const p=mA(n,n);return c=Ue("tuningJobs",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:y.headers},_})),l.then(y=>Kd(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(n){var a,s;let l,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=pA(n);return c=Ue("tunedModels",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:y.headers},_})),l.then(y=>bA(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RA{async download(n,a){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const IA=1024*1024*8,MA=3,DA=1e3,kA=2,Ku="x-goog-upload-status";async function UA(i,n,a){var s;const l=await ay(i,n,a),c=await(l==null?void 0:l.json());if(((s=l==null?void 0:l.headers)===null||s===void 0?void 0:s[Ku])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function PA(i,n,a){var s;const l=await ay(i,n,a),c=await(l==null?void 0:l.json());if(((s=l==null?void 0:l.headers)===null||s===void 0?void 0:s[Ku])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const f=kg(c),p=new Wd;return Object.assign(p,f),p}async function ay(i,n,a){var s,l;let c=0,f=0,p=new qd(new Response),y="upload";for(c=i.size;f<c;){const m=Math.min(IA,c-f),_=i.slice(f,f+m);f+m>=c&&(y+=", finalize");let S=0,E=DA;for(;S<MA&&(p=await a.request({path:"",body:_,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(f),"Content-Length":String(m)}}}),!(!((s=p==null?void 0:p.headers)===null||s===void 0)&&s[Ku]));)S++,await zA(E),E=E*kA;if(f+=m,((l=p==null?void 0:p.headers)===null||l===void 0?void 0:l[Ku])!=="active")break;if(c<=f)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return p}async function LA(i){return{size:i.size,type:i.type}}function zA(i){return new Promise(n=>setTimeout(n,i))}class BA{async upload(n,a,s){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await UA(n,a,s)}async uploadToFileSearchStore(n,a,s){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await PA(n,a,s)}async stat(n){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await LA(n)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GA{create(n,a,s){return new VA(n,a,s)}}class VA{constructor(n,a,s){this.url=n,this.headers=a,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(n){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(n)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tg="x-goog-api-key";class qA{constructor(n){this.apiKey=n}async addAuthHeaders(n,a){if(n.get(Tg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");n.append(Tg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FA="gl-node/";class Lu{constructor(n){var a;if(n.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(n.project||n.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(a=n.vertexai)!==null&&a!==void 0?a:!1,this.apiKey=n.apiKey;const s=kv(n.httpOptions,n.vertexai,void 0,void 0);s&&(n.httpOptions?n.httpOptions.baseUrl=s:n.httpOptions={baseUrl:s}),this.apiVersion=n.apiVersion;const l=new qA(this.apiKey);this.apiClient=new aE({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:n.httpOptions,userAgentExtra:FA+"web",uploader:new BA,downloader:new RA}),this.models=new CE(this.apiClient),this.live=new vE(this.apiClient,l,new GA),this.batches=new o_(this.apiClient),this.chats=new L_(this.models,this.apiClient),this.caches=new k_(this.apiClient),this.files=new J_(this.apiClient),this.operations=new xE(this.apiClient),this.authTokens=new VE(this.apiClient),this.tunings=new NA(this.apiClient),this.fileSearchStores=new uA(this.apiClient)}}function zu(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Pd={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Eg;function HA(){return Eg||(Eg=1,(function(i,n){(function(a){i.exports=a()})(function(){return(function a(s,l,c){function f(m,_){if(!l[m]){if(!s[m]){var S=typeof zu=="function"&&zu;if(!_&&S)return S(m,!0);if(p)return p(m,!0);var E=new Error("Cannot find module '"+m+"'");throw E.code="MODULE_NOT_FOUND",E}var C=l[m]={exports:{}};s[m][0].call(C.exports,function(D){var w=s[m][1][D];return f(w||D)},C,C.exports,a,s,l,c)}return l[m].exports}for(var p=typeof zu=="function"&&zu,y=0;y<c.length;y++)f(c[y]);return f})({1:[function(a,s,l){var c=a("./utils"),f=a("./support"),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";l.encode=function(y){for(var m,_,S,E,C,D,w,M=[],N=0,U=y.length,L=U,q=c.getTypeOf(y)!=="string";N<y.length;)L=U-N,S=q?(m=y[N++],_=N<U?y[N++]:0,N<U?y[N++]:0):(m=y.charCodeAt(N++),_=N<U?y.charCodeAt(N++):0,N<U?y.charCodeAt(N++):0),E=m>>2,C=(3&m)<<4|_>>4,D=1<L?(15&_)<<2|S>>6:64,w=2<L?63&S:64,M.push(p.charAt(E)+p.charAt(C)+p.charAt(D)+p.charAt(w));return M.join("")},l.decode=function(y){var m,_,S,E,C,D,w=0,M=0,N="data:";if(y.substr(0,N.length)===N)throw new Error("Invalid base64 input, it looks like a data url.");var U,L=3*(y=y.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(y.charAt(y.length-1)===p.charAt(64)&&L--,y.charAt(y.length-2)===p.charAt(64)&&L--,L%1!=0)throw new Error("Invalid base64 input, bad content length.");for(U=f.uint8array?new Uint8Array(0|L):new Array(0|L);w<y.length;)m=p.indexOf(y.charAt(w++))<<2|(E=p.indexOf(y.charAt(w++)))>>4,_=(15&E)<<4|(C=p.indexOf(y.charAt(w++)))>>2,S=(3&C)<<6|(D=p.indexOf(y.charAt(w++))),U[M++]=m,C!==64&&(U[M++]=_),D!==64&&(U[M++]=S);return U}},{"./support":30,"./utils":32}],2:[function(a,s,l){var c=a("./external"),f=a("./stream/DataWorker"),p=a("./stream/Crc32Probe"),y=a("./stream/DataLengthProbe");function m(_,S,E,C,D){this.compressedSize=_,this.uncompressedSize=S,this.crc32=E,this.compression=C,this.compressedContent=D}m.prototype={getContentWorker:function(){var _=new f(c.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new y("data_length")),S=this;return _.on("end",function(){if(this.streamInfo.data_length!==S.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),_},getCompressedWorker:function(){return new f(c.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(_,S,E){return _.pipe(new p).pipe(new y("uncompressedSize")).pipe(S.compressWorker(E)).pipe(new y("compressedSize")).withStreamInfo("compression",S)},s.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(a,s,l){var c=a("./stream/GenericWorker");l.STORE={magic:"\0\0",compressWorker:function(){return new c("STORE compression")},uncompressWorker:function(){return new c("STORE decompression")}},l.DEFLATE=a("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(a,s,l){var c=a("./utils"),f=(function(){for(var p,y=[],m=0;m<256;m++){p=m;for(var _=0;_<8;_++)p=1&p?3988292384^p>>>1:p>>>1;y[m]=p}return y})();s.exports=function(p,y){return p!==void 0&&p.length?c.getTypeOf(p)!=="string"?(function(m,_,S,E){var C=f,D=E+S;m^=-1;for(var w=E;w<D;w++)m=m>>>8^C[255&(m^_[w])];return-1^m})(0|y,p,p.length,0):(function(m,_,S,E){var C=f,D=E+S;m^=-1;for(var w=E;w<D;w++)m=m>>>8^C[255&(m^_.charCodeAt(w))];return-1^m})(0|y,p,p.length,0):0}},{"./utils":32}],5:[function(a,s,l){l.base64=!1,l.binary=!1,l.dir=!1,l.createFolders=!0,l.date=null,l.compression=null,l.compressionOptions=null,l.comment=null,l.unixPermissions=null,l.dosPermissions=null},{}],6:[function(a,s,l){var c=null;c=typeof Promise<"u"?Promise:a("lie"),s.exports={Promise:c}},{lie:37}],7:[function(a,s,l){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",f=a("pako"),p=a("./utils"),y=a("./stream/GenericWorker"),m=c?"uint8array":"array";function _(S,E){y.call(this,"FlateWorker/"+S),this._pako=null,this._pakoAction=S,this._pakoOptions=E,this.meta={}}l.magic="\b\0",p.inherits(_,y),_.prototype.processChunk=function(S){this.meta=S.meta,this._pako===null&&this._createPako(),this._pako.push(p.transformTo(m,S.data),!1)},_.prototype.flush=function(){y.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},_.prototype.cleanUp=function(){y.prototype.cleanUp.call(this),this._pako=null},_.prototype._createPako=function(){this._pako=new f[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var S=this;this._pako.onData=function(E){S.push({data:E,meta:S.meta})}},l.compressWorker=function(S){return new _("Deflate",S)},l.uncompressWorker=function(){return new _("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(a,s,l){function c(C,D){var w,M="";for(w=0;w<D;w++)M+=String.fromCharCode(255&C),C>>>=8;return M}function f(C,D,w,M,N,U){var L,q,O=C.file,ee=C.compression,J=U!==m.utf8encode,pe=p.transformTo("string",U(O.name)),Z=p.transformTo("string",m.utf8encode(O.name)),ye=O.comment,Me=p.transformTo("string",U(ye)),V=p.transformTo("string",m.utf8encode(ye)),re=Z.length!==O.name.length,b=V.length!==ye.length,de="",X="",$="",Ie=O.dir,he=O.date,ke={crc32:0,compressedSize:0,uncompressedSize:0};D&&!w||(ke.crc32=C.crc32,ke.compressedSize=C.compressedSize,ke.uncompressedSize=C.uncompressedSize);var I=0;D&&(I|=8),J||!re&&!b||(I|=2048);var B=0,fe=0;Ie&&(B|=16),N==="UNIX"?(fe=798,B|=(function(me,Le){var Ye=me;return me||(Ye=Le?16893:33204),(65535&Ye)<<16})(O.unixPermissions,Ie)):(fe=20,B|=(function(me){return 63&(me||0)})(O.dosPermissions)),L=he.getUTCHours(),L<<=6,L|=he.getUTCMinutes(),L<<=5,L|=he.getUTCSeconds()/2,q=he.getUTCFullYear()-1980,q<<=4,q|=he.getUTCMonth()+1,q<<=5,q|=he.getUTCDate(),re&&(X=c(1,1)+c(_(pe),4)+Z,de+="up"+c(X.length,2)+X),b&&($=c(1,1)+c(_(Me),4)+V,de+="uc"+c($.length,2)+$);var ce="";return ce+=`
\0`,ce+=c(I,2),ce+=ee.magic,ce+=c(L,2),ce+=c(q,2),ce+=c(ke.crc32,4),ce+=c(ke.compressedSize,4),ce+=c(ke.uncompressedSize,4),ce+=c(pe.length,2),ce+=c(de.length,2),{fileRecord:S.LOCAL_FILE_HEADER+ce+pe+de,dirRecord:S.CENTRAL_FILE_HEADER+c(fe,2)+ce+c(Me.length,2)+"\0\0\0\0"+c(B,4)+c(M,4)+pe+de+Me}}var p=a("../utils"),y=a("../stream/GenericWorker"),m=a("../utf8"),_=a("../crc32"),S=a("../signature");function E(C,D,w,M){y.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=D,this.zipPlatform=w,this.encodeFileName=M,this.streamFiles=C,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}p.inherits(E,y),E.prototype.push=function(C){var D=C.meta.percent||0,w=this.entriesCount,M=this._sources.length;this.accumulate?this.contentBuffer.push(C):(this.bytesWritten+=C.data.length,y.prototype.push.call(this,{data:C.data,meta:{currentFile:this.currentFile,percent:w?(D+100*(w-M-1))/w:100}}))},E.prototype.openedSource=function(C){this.currentSourceOffset=this.bytesWritten,this.currentFile=C.file.name;var D=this.streamFiles&&!C.file.dir;if(D){var w=f(C,D,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:w.fileRecord,meta:{percent:0}})}else this.accumulate=!0},E.prototype.closedSource=function(C){this.accumulate=!1;var D=this.streamFiles&&!C.file.dir,w=f(C,D,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(w.dirRecord),D)this.push({data:(function(M){return S.DATA_DESCRIPTOR+c(M.crc32,4)+c(M.compressedSize,4)+c(M.uncompressedSize,4)})(C),meta:{percent:100}});else for(this.push({data:w.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},E.prototype.flush=function(){for(var C=this.bytesWritten,D=0;D<this.dirRecords.length;D++)this.push({data:this.dirRecords[D],meta:{percent:100}});var w=this.bytesWritten-C,M=(function(N,U,L,q,O){var ee=p.transformTo("string",O(q));return S.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(N,2)+c(N,2)+c(U,4)+c(L,4)+c(ee.length,2)+ee})(this.dirRecords.length,w,C,this.zipComment,this.encodeFileName);this.push({data:M,meta:{percent:100}})},E.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},E.prototype.registerPrevious=function(C){this._sources.push(C);var D=this;return C.on("data",function(w){D.processChunk(w)}),C.on("end",function(){D.closedSource(D.previous.streamInfo),D._sources.length?D.prepareNextSource():D.end()}),C.on("error",function(w){D.error(w)}),this},E.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},E.prototype.error=function(C){var D=this._sources;if(!y.prototype.error.call(this,C))return!1;for(var w=0;w<D.length;w++)try{D[w].error(C)}catch{}return!0},E.prototype.lock=function(){y.prototype.lock.call(this);for(var C=this._sources,D=0;D<C.length;D++)C[D].lock()},s.exports=E},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(a,s,l){var c=a("../compressions"),f=a("./ZipFileWorker");l.generateWorker=function(p,y,m){var _=new f(y.streamFiles,m,y.platform,y.encodeFileName),S=0;try{p.forEach(function(E,C){S++;var D=(function(U,L){var q=U||L,O=c[q];if(!O)throw new Error(q+" is not a valid compression method !");return O})(C.options.compression,y.compression),w=C.options.compressionOptions||y.compressionOptions||{},M=C.dir,N=C.date;C._compressWorker(D,w).withStreamInfo("file",{name:E,dir:M,date:N,comment:C.comment||"",unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions}).pipe(_)}),_.entriesCount=S}catch(E){_.error(E)}return _}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(a,s,l){function c(){if(!(this instanceof c))return new c;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var f=new c;for(var p in this)typeof this[p]!="function"&&(f[p]=this[p]);return f}}(c.prototype=a("./object")).loadAsync=a("./load"),c.support=a("./support"),c.defaults=a("./defaults"),c.version="3.10.1",c.loadAsync=function(f,p){return new c().loadAsync(f,p)},c.external=a("./external"),s.exports=c},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(a,s,l){var c=a("./utils"),f=a("./external"),p=a("./utf8"),y=a("./zipEntries"),m=a("./stream/Crc32Probe"),_=a("./nodejsUtils");function S(E){return new f.Promise(function(C,D){var w=E.decompressed.getContentWorker().pipe(new m);w.on("error",function(M){D(M)}).on("end",function(){w.streamInfo.crc32!==E.decompressed.crc32?D(new Error("Corrupted zip : CRC32 mismatch")):C()}).resume()})}s.exports=function(E,C){var D=this;return C=c.extend(C||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:p.utf8decode}),_.isNode&&_.isStream(E)?f.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):c.prepareContent("the loaded zip file",E,!0,C.optimizedBinaryString,C.base64).then(function(w){var M=new y(C);return M.load(w),M}).then(function(w){var M=[f.Promise.resolve(w)],N=w.files;if(C.checkCRC32)for(var U=0;U<N.length;U++)M.push(S(N[U]));return f.Promise.all(M)}).then(function(w){for(var M=w.shift(),N=M.files,U=0;U<N.length;U++){var L=N[U],q=L.fileNameStr,O=c.resolve(L.fileNameStr);D.file(O,L.decompressed,{binary:!0,optimizedBinaryString:!0,date:L.date,dir:L.dir,comment:L.fileCommentStr.length?L.fileCommentStr:null,unixPermissions:L.unixPermissions,dosPermissions:L.dosPermissions,createFolders:C.createFolders}),L.dir||(D.file(O).unsafeOriginalName=q)}return M.zipComment.length&&(D.comment=M.zipComment),D})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(a,s,l){var c=a("../utils"),f=a("../stream/GenericWorker");function p(y,m){f.call(this,"Nodejs stream input adapter for "+y),this._upstreamEnded=!1,this._bindStream(m)}c.inherits(p,f),p.prototype._bindStream=function(y){var m=this;(this._stream=y).pause(),y.on("data",function(_){m.push({data:_,meta:{percent:0}})}).on("error",function(_){m.isPaused?this.generatedError=_:m.error(_)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},p.prototype.pause=function(){return!!f.prototype.pause.call(this)&&(this._stream.pause(),!0)},p.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},s.exports=p},{"../stream/GenericWorker":28,"../utils":32}],13:[function(a,s,l){var c=a("readable-stream").Readable;function f(p,y,m){c.call(this,y),this._helper=p;var _=this;p.on("data",function(S,E){_.push(S)||_._helper.pause(),m&&m(E)}).on("error",function(S){_.emit("error",S)}).on("end",function(){_.push(null)})}a("../utils").inherits(f,c),f.prototype._read=function(){this._helper.resume()},s.exports=f},{"../utils":32,"readable-stream":16}],14:[function(a,s,l){s.exports={isNode:typeof Buffer<"u",newBufferFrom:function(c,f){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(c,f);if(typeof c=="number")throw new Error('The "data" argument must not be a number');return new Buffer(c,f)},allocBuffer:function(c){if(Buffer.alloc)return Buffer.alloc(c);var f=new Buffer(c);return f.fill(0),f},isBuffer:function(c){return Buffer.isBuffer(c)},isStream:function(c){return c&&typeof c.on=="function"&&typeof c.pause=="function"&&typeof c.resume=="function"}}},{}],15:[function(a,s,l){function c(O,ee,J){var pe,Z=p.getTypeOf(ee),ye=p.extend(J||{},_);ye.date=ye.date||new Date,ye.compression!==null&&(ye.compression=ye.compression.toUpperCase()),typeof ye.unixPermissions=="string"&&(ye.unixPermissions=parseInt(ye.unixPermissions,8)),ye.unixPermissions&&16384&ye.unixPermissions&&(ye.dir=!0),ye.dosPermissions&&16&ye.dosPermissions&&(ye.dir=!0),ye.dir&&(O=N(O)),ye.createFolders&&(pe=M(O))&&U.call(this,pe,!0);var Me=Z==="string"&&ye.binary===!1&&ye.base64===!1;J&&J.binary!==void 0||(ye.binary=!Me),(ee instanceof S&&ee.uncompressedSize===0||ye.dir||!ee||ee.length===0)&&(ye.base64=!1,ye.binary=!0,ee="",ye.compression="STORE",Z="string");var V=null;V=ee instanceof S||ee instanceof y?ee:D.isNode&&D.isStream(ee)?new w(O,ee):p.prepareContent(O,ee,ye.binary,ye.optimizedBinaryString,ye.base64);var re=new E(O,V,ye);this.files[O]=re}var f=a("./utf8"),p=a("./utils"),y=a("./stream/GenericWorker"),m=a("./stream/StreamHelper"),_=a("./defaults"),S=a("./compressedObject"),E=a("./zipObject"),C=a("./generate"),D=a("./nodejsUtils"),w=a("./nodejs/NodejsStreamInputAdapter"),M=function(O){O.slice(-1)==="/"&&(O=O.substring(0,O.length-1));var ee=O.lastIndexOf("/");return 0<ee?O.substring(0,ee):""},N=function(O){return O.slice(-1)!=="/"&&(O+="/"),O},U=function(O,ee){return ee=ee!==void 0?ee:_.createFolders,O=N(O),this.files[O]||c.call(this,O,null,{dir:!0,createFolders:ee}),this.files[O]};function L(O){return Object.prototype.toString.call(O)==="[object RegExp]"}var q={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(O){var ee,J,pe;for(ee in this.files)pe=this.files[ee],(J=ee.slice(this.root.length,ee.length))&&ee.slice(0,this.root.length)===this.root&&O(J,pe)},filter:function(O){var ee=[];return this.forEach(function(J,pe){O(J,pe)&&ee.push(pe)}),ee},file:function(O,ee,J){if(arguments.length!==1)return O=this.root+O,c.call(this,O,ee,J),this;if(L(O)){var pe=O;return this.filter(function(ye,Me){return!Me.dir&&pe.test(ye)})}var Z=this.files[this.root+O];return Z&&!Z.dir?Z:null},folder:function(O){if(!O)return this;if(L(O))return this.filter(function(Z,ye){return ye.dir&&O.test(Z)});var ee=this.root+O,J=U.call(this,ee),pe=this.clone();return pe.root=J.name,pe},remove:function(O){O=this.root+O;var ee=this.files[O];if(ee||(O.slice(-1)!=="/"&&(O+="/"),ee=this.files[O]),ee&&!ee.dir)delete this.files[O];else for(var J=this.filter(function(Z,ye){return ye.name.slice(0,O.length)===O}),pe=0;pe<J.length;pe++)delete this.files[J[pe].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(O){var ee,J={};try{if((J=p.extend(O||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:f.utf8encode})).type=J.type.toLowerCase(),J.compression=J.compression.toUpperCase(),J.type==="binarystring"&&(J.type="string"),!J.type)throw new Error("No output type specified.");p.checkSupport(J.type),J.platform!=="darwin"&&J.platform!=="freebsd"&&J.platform!=="linux"&&J.platform!=="sunos"||(J.platform="UNIX"),J.platform==="win32"&&(J.platform="DOS");var pe=J.comment||this.comment||"";ee=C.generateWorker(this,J,pe)}catch(Z){(ee=new y("error")).error(Z)}return new m(ee,J.type||"string",J.mimeType)},generateAsync:function(O,ee){return this.generateInternalStream(O).accumulate(ee)},generateNodeStream:function(O,ee){return(O=O||{}).type||(O.type="nodebuffer"),this.generateInternalStream(O).toNodejsStream(ee)}};s.exports=q},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(a,s,l){s.exports=a("stream")},{stream:void 0}],17:[function(a,s,l){var c=a("./DataReader");function f(p){c.call(this,p);for(var y=0;y<this.data.length;y++)p[y]=255&p[y]}a("../utils").inherits(f,c),f.prototype.byteAt=function(p){return this.data[this.zero+p]},f.prototype.lastIndexOfSignature=function(p){for(var y=p.charCodeAt(0),m=p.charCodeAt(1),_=p.charCodeAt(2),S=p.charCodeAt(3),E=this.length-4;0<=E;--E)if(this.data[E]===y&&this.data[E+1]===m&&this.data[E+2]===_&&this.data[E+3]===S)return E-this.zero;return-1},f.prototype.readAndCheckSignature=function(p){var y=p.charCodeAt(0),m=p.charCodeAt(1),_=p.charCodeAt(2),S=p.charCodeAt(3),E=this.readData(4);return y===E[0]&&m===E[1]&&_===E[2]&&S===E[3]},f.prototype.readData=function(p){if(this.checkOffset(p),p===0)return[];var y=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,y},s.exports=f},{"../utils":32,"./DataReader":18}],18:[function(a,s,l){var c=a("../utils");function f(p){this.data=p,this.length=p.length,this.index=0,this.zero=0}f.prototype={checkOffset:function(p){this.checkIndex(this.index+p)},checkIndex:function(p){if(this.length<this.zero+p||p<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+p+"). Corrupted zip ?")},setIndex:function(p){this.checkIndex(p),this.index=p},skip:function(p){this.setIndex(this.index+p)},byteAt:function(){},readInt:function(p){var y,m=0;for(this.checkOffset(p),y=this.index+p-1;y>=this.index;y--)m=(m<<8)+this.byteAt(y);return this.index+=p,m},readString:function(p){return c.transformTo("string",this.readData(p))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var p=this.readInt(4);return new Date(Date.UTC(1980+(p>>25&127),(p>>21&15)-1,p>>16&31,p>>11&31,p>>5&63,(31&p)<<1))}},s.exports=f},{"../utils":32}],19:[function(a,s,l){var c=a("./Uint8ArrayReader");function f(p){c.call(this,p)}a("../utils").inherits(f,c),f.prototype.readData=function(p){this.checkOffset(p);var y=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,y},s.exports=f},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(a,s,l){var c=a("./DataReader");function f(p){c.call(this,p)}a("../utils").inherits(f,c),f.prototype.byteAt=function(p){return this.data.charCodeAt(this.zero+p)},f.prototype.lastIndexOfSignature=function(p){return this.data.lastIndexOf(p)-this.zero},f.prototype.readAndCheckSignature=function(p){return p===this.readData(4)},f.prototype.readData=function(p){this.checkOffset(p);var y=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,y},s.exports=f},{"../utils":32,"./DataReader":18}],21:[function(a,s,l){var c=a("./ArrayReader");function f(p){c.call(this,p)}a("../utils").inherits(f,c),f.prototype.readData=function(p){if(this.checkOffset(p),p===0)return new Uint8Array(0);var y=this.data.subarray(this.zero+this.index,this.zero+this.index+p);return this.index+=p,y},s.exports=f},{"../utils":32,"./ArrayReader":17}],22:[function(a,s,l){var c=a("../utils"),f=a("../support"),p=a("./ArrayReader"),y=a("./StringReader"),m=a("./NodeBufferReader"),_=a("./Uint8ArrayReader");s.exports=function(S){var E=c.getTypeOf(S);return c.checkSupport(E),E!=="string"||f.uint8array?E==="nodebuffer"?new m(S):f.uint8array?new _(c.transformTo("uint8array",S)):new p(c.transformTo("array",S)):new y(S)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(a,s,l){l.LOCAL_FILE_HEADER="PK",l.CENTRAL_FILE_HEADER="PK",l.CENTRAL_DIRECTORY_END="PK",l.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",l.ZIP64_CENTRAL_DIRECTORY_END="PK",l.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(a,s,l){var c=a("./GenericWorker"),f=a("../utils");function p(y){c.call(this,"ConvertWorker to "+y),this.destType=y}f.inherits(p,c),p.prototype.processChunk=function(y){this.push({data:f.transformTo(this.destType,y.data),meta:y.meta})},s.exports=p},{"../utils":32,"./GenericWorker":28}],25:[function(a,s,l){var c=a("./GenericWorker"),f=a("../crc32");function p(){c.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}a("../utils").inherits(p,c),p.prototype.processChunk=function(y){this.streamInfo.crc32=f(y.data,this.streamInfo.crc32||0),this.push(y)},s.exports=p},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(a,s,l){var c=a("../utils"),f=a("./GenericWorker");function p(y){f.call(this,"DataLengthProbe for "+y),this.propName=y,this.withStreamInfo(y,0)}c.inherits(p,f),p.prototype.processChunk=function(y){if(y){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+y.data.length}f.prototype.processChunk.call(this,y)},s.exports=p},{"../utils":32,"./GenericWorker":28}],27:[function(a,s,l){var c=a("../utils"),f=a("./GenericWorker");function p(y){f.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,y.then(function(_){m.dataIsReady=!0,m.data=_,m.max=_&&_.length||0,m.type=c.getTypeOf(_),m.isPaused||m._tickAndRepeat()},function(_){m.error(_)})}c.inherits(p,f),p.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this.data=null},p.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,c.delay(this._tickAndRepeat,[],this)),!0)},p.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(c.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},p.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var y=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":y=this.data.substring(this.index,m);break;case"uint8array":y=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":y=this.data.slice(this.index,m)}return this.index=m,this.push({data:y,meta:{percent:this.max?this.index/this.max*100:0}})},s.exports=p},{"../utils":32,"./GenericWorker":28}],28:[function(a,s,l){function c(f){this.name=f||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}c.prototype={push:function(f){this.emit("data",f)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(f){this.emit("error",f)}return!0},error:function(f){return!this.isFinished&&(this.isPaused?this.generatedError=f:(this.isFinished=!0,this.emit("error",f),this.previous&&this.previous.error(f),this.cleanUp()),!0)},on:function(f,p){return this._listeners[f].push(p),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(f,p){if(this._listeners[f])for(var y=0;y<this._listeners[f].length;y++)this._listeners[f][y].call(this,p)},pipe:function(f){return f.registerPrevious(this)},registerPrevious:function(f){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=f.streamInfo,this.mergeStreamInfo(),this.previous=f;var p=this;return f.on("data",function(y){p.processChunk(y)}),f.on("end",function(){p.end()}),f.on("error",function(y){p.error(y)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var f=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),f=!0),this.previous&&this.previous.resume(),!f},flush:function(){},processChunk:function(f){this.push(f)},withStreamInfo:function(f,p){return this.extraStreamInfo[f]=p,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var f in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,f)&&(this.streamInfo[f]=this.extraStreamInfo[f])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var f="Worker "+this.name;return this.previous?this.previous+" -> "+f:f}},s.exports=c},{}],29:[function(a,s,l){var c=a("../utils"),f=a("./ConvertWorker"),p=a("./GenericWorker"),y=a("../base64"),m=a("../support"),_=a("../external"),S=null;if(m.nodestream)try{S=a("../nodejs/NodejsStreamOutputAdapter")}catch{}function E(D,w){return new _.Promise(function(M,N){var U=[],L=D._internalType,q=D._outputType,O=D._mimeType;D.on("data",function(ee,J){U.push(ee),w&&w(J)}).on("error",function(ee){U=[],N(ee)}).on("end",function(){try{var ee=(function(J,pe,Z){switch(J){case"blob":return c.newBlob(c.transformTo("arraybuffer",pe),Z);case"base64":return y.encode(pe);default:return c.transformTo(J,pe)}})(q,(function(J,pe){var Z,ye=0,Me=null,V=0;for(Z=0;Z<pe.length;Z++)V+=pe[Z].length;switch(J){case"string":return pe.join("");case"array":return Array.prototype.concat.apply([],pe);case"uint8array":for(Me=new Uint8Array(V),Z=0;Z<pe.length;Z++)Me.set(pe[Z],ye),ye+=pe[Z].length;return Me;case"nodebuffer":return Buffer.concat(pe);default:throw new Error("concat : unsupported type '"+J+"'")}})(L,U),O);M(ee)}catch(J){N(J)}U=[]}).resume()})}function C(D,w,M){var N=w;switch(w){case"blob":case"arraybuffer":N="uint8array";break;case"base64":N="string"}try{this._internalType=N,this._outputType=w,this._mimeType=M,c.checkSupport(N),this._worker=D.pipe(new f(N)),D.lock()}catch(U){this._worker=new p("error"),this._worker.error(U)}}C.prototype={accumulate:function(D){return E(this,D)},on:function(D,w){var M=this;return D==="data"?this._worker.on(D,function(N){w.call(M,N.data,N.meta)}):this._worker.on(D,function(){c.delay(w,arguments,M)}),this},resume:function(){return c.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(D){if(c.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new S(this,{objectMode:this._outputType!=="nodebuffer"},D)}},s.exports=C},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(a,s,l){if(l.base64=!0,l.array=!0,l.string=!0,l.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",l.nodebuffer=typeof Buffer<"u",l.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")l.blob=!1;else{var c=new ArrayBuffer(0);try{l.blob=new Blob([c],{type:"application/zip"}).size===0}catch{try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);f.append(c),l.blob=f.getBlob("application/zip").size===0}catch{l.blob=!1}}}try{l.nodestream=!!a("readable-stream").Readable}catch{l.nodestream=!1}},{"readable-stream":16}],31:[function(a,s,l){for(var c=a("./utils"),f=a("./support"),p=a("./nodejsUtils"),y=a("./stream/GenericWorker"),m=new Array(256),_=0;_<256;_++)m[_]=252<=_?6:248<=_?5:240<=_?4:224<=_?3:192<=_?2:1;m[254]=m[254]=1;function S(){y.call(this,"utf-8 decode"),this.leftOver=null}function E(){y.call(this,"utf-8 encode")}l.utf8encode=function(C){return f.nodebuffer?p.newBufferFrom(C,"utf-8"):(function(D){var w,M,N,U,L,q=D.length,O=0;for(U=0;U<q;U++)(64512&(M=D.charCodeAt(U)))==55296&&U+1<q&&(64512&(N=D.charCodeAt(U+1)))==56320&&(M=65536+(M-55296<<10)+(N-56320),U++),O+=M<128?1:M<2048?2:M<65536?3:4;for(w=f.uint8array?new Uint8Array(O):new Array(O),U=L=0;L<O;U++)(64512&(M=D.charCodeAt(U)))==55296&&U+1<q&&(64512&(N=D.charCodeAt(U+1)))==56320&&(M=65536+(M-55296<<10)+(N-56320),U++),M<128?w[L++]=M:(M<2048?w[L++]=192|M>>>6:(M<65536?w[L++]=224|M>>>12:(w[L++]=240|M>>>18,w[L++]=128|M>>>12&63),w[L++]=128|M>>>6&63),w[L++]=128|63&M);return w})(C)},l.utf8decode=function(C){return f.nodebuffer?c.transformTo("nodebuffer",C).toString("utf-8"):(function(D){var w,M,N,U,L=D.length,q=new Array(2*L);for(w=M=0;w<L;)if((N=D[w++])<128)q[M++]=N;else if(4<(U=m[N]))q[M++]=65533,w+=U-1;else{for(N&=U===2?31:U===3?15:7;1<U&&w<L;)N=N<<6|63&D[w++],U--;1<U?q[M++]=65533:N<65536?q[M++]=N:(N-=65536,q[M++]=55296|N>>10&1023,q[M++]=56320|1023&N)}return q.length!==M&&(q.subarray?q=q.subarray(0,M):q.length=M),c.applyFromCharCode(q)})(C=c.transformTo(f.uint8array?"uint8array":"array",C))},c.inherits(S,y),S.prototype.processChunk=function(C){var D=c.transformTo(f.uint8array?"uint8array":"array",C.data);if(this.leftOver&&this.leftOver.length){if(f.uint8array){var w=D;(D=new Uint8Array(w.length+this.leftOver.length)).set(this.leftOver,0),D.set(w,this.leftOver.length)}else D=this.leftOver.concat(D);this.leftOver=null}var M=(function(U,L){var q;for((L=L||U.length)>U.length&&(L=U.length),q=L-1;0<=q&&(192&U[q])==128;)q--;return q<0||q===0?L:q+m[U[q]]>L?q:L})(D),N=D;M!==D.length&&(f.uint8array?(N=D.subarray(0,M),this.leftOver=D.subarray(M,D.length)):(N=D.slice(0,M),this.leftOver=D.slice(M,D.length))),this.push({data:l.utf8decode(N),meta:C.meta})},S.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:l.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},l.Utf8DecodeWorker=S,c.inherits(E,y),E.prototype.processChunk=function(C){this.push({data:l.utf8encode(C.data),meta:C.meta})},l.Utf8EncodeWorker=E},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(a,s,l){var c=a("./support"),f=a("./base64"),p=a("./nodejsUtils"),y=a("./external");function m(w){return w}function _(w,M){for(var N=0;N<w.length;++N)M[N]=255&w.charCodeAt(N);return M}a("setimmediate"),l.newBlob=function(w,M){l.checkSupport("blob");try{return new Blob([w],{type:M})}catch{try{var N=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return N.append(w),N.getBlob(M)}catch{throw new Error("Bug : can't construct the Blob.")}}};var S={stringifyByChunk:function(w,M,N){var U=[],L=0,q=w.length;if(q<=N)return String.fromCharCode.apply(null,w);for(;L<q;)M==="array"||M==="nodebuffer"?U.push(String.fromCharCode.apply(null,w.slice(L,Math.min(L+N,q)))):U.push(String.fromCharCode.apply(null,w.subarray(L,Math.min(L+N,q)))),L+=N;return U.join("")},stringifyByChar:function(w){for(var M="",N=0;N<w.length;N++)M+=String.fromCharCode(w[N]);return M},applyCanBeUsed:{uint8array:(function(){try{return c.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return c.nodebuffer&&String.fromCharCode.apply(null,p.allocBuffer(1)).length===1}catch{return!1}})()}};function E(w){var M=65536,N=l.getTypeOf(w),U=!0;if(N==="uint8array"?U=S.applyCanBeUsed.uint8array:N==="nodebuffer"&&(U=S.applyCanBeUsed.nodebuffer),U)for(;1<M;)try{return S.stringifyByChunk(w,N,M)}catch{M=Math.floor(M/2)}return S.stringifyByChar(w)}function C(w,M){for(var N=0;N<w.length;N++)M[N]=w[N];return M}l.applyFromCharCode=E;var D={};D.string={string:m,array:function(w){return _(w,new Array(w.length))},arraybuffer:function(w){return D.string.uint8array(w).buffer},uint8array:function(w){return _(w,new Uint8Array(w.length))},nodebuffer:function(w){return _(w,p.allocBuffer(w.length))}},D.array={string:E,array:m,arraybuffer:function(w){return new Uint8Array(w).buffer},uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return p.newBufferFrom(w)}},D.arraybuffer={string:function(w){return E(new Uint8Array(w))},array:function(w){return C(new Uint8Array(w),new Array(w.byteLength))},arraybuffer:m,uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return p.newBufferFrom(new Uint8Array(w))}},D.uint8array={string:E,array:function(w){return C(w,new Array(w.length))},arraybuffer:function(w){return w.buffer},uint8array:m,nodebuffer:function(w){return p.newBufferFrom(w)}},D.nodebuffer={string:E,array:function(w){return C(w,new Array(w.length))},arraybuffer:function(w){return D.nodebuffer.uint8array(w).buffer},uint8array:function(w){return C(w,new Uint8Array(w.length))},nodebuffer:m},l.transformTo=function(w,M){if(M=M||"",!w)return M;l.checkSupport(w);var N=l.getTypeOf(M);return D[N][w](M)},l.resolve=function(w){for(var M=w.split("/"),N=[],U=0;U<M.length;U++){var L=M[U];L==="."||L===""&&U!==0&&U!==M.length-1||(L===".."?N.pop():N.push(L))}return N.join("/")},l.getTypeOf=function(w){return typeof w=="string"?"string":Object.prototype.toString.call(w)==="[object Array]"?"array":c.nodebuffer&&p.isBuffer(w)?"nodebuffer":c.uint8array&&w instanceof Uint8Array?"uint8array":c.arraybuffer&&w instanceof ArrayBuffer?"arraybuffer":void 0},l.checkSupport=function(w){if(!c[w.toLowerCase()])throw new Error(w+" is not supported by this platform")},l.MAX_VALUE_16BITS=65535,l.MAX_VALUE_32BITS=-1,l.pretty=function(w){var M,N,U="";for(N=0;N<(w||"").length;N++)U+="\\x"+((M=w.charCodeAt(N))<16?"0":"")+M.toString(16).toUpperCase();return U},l.delay=function(w,M,N){setImmediate(function(){w.apply(N||null,M||[])})},l.inherits=function(w,M){function N(){}N.prototype=M.prototype,w.prototype=new N},l.extend=function(){var w,M,N={};for(w=0;w<arguments.length;w++)for(M in arguments[w])Object.prototype.hasOwnProperty.call(arguments[w],M)&&N[M]===void 0&&(N[M]=arguments[w][M]);return N},l.prepareContent=function(w,M,N,U,L){return y.Promise.resolve(M).then(function(q){return c.blob&&(q instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(q))!==-1)&&typeof FileReader<"u"?new y.Promise(function(O,ee){var J=new FileReader;J.onload=function(pe){O(pe.target.result)},J.onerror=function(pe){ee(pe.target.error)},J.readAsArrayBuffer(q)}):q}).then(function(q){var O=l.getTypeOf(q);return O?(O==="arraybuffer"?q=l.transformTo("uint8array",q):O==="string"&&(L?q=f.decode(q):N&&U!==!0&&(q=(function(ee){return _(ee,c.uint8array?new Uint8Array(ee.length):new Array(ee.length))})(q))),q):y.Promise.reject(new Error("Can't read the data of '"+w+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(a,s,l){var c=a("./reader/readerFor"),f=a("./utils"),p=a("./signature"),y=a("./zipEntry"),m=a("./support");function _(S){this.files=[],this.loadOptions=S}_.prototype={checkSignature:function(S){if(!this.reader.readAndCheckSignature(S)){this.reader.index-=4;var E=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+f.pretty(E)+", expected "+f.pretty(S)+")")}},isSignature:function(S,E){var C=this.reader.index;this.reader.setIndex(S);var D=this.reader.readString(4)===E;return this.reader.setIndex(C),D},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var S=this.reader.readData(this.zipCommentLength),E=m.uint8array?"uint8array":"array",C=f.transformTo(E,S);this.zipComment=this.loadOptions.decodeFileName(C)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var S,E,C,D=this.zip64EndOfCentralSize-44;0<D;)S=this.reader.readInt(2),E=this.reader.readInt(4),C=this.reader.readData(E),this.zip64ExtensibleData[S]={id:S,length:E,value:C}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var S,E;for(S=0;S<this.files.length;S++)E=this.files[S],this.reader.setIndex(E.localHeaderOffset),this.checkSignature(p.LOCAL_FILE_HEADER),E.readLocalPart(this.reader),E.handleUTF8(),E.processAttributes()},readCentralDir:function(){var S;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(p.CENTRAL_FILE_HEADER);)(S=new y({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(S);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var S=this.reader.lastIndexOfSignature(p.CENTRAL_DIRECTORY_END);if(S<0)throw this.isSignature(0,p.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(S);var E=S;if(this.checkSignature(p.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===f.MAX_VALUE_16BITS||this.diskWithCentralDirStart===f.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===f.MAX_VALUE_16BITS||this.centralDirRecords===f.MAX_VALUE_16BITS||this.centralDirSize===f.MAX_VALUE_32BITS||this.centralDirOffset===f.MAX_VALUE_32BITS){if(this.zip64=!0,(S=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(S),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,p.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var C=this.centralDirOffset+this.centralDirSize;this.zip64&&(C+=20,C+=12+this.zip64EndOfCentralSize);var D=E-C;if(0<D)this.isSignature(E,p.CENTRAL_FILE_HEADER)||(this.reader.zero=D);else if(D<0)throw new Error("Corrupted zip: missing "+Math.abs(D)+" bytes.")},prepareReader:function(S){this.reader=c(S)},load:function(S){this.prepareReader(S),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},s.exports=_},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(a,s,l){var c=a("./reader/readerFor"),f=a("./utils"),p=a("./compressedObject"),y=a("./crc32"),m=a("./utf8"),_=a("./compressions"),S=a("./support");function E(C,D){this.options=C,this.loadOptions=D}E.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(C){var D,w;if(C.skip(22),this.fileNameLength=C.readInt(2),w=C.readInt(2),this.fileName=C.readData(this.fileNameLength),C.skip(w),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((D=(function(M){for(var N in _)if(Object.prototype.hasOwnProperty.call(_,N)&&_[N].magic===M)return _[N];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+f.pretty(this.compressionMethod)+" unknown (inner file : "+f.transformTo("string",this.fileName)+")");this.decompressed=new p(this.compressedSize,this.uncompressedSize,this.crc32,D,C.readData(this.compressedSize))},readCentralPart:function(C){this.versionMadeBy=C.readInt(2),C.skip(2),this.bitFlag=C.readInt(2),this.compressionMethod=C.readString(2),this.date=C.readDate(),this.crc32=C.readInt(4),this.compressedSize=C.readInt(4),this.uncompressedSize=C.readInt(4);var D=C.readInt(2);if(this.extraFieldsLength=C.readInt(2),this.fileCommentLength=C.readInt(2),this.diskNumberStart=C.readInt(2),this.internalFileAttributes=C.readInt(2),this.externalFileAttributes=C.readInt(4),this.localHeaderOffset=C.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");C.skip(D),this.readExtraFields(C),this.parseZIP64ExtraField(C),this.fileComment=C.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var C=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),C==0&&(this.dosPermissions=63&this.externalFileAttributes),C==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var C=c(this.extraFields[1].value);this.uncompressedSize===f.MAX_VALUE_32BITS&&(this.uncompressedSize=C.readInt(8)),this.compressedSize===f.MAX_VALUE_32BITS&&(this.compressedSize=C.readInt(8)),this.localHeaderOffset===f.MAX_VALUE_32BITS&&(this.localHeaderOffset=C.readInt(8)),this.diskNumberStart===f.MAX_VALUE_32BITS&&(this.diskNumberStart=C.readInt(4))}},readExtraFields:function(C){var D,w,M,N=C.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});C.index+4<N;)D=C.readInt(2),w=C.readInt(2),M=C.readData(w),this.extraFields[D]={id:D,length:w,value:M};C.setIndex(N)},handleUTF8:function(){var C=S.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var D=this.findExtraFieldUnicodePath();if(D!==null)this.fileNameStr=D;else{var w=f.transformTo(C,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(w)}var M=this.findExtraFieldUnicodeComment();if(M!==null)this.fileCommentStr=M;else{var N=f.transformTo(C,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(N)}}},findExtraFieldUnicodePath:function(){var C=this.extraFields[28789];if(C){var D=c(C.value);return D.readInt(1)!==1||y(this.fileName)!==D.readInt(4)?null:m.utf8decode(D.readData(C.length-5))}return null},findExtraFieldUnicodeComment:function(){var C=this.extraFields[25461];if(C){var D=c(C.value);return D.readInt(1)!==1||y(this.fileComment)!==D.readInt(4)?null:m.utf8decode(D.readData(C.length-5))}return null}},s.exports=E},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(a,s,l){function c(D,w,M){this.name=D,this.dir=M.dir,this.date=M.date,this.comment=M.comment,this.unixPermissions=M.unixPermissions,this.dosPermissions=M.dosPermissions,this._data=w,this._dataBinary=M.binary,this.options={compression:M.compression,compressionOptions:M.compressionOptions}}var f=a("./stream/StreamHelper"),p=a("./stream/DataWorker"),y=a("./utf8"),m=a("./compressedObject"),_=a("./stream/GenericWorker");c.prototype={internalStream:function(D){var w=null,M="string";try{if(!D)throw new Error("No output type specified.");var N=(M=D.toLowerCase())==="string"||M==="text";M!=="binarystring"&&M!=="text"||(M="string"),w=this._decompressWorker();var U=!this._dataBinary;U&&!N&&(w=w.pipe(new y.Utf8EncodeWorker)),!U&&N&&(w=w.pipe(new y.Utf8DecodeWorker))}catch(L){(w=new _("error")).error(L)}return new f(w,M,"")},async:function(D,w){return this.internalStream(D).accumulate(w)},nodeStream:function(D,w){return this.internalStream(D||"nodebuffer").toNodejsStream(w)},_compressWorker:function(D,w){if(this._data instanceof m&&this._data.compression.magic===D.magic)return this._data.getCompressedWorker();var M=this._decompressWorker();return this._dataBinary||(M=M.pipe(new y.Utf8EncodeWorker)),m.createWorkerFrom(M,D,w)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof _?this._data:new p(this._data)}};for(var S=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],E=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},C=0;C<S.length;C++)c.prototype[S[C]]=E;s.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(a,s,l){(function(c){var f,p,y=c.MutationObserver||c.WebKitMutationObserver;if(y){var m=0,_=new y(D),S=c.document.createTextNode("");_.observe(S,{characterData:!0}),f=function(){S.data=m=++m%2}}else if(c.setImmediate||c.MessageChannel===void 0)f="document"in c&&"onreadystatechange"in c.document.createElement("script")?function(){var w=c.document.createElement("script");w.onreadystatechange=function(){D(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},c.document.documentElement.appendChild(w)}:function(){setTimeout(D,0)};else{var E=new c.MessageChannel;E.port1.onmessage=D,f=function(){E.port2.postMessage(0)}}var C=[];function D(){var w,M;p=!0;for(var N=C.length;N;){for(M=C,C=[],w=-1;++w<N;)M[w]();N=C.length}p=!1}s.exports=function(w){C.push(w)!==1||p||f()}}).call(this,typeof Pu<"u"?Pu:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(a,s,l){var c=a("immediate");function f(){}var p={},y=["REJECTED"],m=["FULFILLED"],_=["PENDING"];function S(N){if(typeof N!="function")throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,N!==f&&w(this,N)}function E(N,U,L){this.promise=N,typeof U=="function"&&(this.onFulfilled=U,this.callFulfilled=this.otherCallFulfilled),typeof L=="function"&&(this.onRejected=L,this.callRejected=this.otherCallRejected)}function C(N,U,L){c(function(){var q;try{q=U(L)}catch(O){return p.reject(N,O)}q===N?p.reject(N,new TypeError("Cannot resolve promise with itself")):p.resolve(N,q)})}function D(N){var U=N&&N.then;if(N&&(typeof N=="object"||typeof N=="function")&&typeof U=="function")return function(){U.apply(N,arguments)}}function w(N,U){var L=!1;function q(J){L||(L=!0,p.reject(N,J))}function O(J){L||(L=!0,p.resolve(N,J))}var ee=M(function(){U(O,q)});ee.status==="error"&&q(ee.value)}function M(N,U){var L={};try{L.value=N(U),L.status="success"}catch(q){L.status="error",L.value=q}return L}(s.exports=S).prototype.finally=function(N){if(typeof N!="function")return this;var U=this.constructor;return this.then(function(L){return U.resolve(N()).then(function(){return L})},function(L){return U.resolve(N()).then(function(){throw L})})},S.prototype.catch=function(N){return this.then(null,N)},S.prototype.then=function(N,U){if(typeof N!="function"&&this.state===m||typeof U!="function"&&this.state===y)return this;var L=new this.constructor(f);return this.state!==_?C(L,this.state===m?N:U,this.outcome):this.queue.push(new E(L,N,U)),L},E.prototype.callFulfilled=function(N){p.resolve(this.promise,N)},E.prototype.otherCallFulfilled=function(N){C(this.promise,this.onFulfilled,N)},E.prototype.callRejected=function(N){p.reject(this.promise,N)},E.prototype.otherCallRejected=function(N){C(this.promise,this.onRejected,N)},p.resolve=function(N,U){var L=M(D,U);if(L.status==="error")return p.reject(N,L.value);var q=L.value;if(q)w(N,q);else{N.state=m,N.outcome=U;for(var O=-1,ee=N.queue.length;++O<ee;)N.queue[O].callFulfilled(U)}return N},p.reject=function(N,U){N.state=y,N.outcome=U;for(var L=-1,q=N.queue.length;++L<q;)N.queue[L].callRejected(U);return N},S.resolve=function(N){return N instanceof this?N:p.resolve(new this(f),N)},S.reject=function(N){var U=new this(f);return p.reject(U,N)},S.all=function(N){var U=this;if(Object.prototype.toString.call(N)!=="[object Array]")return this.reject(new TypeError("must be an array"));var L=N.length,q=!1;if(!L)return this.resolve([]);for(var O=new Array(L),ee=0,J=-1,pe=new this(f);++J<L;)Z(N[J],J);return pe;function Z(ye,Me){U.resolve(ye).then(function(V){O[Me]=V,++ee!==L||q||(q=!0,p.resolve(pe,O))},function(V){q||(q=!0,p.reject(pe,V))})}},S.race=function(N){var U=this;if(Object.prototype.toString.call(N)!=="[object Array]")return this.reject(new TypeError("must be an array"));var L=N.length,q=!1;if(!L)return this.resolve([]);for(var O=-1,ee=new this(f);++O<L;)J=N[O],U.resolve(J).then(function(pe){q||(q=!0,p.resolve(ee,pe))},function(pe){q||(q=!0,p.reject(ee,pe))});var J;return ee}},{immediate:36}],38:[function(a,s,l){var c={};(0,a("./lib/utils/common").assign)(c,a("./lib/deflate"),a("./lib/inflate"),a("./lib/zlib/constants")),s.exports=c},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(a,s,l){var c=a("./zlib/deflate"),f=a("./utils/common"),p=a("./utils/strings"),y=a("./zlib/messages"),m=a("./zlib/zstream"),_=Object.prototype.toString,S=0,E=-1,C=0,D=8;function w(N){if(!(this instanceof w))return new w(N);this.options=f.assign({level:E,method:D,chunkSize:16384,windowBits:15,memLevel:8,strategy:C,to:""},N||{});var U=this.options;U.raw&&0<U.windowBits?U.windowBits=-U.windowBits:U.gzip&&0<U.windowBits&&U.windowBits<16&&(U.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var L=c.deflateInit2(this.strm,U.level,U.method,U.windowBits,U.memLevel,U.strategy);if(L!==S)throw new Error(y[L]);if(U.header&&c.deflateSetHeader(this.strm,U.header),U.dictionary){var q;if(q=typeof U.dictionary=="string"?p.string2buf(U.dictionary):_.call(U.dictionary)==="[object ArrayBuffer]"?new Uint8Array(U.dictionary):U.dictionary,(L=c.deflateSetDictionary(this.strm,q))!==S)throw new Error(y[L]);this._dict_set=!0}}function M(N,U){var L=new w(U);if(L.push(N,!0),L.err)throw L.msg||y[L.err];return L.result}w.prototype.push=function(N,U){var L,q,O=this.strm,ee=this.options.chunkSize;if(this.ended)return!1;q=U===~~U?U:U===!0?4:0,typeof N=="string"?O.input=p.string2buf(N):_.call(N)==="[object ArrayBuffer]"?O.input=new Uint8Array(N):O.input=N,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new f.Buf8(ee),O.next_out=0,O.avail_out=ee),(L=c.deflate(O,q))!==1&&L!==S)return this.onEnd(L),!(this.ended=!0);O.avail_out!==0&&(O.avail_in!==0||q!==4&&q!==2)||(this.options.to==="string"?this.onData(p.buf2binstring(f.shrinkBuf(O.output,O.next_out))):this.onData(f.shrinkBuf(O.output,O.next_out)))}while((0<O.avail_in||O.avail_out===0)&&L!==1);return q===4?(L=c.deflateEnd(this.strm),this.onEnd(L),this.ended=!0,L===S):q!==2||(this.onEnd(S),!(O.avail_out=0))},w.prototype.onData=function(N){this.chunks.push(N)},w.prototype.onEnd=function(N){N===S&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=N,this.msg=this.strm.msg},l.Deflate=w,l.deflate=M,l.deflateRaw=function(N,U){return(U=U||{}).raw=!0,M(N,U)},l.gzip=function(N,U){return(U=U||{}).gzip=!0,M(N,U)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(a,s,l){var c=a("./zlib/inflate"),f=a("./utils/common"),p=a("./utils/strings"),y=a("./zlib/constants"),m=a("./zlib/messages"),_=a("./zlib/zstream"),S=a("./zlib/gzheader"),E=Object.prototype.toString;function C(w){if(!(this instanceof C))return new C(w);this.options=f.assign({chunkSize:16384,windowBits:0,to:""},w||{});var M=this.options;M.raw&&0<=M.windowBits&&M.windowBits<16&&(M.windowBits=-M.windowBits,M.windowBits===0&&(M.windowBits=-15)),!(0<=M.windowBits&&M.windowBits<16)||w&&w.windowBits||(M.windowBits+=32),15<M.windowBits&&M.windowBits<48&&(15&M.windowBits)==0&&(M.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var N=c.inflateInit2(this.strm,M.windowBits);if(N!==y.Z_OK)throw new Error(m[N]);this.header=new S,c.inflateGetHeader(this.strm,this.header)}function D(w,M){var N=new C(M);if(N.push(w,!0),N.err)throw N.msg||m[N.err];return N.result}C.prototype.push=function(w,M){var N,U,L,q,O,ee,J=this.strm,pe=this.options.chunkSize,Z=this.options.dictionary,ye=!1;if(this.ended)return!1;U=M===~~M?M:M===!0?y.Z_FINISH:y.Z_NO_FLUSH,typeof w=="string"?J.input=p.binstring2buf(w):E.call(w)==="[object ArrayBuffer]"?J.input=new Uint8Array(w):J.input=w,J.next_in=0,J.avail_in=J.input.length;do{if(J.avail_out===0&&(J.output=new f.Buf8(pe),J.next_out=0,J.avail_out=pe),(N=c.inflate(J,y.Z_NO_FLUSH))===y.Z_NEED_DICT&&Z&&(ee=typeof Z=="string"?p.string2buf(Z):E.call(Z)==="[object ArrayBuffer]"?new Uint8Array(Z):Z,N=c.inflateSetDictionary(this.strm,ee)),N===y.Z_BUF_ERROR&&ye===!0&&(N=y.Z_OK,ye=!1),N!==y.Z_STREAM_END&&N!==y.Z_OK)return this.onEnd(N),!(this.ended=!0);J.next_out&&(J.avail_out!==0&&N!==y.Z_STREAM_END&&(J.avail_in!==0||U!==y.Z_FINISH&&U!==y.Z_SYNC_FLUSH)||(this.options.to==="string"?(L=p.utf8border(J.output,J.next_out),q=J.next_out-L,O=p.buf2string(J.output,L),J.next_out=q,J.avail_out=pe-q,q&&f.arraySet(J.output,J.output,L,q,0),this.onData(O)):this.onData(f.shrinkBuf(J.output,J.next_out)))),J.avail_in===0&&J.avail_out===0&&(ye=!0)}while((0<J.avail_in||J.avail_out===0)&&N!==y.Z_STREAM_END);return N===y.Z_STREAM_END&&(U=y.Z_FINISH),U===y.Z_FINISH?(N=c.inflateEnd(this.strm),this.onEnd(N),this.ended=!0,N===y.Z_OK):U!==y.Z_SYNC_FLUSH||(this.onEnd(y.Z_OK),!(J.avail_out=0))},C.prototype.onData=function(w){this.chunks.push(w)},C.prototype.onEnd=function(w){w===y.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},l.Inflate=C,l.inflate=D,l.inflateRaw=function(w,M){return(M=M||{}).raw=!0,D(w,M)},l.ungzip=D},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(a,s,l){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";l.assign=function(y){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var _=m.shift();if(_){if(typeof _!="object")throw new TypeError(_+"must be non-object");for(var S in _)_.hasOwnProperty(S)&&(y[S]=_[S])}}return y},l.shrinkBuf=function(y,m){return y.length===m?y:y.subarray?y.subarray(0,m):(y.length=m,y)};var f={arraySet:function(y,m,_,S,E){if(m.subarray&&y.subarray)y.set(m.subarray(_,_+S),E);else for(var C=0;C<S;C++)y[E+C]=m[_+C]},flattenChunks:function(y){var m,_,S,E,C,D;for(m=S=0,_=y.length;m<_;m++)S+=y[m].length;for(D=new Uint8Array(S),m=E=0,_=y.length;m<_;m++)C=y[m],D.set(C,E),E+=C.length;return D}},p={arraySet:function(y,m,_,S,E){for(var C=0;C<S;C++)y[E+C]=m[_+C]},flattenChunks:function(y){return[].concat.apply([],y)}};l.setTyped=function(y){y?(l.Buf8=Uint8Array,l.Buf16=Uint16Array,l.Buf32=Int32Array,l.assign(l,f)):(l.Buf8=Array,l.Buf16=Array,l.Buf32=Array,l.assign(l,p))},l.setTyped(c)},{}],42:[function(a,s,l){var c=a("./common"),f=!0,p=!0;try{String.fromCharCode.apply(null,[0])}catch{f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{p=!1}for(var y=new c.Buf8(256),m=0;m<256;m++)y[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function _(S,E){if(E<65537&&(S.subarray&&p||!S.subarray&&f))return String.fromCharCode.apply(null,c.shrinkBuf(S,E));for(var C="",D=0;D<E;D++)C+=String.fromCharCode(S[D]);return C}y[254]=y[254]=1,l.string2buf=function(S){var E,C,D,w,M,N=S.length,U=0;for(w=0;w<N;w++)(64512&(C=S.charCodeAt(w)))==55296&&w+1<N&&(64512&(D=S.charCodeAt(w+1)))==56320&&(C=65536+(C-55296<<10)+(D-56320),w++),U+=C<128?1:C<2048?2:C<65536?3:4;for(E=new c.Buf8(U),w=M=0;M<U;w++)(64512&(C=S.charCodeAt(w)))==55296&&w+1<N&&(64512&(D=S.charCodeAt(w+1)))==56320&&(C=65536+(C-55296<<10)+(D-56320),w++),C<128?E[M++]=C:(C<2048?E[M++]=192|C>>>6:(C<65536?E[M++]=224|C>>>12:(E[M++]=240|C>>>18,E[M++]=128|C>>>12&63),E[M++]=128|C>>>6&63),E[M++]=128|63&C);return E},l.buf2binstring=function(S){return _(S,S.length)},l.binstring2buf=function(S){for(var E=new c.Buf8(S.length),C=0,D=E.length;C<D;C++)E[C]=S.charCodeAt(C);return E},l.buf2string=function(S,E){var C,D,w,M,N=E||S.length,U=new Array(2*N);for(C=D=0;C<N;)if((w=S[C++])<128)U[D++]=w;else if(4<(M=y[w]))U[D++]=65533,C+=M-1;else{for(w&=M===2?31:M===3?15:7;1<M&&C<N;)w=w<<6|63&S[C++],M--;1<M?U[D++]=65533:w<65536?U[D++]=w:(w-=65536,U[D++]=55296|w>>10&1023,U[D++]=56320|1023&w)}return _(U,D)},l.utf8border=function(S,E){var C;for((E=E||S.length)>S.length&&(E=S.length),C=E-1;0<=C&&(192&S[C])==128;)C--;return C<0||C===0?E:C+y[S[C]]>E?C:E}},{"./common":41}],43:[function(a,s,l){s.exports=function(c,f,p,y){for(var m=65535&c|0,_=c>>>16&65535|0,S=0;p!==0;){for(p-=S=2e3<p?2e3:p;_=_+(m=m+f[y++]|0)|0,--S;);m%=65521,_%=65521}return m|_<<16|0}},{}],44:[function(a,s,l){s.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(a,s,l){var c=(function(){for(var f,p=[],y=0;y<256;y++){f=y;for(var m=0;m<8;m++)f=1&f?3988292384^f>>>1:f>>>1;p[y]=f}return p})();s.exports=function(f,p,y,m){var _=c,S=m+y;f^=-1;for(var E=m;E<S;E++)f=f>>>8^_[255&(f^p[E])];return-1^f}},{}],46:[function(a,s,l){var c,f=a("../utils/common"),p=a("./trees"),y=a("./adler32"),m=a("./crc32"),_=a("./messages"),S=0,E=4,C=0,D=-2,w=-1,M=4,N=2,U=8,L=9,q=286,O=30,ee=19,J=2*q+1,pe=15,Z=3,ye=258,Me=ye+Z+1,V=42,re=113,b=1,de=2,X=3,$=4;function Ie(x,_e){return x.msg=_[_e],_e}function he(x){return(x<<1)-(4<x?9:0)}function ke(x){for(var _e=x.length;0<=--_e;)x[_e]=0}function I(x){var _e=x.state,ue=_e.pending;ue>x.avail_out&&(ue=x.avail_out),ue!==0&&(f.arraySet(x.output,_e.pending_buf,_e.pending_out,ue,x.next_out),x.next_out+=ue,_e.pending_out+=ue,x.total_out+=ue,x.avail_out-=ue,_e.pending-=ue,_e.pending===0&&(_e.pending_out=0))}function B(x,_e){p._tr_flush_block(x,0<=x.block_start?x.block_start:-1,x.strstart-x.block_start,_e),x.block_start=x.strstart,I(x.strm)}function fe(x,_e){x.pending_buf[x.pending++]=_e}function ce(x,_e){x.pending_buf[x.pending++]=_e>>>8&255,x.pending_buf[x.pending++]=255&_e}function me(x,_e){var ue,G,z=x.max_chain_length,j=x.strstart,Ce=x.prev_length,xe=x.nice_match,ne=x.strstart>x.w_size-Me?x.strstart-(x.w_size-Me):0,Ne=x.window,De=x.w_mask,Re=x.prev,qe=x.strstart+ye,et=Ne[j+Ce-1],je=Ne[j+Ce];x.prev_length>=x.good_match&&(z>>=2),xe>x.lookahead&&(xe=x.lookahead);do if(Ne[(ue=_e)+Ce]===je&&Ne[ue+Ce-1]===et&&Ne[ue]===Ne[j]&&Ne[++ue]===Ne[j+1]){j+=2,ue++;do;while(Ne[++j]===Ne[++ue]&&Ne[++j]===Ne[++ue]&&Ne[++j]===Ne[++ue]&&Ne[++j]===Ne[++ue]&&Ne[++j]===Ne[++ue]&&Ne[++j]===Ne[++ue]&&Ne[++j]===Ne[++ue]&&Ne[++j]===Ne[++ue]&&j<qe);if(G=ye-(qe-j),j=qe-ye,Ce<G){if(x.match_start=_e,xe<=(Ce=G))break;et=Ne[j+Ce-1],je=Ne[j+Ce]}}while((_e=Re[_e&De])>ne&&--z!=0);return Ce<=x.lookahead?Ce:x.lookahead}function Le(x){var _e,ue,G,z,j,Ce,xe,ne,Ne,De,Re=x.w_size;do{if(z=x.window_size-x.lookahead-x.strstart,x.strstart>=Re+(Re-Me)){for(f.arraySet(x.window,x.window,Re,Re,0),x.match_start-=Re,x.strstart-=Re,x.block_start-=Re,_e=ue=x.hash_size;G=x.head[--_e],x.head[_e]=Re<=G?G-Re:0,--ue;);for(_e=ue=Re;G=x.prev[--_e],x.prev[_e]=Re<=G?G-Re:0,--ue;);z+=Re}if(x.strm.avail_in===0)break;if(Ce=x.strm,xe=x.window,ne=x.strstart+x.lookahead,Ne=z,De=void 0,De=Ce.avail_in,Ne<De&&(De=Ne),ue=De===0?0:(Ce.avail_in-=De,f.arraySet(xe,Ce.input,Ce.next_in,De,ne),Ce.state.wrap===1?Ce.adler=y(Ce.adler,xe,De,ne):Ce.state.wrap===2&&(Ce.adler=m(Ce.adler,xe,De,ne)),Ce.next_in+=De,Ce.total_in+=De,De),x.lookahead+=ue,x.lookahead+x.insert>=Z)for(j=x.strstart-x.insert,x.ins_h=x.window[j],x.ins_h=(x.ins_h<<x.hash_shift^x.window[j+1])&x.hash_mask;x.insert&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[j+Z-1])&x.hash_mask,x.prev[j&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=j,j++,x.insert--,!(x.lookahead+x.insert<Z)););}while(x.lookahead<Me&&x.strm.avail_in!==0)}function Ye(x,_e){for(var ue,G;;){if(x.lookahead<Me){if(Le(x),x.lookahead<Me&&_e===S)return b;if(x.lookahead===0)break}if(ue=0,x.lookahead>=Z&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+Z-1])&x.hash_mask,ue=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),ue!==0&&x.strstart-ue<=x.w_size-Me&&(x.match_length=me(x,ue)),x.match_length>=Z)if(G=p._tr_tally(x,x.strstart-x.match_start,x.match_length-Z),x.lookahead-=x.match_length,x.match_length<=x.max_lazy_match&&x.lookahead>=Z){for(x.match_length--;x.strstart++,x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+Z-1])&x.hash_mask,ue=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart,--x.match_length!=0;);x.strstart++}else x.strstart+=x.match_length,x.match_length=0,x.ins_h=x.window[x.strstart],x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+1])&x.hash_mask;else G=p._tr_tally(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++;if(G&&(B(x,!1),x.strm.avail_out===0))return b}return x.insert=x.strstart<Z-1?x.strstart:Z-1,_e===E?(B(x,!0),x.strm.avail_out===0?X:$):x.last_lit&&(B(x,!1),x.strm.avail_out===0)?b:de}function Je(x,_e){for(var ue,G,z;;){if(x.lookahead<Me){if(Le(x),x.lookahead<Me&&_e===S)return b;if(x.lookahead===0)break}if(ue=0,x.lookahead>=Z&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+Z-1])&x.hash_mask,ue=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),x.prev_length=x.match_length,x.prev_match=x.match_start,x.match_length=Z-1,ue!==0&&x.prev_length<x.max_lazy_match&&x.strstart-ue<=x.w_size-Me&&(x.match_length=me(x,ue),x.match_length<=5&&(x.strategy===1||x.match_length===Z&&4096<x.strstart-x.match_start)&&(x.match_length=Z-1)),x.prev_length>=Z&&x.match_length<=x.prev_length){for(z=x.strstart+x.lookahead-Z,G=p._tr_tally(x,x.strstart-1-x.prev_match,x.prev_length-Z),x.lookahead-=x.prev_length-1,x.prev_length-=2;++x.strstart<=z&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+Z-1])&x.hash_mask,ue=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),--x.prev_length!=0;);if(x.match_available=0,x.match_length=Z-1,x.strstart++,G&&(B(x,!1),x.strm.avail_out===0))return b}else if(x.match_available){if((G=p._tr_tally(x,0,x.window[x.strstart-1]))&&B(x,!1),x.strstart++,x.lookahead--,x.strm.avail_out===0)return b}else x.match_available=1,x.strstart++,x.lookahead--}return x.match_available&&(G=p._tr_tally(x,0,x.window[x.strstart-1]),x.match_available=0),x.insert=x.strstart<Z-1?x.strstart:Z-1,_e===E?(B(x,!0),x.strm.avail_out===0?X:$):x.last_lit&&(B(x,!1),x.strm.avail_out===0)?b:de}function Fe(x,_e,ue,G,z){this.good_length=x,this.max_lazy=_e,this.nice_length=ue,this.max_chain=G,this.func=z}function bt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=U,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new f.Buf16(2*J),this.dyn_dtree=new f.Buf16(2*(2*O+1)),this.bl_tree=new f.Buf16(2*(2*ee+1)),ke(this.dyn_ltree),ke(this.dyn_dtree),ke(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new f.Buf16(pe+1),this.heap=new f.Buf16(2*q+1),ke(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new f.Buf16(2*q+1),ke(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function pt(x){var _e;return x&&x.state?(x.total_in=x.total_out=0,x.data_type=N,(_e=x.state).pending=0,_e.pending_out=0,_e.wrap<0&&(_e.wrap=-_e.wrap),_e.status=_e.wrap?V:re,x.adler=_e.wrap===2?0:1,_e.last_flush=S,p._tr_init(_e),C):Ie(x,D)}function rn(x){var _e=pt(x);return _e===C&&(function(ue){ue.window_size=2*ue.w_size,ke(ue.head),ue.max_lazy_match=c[ue.level].max_lazy,ue.good_match=c[ue.level].good_length,ue.nice_match=c[ue.level].nice_length,ue.max_chain_length=c[ue.level].max_chain,ue.strstart=0,ue.block_start=0,ue.lookahead=0,ue.insert=0,ue.match_length=ue.prev_length=Z-1,ue.match_available=0,ue.ins_h=0})(x.state),_e}function $t(x,_e,ue,G,z,j){if(!x)return D;var Ce=1;if(_e===w&&(_e=6),G<0?(Ce=0,G=-G):15<G&&(Ce=2,G-=16),z<1||L<z||ue!==U||G<8||15<G||_e<0||9<_e||j<0||M<j)return Ie(x,D);G===8&&(G=9);var xe=new bt;return(x.state=xe).strm=x,xe.wrap=Ce,xe.gzhead=null,xe.w_bits=G,xe.w_size=1<<xe.w_bits,xe.w_mask=xe.w_size-1,xe.hash_bits=z+7,xe.hash_size=1<<xe.hash_bits,xe.hash_mask=xe.hash_size-1,xe.hash_shift=~~((xe.hash_bits+Z-1)/Z),xe.window=new f.Buf8(2*xe.w_size),xe.head=new f.Buf16(xe.hash_size),xe.prev=new f.Buf16(xe.w_size),xe.lit_bufsize=1<<z+6,xe.pending_buf_size=4*xe.lit_bufsize,xe.pending_buf=new f.Buf8(xe.pending_buf_size),xe.d_buf=1*xe.lit_bufsize,xe.l_buf=3*xe.lit_bufsize,xe.level=_e,xe.strategy=j,xe.method=ue,rn(x)}c=[new Fe(0,0,0,0,function(x,_e){var ue=65535;for(ue>x.pending_buf_size-5&&(ue=x.pending_buf_size-5);;){if(x.lookahead<=1){if(Le(x),x.lookahead===0&&_e===S)return b;if(x.lookahead===0)break}x.strstart+=x.lookahead,x.lookahead=0;var G=x.block_start+ue;if((x.strstart===0||x.strstart>=G)&&(x.lookahead=x.strstart-G,x.strstart=G,B(x,!1),x.strm.avail_out===0)||x.strstart-x.block_start>=x.w_size-Me&&(B(x,!1),x.strm.avail_out===0))return b}return x.insert=0,_e===E?(B(x,!0),x.strm.avail_out===0?X:$):(x.strstart>x.block_start&&(B(x,!1),x.strm.avail_out),b)}),new Fe(4,4,8,4,Ye),new Fe(4,5,16,8,Ye),new Fe(4,6,32,32,Ye),new Fe(4,4,16,16,Je),new Fe(8,16,32,32,Je),new Fe(8,16,128,128,Je),new Fe(8,32,128,256,Je),new Fe(32,128,258,1024,Je),new Fe(32,258,258,4096,Je)],l.deflateInit=function(x,_e){return $t(x,_e,U,15,8,0)},l.deflateInit2=$t,l.deflateReset=rn,l.deflateResetKeep=pt,l.deflateSetHeader=function(x,_e){return x&&x.state?x.state.wrap!==2?D:(x.state.gzhead=_e,C):D},l.deflate=function(x,_e){var ue,G,z,j;if(!x||!x.state||5<_e||_e<0)return x?Ie(x,D):D;if(G=x.state,!x.output||!x.input&&x.avail_in!==0||G.status===666&&_e!==E)return Ie(x,x.avail_out===0?-5:D);if(G.strm=x,ue=G.last_flush,G.last_flush=_e,G.status===V)if(G.wrap===2)x.adler=0,fe(G,31),fe(G,139),fe(G,8),G.gzhead?(fe(G,(G.gzhead.text?1:0)+(G.gzhead.hcrc?2:0)+(G.gzhead.extra?4:0)+(G.gzhead.name?8:0)+(G.gzhead.comment?16:0)),fe(G,255&G.gzhead.time),fe(G,G.gzhead.time>>8&255),fe(G,G.gzhead.time>>16&255),fe(G,G.gzhead.time>>24&255),fe(G,G.level===9?2:2<=G.strategy||G.level<2?4:0),fe(G,255&G.gzhead.os),G.gzhead.extra&&G.gzhead.extra.length&&(fe(G,255&G.gzhead.extra.length),fe(G,G.gzhead.extra.length>>8&255)),G.gzhead.hcrc&&(x.adler=m(x.adler,G.pending_buf,G.pending,0)),G.gzindex=0,G.status=69):(fe(G,0),fe(G,0),fe(G,0),fe(G,0),fe(G,0),fe(G,G.level===9?2:2<=G.strategy||G.level<2?4:0),fe(G,3),G.status=re);else{var Ce=U+(G.w_bits-8<<4)<<8;Ce|=(2<=G.strategy||G.level<2?0:G.level<6?1:G.level===6?2:3)<<6,G.strstart!==0&&(Ce|=32),Ce+=31-Ce%31,G.status=re,ce(G,Ce),G.strstart!==0&&(ce(G,x.adler>>>16),ce(G,65535&x.adler)),x.adler=1}if(G.status===69)if(G.gzhead.extra){for(z=G.pending;G.gzindex<(65535&G.gzhead.extra.length)&&(G.pending!==G.pending_buf_size||(G.gzhead.hcrc&&G.pending>z&&(x.adler=m(x.adler,G.pending_buf,G.pending-z,z)),I(x),z=G.pending,G.pending!==G.pending_buf_size));)fe(G,255&G.gzhead.extra[G.gzindex]),G.gzindex++;G.gzhead.hcrc&&G.pending>z&&(x.adler=m(x.adler,G.pending_buf,G.pending-z,z)),G.gzindex===G.gzhead.extra.length&&(G.gzindex=0,G.status=73)}else G.status=73;if(G.status===73)if(G.gzhead.name){z=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>z&&(x.adler=m(x.adler,G.pending_buf,G.pending-z,z)),I(x),z=G.pending,G.pending===G.pending_buf_size)){j=1;break}j=G.gzindex<G.gzhead.name.length?255&G.gzhead.name.charCodeAt(G.gzindex++):0,fe(G,j)}while(j!==0);G.gzhead.hcrc&&G.pending>z&&(x.adler=m(x.adler,G.pending_buf,G.pending-z,z)),j===0&&(G.gzindex=0,G.status=91)}else G.status=91;if(G.status===91)if(G.gzhead.comment){z=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>z&&(x.adler=m(x.adler,G.pending_buf,G.pending-z,z)),I(x),z=G.pending,G.pending===G.pending_buf_size)){j=1;break}j=G.gzindex<G.gzhead.comment.length?255&G.gzhead.comment.charCodeAt(G.gzindex++):0,fe(G,j)}while(j!==0);G.gzhead.hcrc&&G.pending>z&&(x.adler=m(x.adler,G.pending_buf,G.pending-z,z)),j===0&&(G.status=103)}else G.status=103;if(G.status===103&&(G.gzhead.hcrc?(G.pending+2>G.pending_buf_size&&I(x),G.pending+2<=G.pending_buf_size&&(fe(G,255&x.adler),fe(G,x.adler>>8&255),x.adler=0,G.status=re)):G.status=re),G.pending!==0){if(I(x),x.avail_out===0)return G.last_flush=-1,C}else if(x.avail_in===0&&he(_e)<=he(ue)&&_e!==E)return Ie(x,-5);if(G.status===666&&x.avail_in!==0)return Ie(x,-5);if(x.avail_in!==0||G.lookahead!==0||_e!==S&&G.status!==666){var xe=G.strategy===2?(function(ne,Ne){for(var De;;){if(ne.lookahead===0&&(Le(ne),ne.lookahead===0)){if(Ne===S)return b;break}if(ne.match_length=0,De=p._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++,De&&(B(ne,!1),ne.strm.avail_out===0))return b}return ne.insert=0,Ne===E?(B(ne,!0),ne.strm.avail_out===0?X:$):ne.last_lit&&(B(ne,!1),ne.strm.avail_out===0)?b:de})(G,_e):G.strategy===3?(function(ne,Ne){for(var De,Re,qe,et,je=ne.window;;){if(ne.lookahead<=ye){if(Le(ne),ne.lookahead<=ye&&Ne===S)return b;if(ne.lookahead===0)break}if(ne.match_length=0,ne.lookahead>=Z&&0<ne.strstart&&(Re=je[qe=ne.strstart-1])===je[++qe]&&Re===je[++qe]&&Re===je[++qe]){et=ne.strstart+ye;do;while(Re===je[++qe]&&Re===je[++qe]&&Re===je[++qe]&&Re===je[++qe]&&Re===je[++qe]&&Re===je[++qe]&&Re===je[++qe]&&Re===je[++qe]&&qe<et);ne.match_length=ye-(et-qe),ne.match_length>ne.lookahead&&(ne.match_length=ne.lookahead)}if(ne.match_length>=Z?(De=p._tr_tally(ne,1,ne.match_length-Z),ne.lookahead-=ne.match_length,ne.strstart+=ne.match_length,ne.match_length=0):(De=p._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++),De&&(B(ne,!1),ne.strm.avail_out===0))return b}return ne.insert=0,Ne===E?(B(ne,!0),ne.strm.avail_out===0?X:$):ne.last_lit&&(B(ne,!1),ne.strm.avail_out===0)?b:de})(G,_e):c[G.level].func(G,_e);if(xe!==X&&xe!==$||(G.status=666),xe===b||xe===X)return x.avail_out===0&&(G.last_flush=-1),C;if(xe===de&&(_e===1?p._tr_align(G):_e!==5&&(p._tr_stored_block(G,0,0,!1),_e===3&&(ke(G.head),G.lookahead===0&&(G.strstart=0,G.block_start=0,G.insert=0))),I(x),x.avail_out===0))return G.last_flush=-1,C}return _e!==E?C:G.wrap<=0?1:(G.wrap===2?(fe(G,255&x.adler),fe(G,x.adler>>8&255),fe(G,x.adler>>16&255),fe(G,x.adler>>24&255),fe(G,255&x.total_in),fe(G,x.total_in>>8&255),fe(G,x.total_in>>16&255),fe(G,x.total_in>>24&255)):(ce(G,x.adler>>>16),ce(G,65535&x.adler)),I(x),0<G.wrap&&(G.wrap=-G.wrap),G.pending!==0?C:1)},l.deflateEnd=function(x){var _e;return x&&x.state?(_e=x.state.status)!==V&&_e!==69&&_e!==73&&_e!==91&&_e!==103&&_e!==re&&_e!==666?Ie(x,D):(x.state=null,_e===re?Ie(x,-3):C):D},l.deflateSetDictionary=function(x,_e){var ue,G,z,j,Ce,xe,ne,Ne,De=_e.length;if(!x||!x.state||(j=(ue=x.state).wrap)===2||j===1&&ue.status!==V||ue.lookahead)return D;for(j===1&&(x.adler=y(x.adler,_e,De,0)),ue.wrap=0,De>=ue.w_size&&(j===0&&(ke(ue.head),ue.strstart=0,ue.block_start=0,ue.insert=0),Ne=new f.Buf8(ue.w_size),f.arraySet(Ne,_e,De-ue.w_size,ue.w_size,0),_e=Ne,De=ue.w_size),Ce=x.avail_in,xe=x.next_in,ne=x.input,x.avail_in=De,x.next_in=0,x.input=_e,Le(ue);ue.lookahead>=Z;){for(G=ue.strstart,z=ue.lookahead-(Z-1);ue.ins_h=(ue.ins_h<<ue.hash_shift^ue.window[G+Z-1])&ue.hash_mask,ue.prev[G&ue.w_mask]=ue.head[ue.ins_h],ue.head[ue.ins_h]=G,G++,--z;);ue.strstart=G,ue.lookahead=Z-1,Le(ue)}return ue.strstart+=ue.lookahead,ue.block_start=ue.strstart,ue.insert=ue.lookahead,ue.lookahead=0,ue.match_length=ue.prev_length=Z-1,ue.match_available=0,x.next_in=xe,x.input=ne,x.avail_in=Ce,ue.wrap=j,C},l.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(a,s,l){s.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(a,s,l){s.exports=function(c,f){var p,y,m,_,S,E,C,D,w,M,N,U,L,q,O,ee,J,pe,Z,ye,Me,V,re,b,de;p=c.state,y=c.next_in,b=c.input,m=y+(c.avail_in-5),_=c.next_out,de=c.output,S=_-(f-c.avail_out),E=_+(c.avail_out-257),C=p.dmax,D=p.wsize,w=p.whave,M=p.wnext,N=p.window,U=p.hold,L=p.bits,q=p.lencode,O=p.distcode,ee=(1<<p.lenbits)-1,J=(1<<p.distbits)-1;e:do{L<15&&(U+=b[y++]<<L,L+=8,U+=b[y++]<<L,L+=8),pe=q[U&ee];t:for(;;){if(U>>>=Z=pe>>>24,L-=Z,(Z=pe>>>16&255)===0)de[_++]=65535&pe;else{if(!(16&Z)){if((64&Z)==0){pe=q[(65535&pe)+(U&(1<<Z)-1)];continue t}if(32&Z){p.mode=12;break e}c.msg="invalid literal/length code",p.mode=30;break e}ye=65535&pe,(Z&=15)&&(L<Z&&(U+=b[y++]<<L,L+=8),ye+=U&(1<<Z)-1,U>>>=Z,L-=Z),L<15&&(U+=b[y++]<<L,L+=8,U+=b[y++]<<L,L+=8),pe=O[U&J];n:for(;;){if(U>>>=Z=pe>>>24,L-=Z,!(16&(Z=pe>>>16&255))){if((64&Z)==0){pe=O[(65535&pe)+(U&(1<<Z)-1)];continue n}c.msg="invalid distance code",p.mode=30;break e}if(Me=65535&pe,L<(Z&=15)&&(U+=b[y++]<<L,(L+=8)<Z&&(U+=b[y++]<<L,L+=8)),C<(Me+=U&(1<<Z)-1)){c.msg="invalid distance too far back",p.mode=30;break e}if(U>>>=Z,L-=Z,(Z=_-S)<Me){if(w<(Z=Me-Z)&&p.sane){c.msg="invalid distance too far back",p.mode=30;break e}if(re=N,(V=0)===M){if(V+=D-Z,Z<ye){for(ye-=Z;de[_++]=N[V++],--Z;);V=_-Me,re=de}}else if(M<Z){if(V+=D+M-Z,(Z-=M)<ye){for(ye-=Z;de[_++]=N[V++],--Z;);if(V=0,M<ye){for(ye-=Z=M;de[_++]=N[V++],--Z;);V=_-Me,re=de}}}else if(V+=M-Z,Z<ye){for(ye-=Z;de[_++]=N[V++],--Z;);V=_-Me,re=de}for(;2<ye;)de[_++]=re[V++],de[_++]=re[V++],de[_++]=re[V++],ye-=3;ye&&(de[_++]=re[V++],1<ye&&(de[_++]=re[V++]))}else{for(V=_-Me;de[_++]=de[V++],de[_++]=de[V++],de[_++]=de[V++],2<(ye-=3););ye&&(de[_++]=de[V++],1<ye&&(de[_++]=de[V++]))}break}}break}}while(y<m&&_<E);y-=ye=L>>3,U&=(1<<(L-=ye<<3))-1,c.next_in=y,c.next_out=_,c.avail_in=y<m?m-y+5:5-(y-m),c.avail_out=_<E?E-_+257:257-(_-E),p.hold=U,p.bits=L}},{}],49:[function(a,s,l){var c=a("../utils/common"),f=a("./adler32"),p=a("./crc32"),y=a("./inffast"),m=a("./inftrees"),_=1,S=2,E=0,C=-2,D=1,w=852,M=592;function N(V){return(V>>>24&255)+(V>>>8&65280)+((65280&V)<<8)+((255&V)<<24)}function U(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function L(V){var re;return V&&V.state?(re=V.state,V.total_in=V.total_out=re.total=0,V.msg="",re.wrap&&(V.adler=1&re.wrap),re.mode=D,re.last=0,re.havedict=0,re.dmax=32768,re.head=null,re.hold=0,re.bits=0,re.lencode=re.lendyn=new c.Buf32(w),re.distcode=re.distdyn=new c.Buf32(M),re.sane=1,re.back=-1,E):C}function q(V){var re;return V&&V.state?((re=V.state).wsize=0,re.whave=0,re.wnext=0,L(V)):C}function O(V,re){var b,de;return V&&V.state?(de=V.state,re<0?(b=0,re=-re):(b=1+(re>>4),re<48&&(re&=15)),re&&(re<8||15<re)?C:(de.window!==null&&de.wbits!==re&&(de.window=null),de.wrap=b,de.wbits=re,q(V))):C}function ee(V,re){var b,de;return V?(de=new U,(V.state=de).window=null,(b=O(V,re))!==E&&(V.state=null),b):C}var J,pe,Z=!0;function ye(V){if(Z){var re;for(J=new c.Buf32(512),pe=new c.Buf32(32),re=0;re<144;)V.lens[re++]=8;for(;re<256;)V.lens[re++]=9;for(;re<280;)V.lens[re++]=7;for(;re<288;)V.lens[re++]=8;for(m(_,V.lens,0,288,J,0,V.work,{bits:9}),re=0;re<32;)V.lens[re++]=5;m(S,V.lens,0,32,pe,0,V.work,{bits:5}),Z=!1}V.lencode=J,V.lenbits=9,V.distcode=pe,V.distbits=5}function Me(V,re,b,de){var X,$=V.state;return $.window===null&&($.wsize=1<<$.wbits,$.wnext=0,$.whave=0,$.window=new c.Buf8($.wsize)),de>=$.wsize?(c.arraySet($.window,re,b-$.wsize,$.wsize,0),$.wnext=0,$.whave=$.wsize):(de<(X=$.wsize-$.wnext)&&(X=de),c.arraySet($.window,re,b-de,X,$.wnext),(de-=X)?(c.arraySet($.window,re,b-de,de,0),$.wnext=de,$.whave=$.wsize):($.wnext+=X,$.wnext===$.wsize&&($.wnext=0),$.whave<$.wsize&&($.whave+=X))),0}l.inflateReset=q,l.inflateReset2=O,l.inflateResetKeep=L,l.inflateInit=function(V){return ee(V,15)},l.inflateInit2=ee,l.inflate=function(V,re){var b,de,X,$,Ie,he,ke,I,B,fe,ce,me,Le,Ye,Je,Fe,bt,pt,rn,$t,x,_e,ue,G,z=0,j=new c.Buf8(4),Ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!V||!V.state||!V.output||!V.input&&V.avail_in!==0)return C;(b=V.state).mode===12&&(b.mode=13),Ie=V.next_out,X=V.output,ke=V.avail_out,$=V.next_in,de=V.input,he=V.avail_in,I=b.hold,B=b.bits,fe=he,ce=ke,_e=E;e:for(;;)switch(b.mode){case D:if(b.wrap===0){b.mode=13;break}for(;B<16;){if(he===0)break e;he--,I+=de[$++]<<B,B+=8}if(2&b.wrap&&I===35615){j[b.check=0]=255&I,j[1]=I>>>8&255,b.check=p(b.check,j,2,0),B=I=0,b.mode=2;break}if(b.flags=0,b.head&&(b.head.done=!1),!(1&b.wrap)||(((255&I)<<8)+(I>>8))%31){V.msg="incorrect header check",b.mode=30;break}if((15&I)!=8){V.msg="unknown compression method",b.mode=30;break}if(B-=4,x=8+(15&(I>>>=4)),b.wbits===0)b.wbits=x;else if(x>b.wbits){V.msg="invalid window size",b.mode=30;break}b.dmax=1<<x,V.adler=b.check=1,b.mode=512&I?10:12,B=I=0;break;case 2:for(;B<16;){if(he===0)break e;he--,I+=de[$++]<<B,B+=8}if(b.flags=I,(255&b.flags)!=8){V.msg="unknown compression method",b.mode=30;break}if(57344&b.flags){V.msg="unknown header flags set",b.mode=30;break}b.head&&(b.head.text=I>>8&1),512&b.flags&&(j[0]=255&I,j[1]=I>>>8&255,b.check=p(b.check,j,2,0)),B=I=0,b.mode=3;case 3:for(;B<32;){if(he===0)break e;he--,I+=de[$++]<<B,B+=8}b.head&&(b.head.time=I),512&b.flags&&(j[0]=255&I,j[1]=I>>>8&255,j[2]=I>>>16&255,j[3]=I>>>24&255,b.check=p(b.check,j,4,0)),B=I=0,b.mode=4;case 4:for(;B<16;){if(he===0)break e;he--,I+=de[$++]<<B,B+=8}b.head&&(b.head.xflags=255&I,b.head.os=I>>8),512&b.flags&&(j[0]=255&I,j[1]=I>>>8&255,b.check=p(b.check,j,2,0)),B=I=0,b.mode=5;case 5:if(1024&b.flags){for(;B<16;){if(he===0)break e;he--,I+=de[$++]<<B,B+=8}b.length=I,b.head&&(b.head.extra_len=I),512&b.flags&&(j[0]=255&I,j[1]=I>>>8&255,b.check=p(b.check,j,2,0)),B=I=0}else b.head&&(b.head.extra=null);b.mode=6;case 6:if(1024&b.flags&&(he<(me=b.length)&&(me=he),me&&(b.head&&(x=b.head.extra_len-b.length,b.head.extra||(b.head.extra=new Array(b.head.extra_len)),c.arraySet(b.head.extra,de,$,me,x)),512&b.flags&&(b.check=p(b.check,de,me,$)),he-=me,$+=me,b.length-=me),b.length))break e;b.length=0,b.mode=7;case 7:if(2048&b.flags){if(he===0)break e;for(me=0;x=de[$+me++],b.head&&x&&b.length<65536&&(b.head.name+=String.fromCharCode(x)),x&&me<he;);if(512&b.flags&&(b.check=p(b.check,de,me,$)),he-=me,$+=me,x)break e}else b.head&&(b.head.name=null);b.length=0,b.mode=8;case 8:if(4096&b.flags){if(he===0)break e;for(me=0;x=de[$+me++],b.head&&x&&b.length<65536&&(b.head.comment+=String.fromCharCode(x)),x&&me<he;);if(512&b.flags&&(b.check=p(b.check,de,me,$)),he-=me,$+=me,x)break e}else b.head&&(b.head.comment=null);b.mode=9;case 9:if(512&b.flags){for(;B<16;){if(he===0)break e;he--,I+=de[$++]<<B,B+=8}if(I!==(65535&b.check)){V.msg="header crc mismatch",b.mode=30;break}B=I=0}b.head&&(b.head.hcrc=b.flags>>9&1,b.head.done=!0),V.adler=b.check=0,b.mode=12;break;case 10:for(;B<32;){if(he===0)break e;he--,I+=de[$++]<<B,B+=8}V.adler=b.check=N(I),B=I=0,b.mode=11;case 11:if(b.havedict===0)return V.next_out=Ie,V.avail_out=ke,V.next_in=$,V.avail_in=he,b.hold=I,b.bits=B,2;V.adler=b.check=1,b.mode=12;case 12:if(re===5||re===6)break e;case 13:if(b.last){I>>>=7&B,B-=7&B,b.mode=27;break}for(;B<3;){if(he===0)break e;he--,I+=de[$++]<<B,B+=8}switch(b.last=1&I,B-=1,3&(I>>>=1)){case 0:b.mode=14;break;case 1:if(ye(b),b.mode=20,re!==6)break;I>>>=2,B-=2;break e;case 2:b.mode=17;break;case 3:V.msg="invalid block type",b.mode=30}I>>>=2,B-=2;break;case 14:for(I>>>=7&B,B-=7&B;B<32;){if(he===0)break e;he--,I+=de[$++]<<B,B+=8}if((65535&I)!=(I>>>16^65535)){V.msg="invalid stored block lengths",b.mode=30;break}if(b.length=65535&I,B=I=0,b.mode=15,re===6)break e;case 15:b.mode=16;case 16:if(me=b.length){if(he<me&&(me=he),ke<me&&(me=ke),me===0)break e;c.arraySet(X,de,$,me,Ie),he-=me,$+=me,ke-=me,Ie+=me,b.length-=me;break}b.mode=12;break;case 17:for(;B<14;){if(he===0)break e;he--,I+=de[$++]<<B,B+=8}if(b.nlen=257+(31&I),I>>>=5,B-=5,b.ndist=1+(31&I),I>>>=5,B-=5,b.ncode=4+(15&I),I>>>=4,B-=4,286<b.nlen||30<b.ndist){V.msg="too many length or distance symbols",b.mode=30;break}b.have=0,b.mode=18;case 18:for(;b.have<b.ncode;){for(;B<3;){if(he===0)break e;he--,I+=de[$++]<<B,B+=8}b.lens[Ce[b.have++]]=7&I,I>>>=3,B-=3}for(;b.have<19;)b.lens[Ce[b.have++]]=0;if(b.lencode=b.lendyn,b.lenbits=7,ue={bits:b.lenbits},_e=m(0,b.lens,0,19,b.lencode,0,b.work,ue),b.lenbits=ue.bits,_e){V.msg="invalid code lengths set",b.mode=30;break}b.have=0,b.mode=19;case 19:for(;b.have<b.nlen+b.ndist;){for(;Fe=(z=b.lencode[I&(1<<b.lenbits)-1])>>>16&255,bt=65535&z,!((Je=z>>>24)<=B);){if(he===0)break e;he--,I+=de[$++]<<B,B+=8}if(bt<16)I>>>=Je,B-=Je,b.lens[b.have++]=bt;else{if(bt===16){for(G=Je+2;B<G;){if(he===0)break e;he--,I+=de[$++]<<B,B+=8}if(I>>>=Je,B-=Je,b.have===0){V.msg="invalid bit length repeat",b.mode=30;break}x=b.lens[b.have-1],me=3+(3&I),I>>>=2,B-=2}else if(bt===17){for(G=Je+3;B<G;){if(he===0)break e;he--,I+=de[$++]<<B,B+=8}B-=Je,x=0,me=3+(7&(I>>>=Je)),I>>>=3,B-=3}else{for(G=Je+7;B<G;){if(he===0)break e;he--,I+=de[$++]<<B,B+=8}B-=Je,x=0,me=11+(127&(I>>>=Je)),I>>>=7,B-=7}if(b.have+me>b.nlen+b.ndist){V.msg="invalid bit length repeat",b.mode=30;break}for(;me--;)b.lens[b.have++]=x}}if(b.mode===30)break;if(b.lens[256]===0){V.msg="invalid code -- missing end-of-block",b.mode=30;break}if(b.lenbits=9,ue={bits:b.lenbits},_e=m(_,b.lens,0,b.nlen,b.lencode,0,b.work,ue),b.lenbits=ue.bits,_e){V.msg="invalid literal/lengths set",b.mode=30;break}if(b.distbits=6,b.distcode=b.distdyn,ue={bits:b.distbits},_e=m(S,b.lens,b.nlen,b.ndist,b.distcode,0,b.work,ue),b.distbits=ue.bits,_e){V.msg="invalid distances set",b.mode=30;break}if(b.mode=20,re===6)break e;case 20:b.mode=21;case 21:if(6<=he&&258<=ke){V.next_out=Ie,V.avail_out=ke,V.next_in=$,V.avail_in=he,b.hold=I,b.bits=B,y(V,ce),Ie=V.next_out,X=V.output,ke=V.avail_out,$=V.next_in,de=V.input,he=V.avail_in,I=b.hold,B=b.bits,b.mode===12&&(b.back=-1);break}for(b.back=0;Fe=(z=b.lencode[I&(1<<b.lenbits)-1])>>>16&255,bt=65535&z,!((Je=z>>>24)<=B);){if(he===0)break e;he--,I+=de[$++]<<B,B+=8}if(Fe&&(240&Fe)==0){for(pt=Je,rn=Fe,$t=bt;Fe=(z=b.lencode[$t+((I&(1<<pt+rn)-1)>>pt)])>>>16&255,bt=65535&z,!(pt+(Je=z>>>24)<=B);){if(he===0)break e;he--,I+=de[$++]<<B,B+=8}I>>>=pt,B-=pt,b.back+=pt}if(I>>>=Je,B-=Je,b.back+=Je,b.length=bt,Fe===0){b.mode=26;break}if(32&Fe){b.back=-1,b.mode=12;break}if(64&Fe){V.msg="invalid literal/length code",b.mode=30;break}b.extra=15&Fe,b.mode=22;case 22:if(b.extra){for(G=b.extra;B<G;){if(he===0)break e;he--,I+=de[$++]<<B,B+=8}b.length+=I&(1<<b.extra)-1,I>>>=b.extra,B-=b.extra,b.back+=b.extra}b.was=b.length,b.mode=23;case 23:for(;Fe=(z=b.distcode[I&(1<<b.distbits)-1])>>>16&255,bt=65535&z,!((Je=z>>>24)<=B);){if(he===0)break e;he--,I+=de[$++]<<B,B+=8}if((240&Fe)==0){for(pt=Je,rn=Fe,$t=bt;Fe=(z=b.distcode[$t+((I&(1<<pt+rn)-1)>>pt)])>>>16&255,bt=65535&z,!(pt+(Je=z>>>24)<=B);){if(he===0)break e;he--,I+=de[$++]<<B,B+=8}I>>>=pt,B-=pt,b.back+=pt}if(I>>>=Je,B-=Je,b.back+=Je,64&Fe){V.msg="invalid distance code",b.mode=30;break}b.offset=bt,b.extra=15&Fe,b.mode=24;case 24:if(b.extra){for(G=b.extra;B<G;){if(he===0)break e;he--,I+=de[$++]<<B,B+=8}b.offset+=I&(1<<b.extra)-1,I>>>=b.extra,B-=b.extra,b.back+=b.extra}if(b.offset>b.dmax){V.msg="invalid distance too far back",b.mode=30;break}b.mode=25;case 25:if(ke===0)break e;if(me=ce-ke,b.offset>me){if((me=b.offset-me)>b.whave&&b.sane){V.msg="invalid distance too far back",b.mode=30;break}Le=me>b.wnext?(me-=b.wnext,b.wsize-me):b.wnext-me,me>b.length&&(me=b.length),Ye=b.window}else Ye=X,Le=Ie-b.offset,me=b.length;for(ke<me&&(me=ke),ke-=me,b.length-=me;X[Ie++]=Ye[Le++],--me;);b.length===0&&(b.mode=21);break;case 26:if(ke===0)break e;X[Ie++]=b.length,ke--,b.mode=21;break;case 27:if(b.wrap){for(;B<32;){if(he===0)break e;he--,I|=de[$++]<<B,B+=8}if(ce-=ke,V.total_out+=ce,b.total+=ce,ce&&(V.adler=b.check=b.flags?p(b.check,X,ce,Ie-ce):f(b.check,X,ce,Ie-ce)),ce=ke,(b.flags?I:N(I))!==b.check){V.msg="incorrect data check",b.mode=30;break}B=I=0}b.mode=28;case 28:if(b.wrap&&b.flags){for(;B<32;){if(he===0)break e;he--,I+=de[$++]<<B,B+=8}if(I!==(4294967295&b.total)){V.msg="incorrect length check",b.mode=30;break}B=I=0}b.mode=29;case 29:_e=1;break e;case 30:_e=-3;break e;case 31:return-4;case 32:default:return C}return V.next_out=Ie,V.avail_out=ke,V.next_in=$,V.avail_in=he,b.hold=I,b.bits=B,(b.wsize||ce!==V.avail_out&&b.mode<30&&(b.mode<27||re!==4))&&Me(V,V.output,V.next_out,ce-V.avail_out)?(b.mode=31,-4):(fe-=V.avail_in,ce-=V.avail_out,V.total_in+=fe,V.total_out+=ce,b.total+=ce,b.wrap&&ce&&(V.adler=b.check=b.flags?p(b.check,X,ce,V.next_out-ce):f(b.check,X,ce,V.next_out-ce)),V.data_type=b.bits+(b.last?64:0)+(b.mode===12?128:0)+(b.mode===20||b.mode===15?256:0),(fe==0&&ce===0||re===4)&&_e===E&&(_e=-5),_e)},l.inflateEnd=function(V){if(!V||!V.state)return C;var re=V.state;return re.window&&(re.window=null),V.state=null,E},l.inflateGetHeader=function(V,re){var b;return V&&V.state?(2&(b=V.state).wrap)==0?C:((b.head=re).done=!1,E):C},l.inflateSetDictionary=function(V,re){var b,de=re.length;return V&&V.state?(b=V.state).wrap!==0&&b.mode!==11?C:b.mode===11&&f(1,re,de,0)!==b.check?-3:Me(V,re,de,de)?(b.mode=31,-4):(b.havedict=1,E):C},l.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(a,s,l){var c=a("../utils/common"),f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],p=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],y=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];s.exports=function(_,S,E,C,D,w,M,N){var U,L,q,O,ee,J,pe,Z,ye,Me=N.bits,V=0,re=0,b=0,de=0,X=0,$=0,Ie=0,he=0,ke=0,I=0,B=null,fe=0,ce=new c.Buf16(16),me=new c.Buf16(16),Le=null,Ye=0;for(V=0;V<=15;V++)ce[V]=0;for(re=0;re<C;re++)ce[S[E+re]]++;for(X=Me,de=15;1<=de&&ce[de]===0;de--);if(de<X&&(X=de),de===0)return D[w++]=20971520,D[w++]=20971520,N.bits=1,0;for(b=1;b<de&&ce[b]===0;b++);for(X<b&&(X=b),V=he=1;V<=15;V++)if(he<<=1,(he-=ce[V])<0)return-1;if(0<he&&(_===0||de!==1))return-1;for(me[1]=0,V=1;V<15;V++)me[V+1]=me[V]+ce[V];for(re=0;re<C;re++)S[E+re]!==0&&(M[me[S[E+re]]++]=re);if(J=_===0?(B=Le=M,19):_===1?(B=f,fe-=257,Le=p,Ye-=257,256):(B=y,Le=m,-1),V=b,ee=w,Ie=re=I=0,q=-1,O=(ke=1<<($=X))-1,_===1&&852<ke||_===2&&592<ke)return 1;for(;;){for(pe=V-Ie,ye=M[re]<J?(Z=0,M[re]):M[re]>J?(Z=Le[Ye+M[re]],B[fe+M[re]]):(Z=96,0),U=1<<V-Ie,b=L=1<<$;D[ee+(I>>Ie)+(L-=U)]=pe<<24|Z<<16|ye|0,L!==0;);for(U=1<<V-1;I&U;)U>>=1;if(U!==0?(I&=U-1,I+=U):I=0,re++,--ce[V]==0){if(V===de)break;V=S[E+M[re]]}if(X<V&&(I&O)!==q){for(Ie===0&&(Ie=X),ee+=b,he=1<<($=V-Ie);$+Ie<de&&!((he-=ce[$+Ie])<=0);)$++,he<<=1;if(ke+=1<<$,_===1&&852<ke||_===2&&592<ke)return 1;D[q=I&O]=X<<24|$<<16|ee-w|0}}return I!==0&&(D[ee+I]=V-Ie<<24|64<<16|0),N.bits=X,0}},{"../utils/common":41}],51:[function(a,s,l){s.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(a,s,l){var c=a("../utils/common"),f=0,p=1;function y(z){for(var j=z.length;0<=--j;)z[j]=0}var m=0,_=29,S=256,E=S+1+_,C=30,D=19,w=2*E+1,M=15,N=16,U=7,L=256,q=16,O=17,ee=18,J=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],pe=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ye=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Me=new Array(2*(E+2));y(Me);var V=new Array(2*C);y(V);var re=new Array(512);y(re);var b=new Array(256);y(b);var de=new Array(_);y(de);var X,$,Ie,he=new Array(C);function ke(z,j,Ce,xe,ne){this.static_tree=z,this.extra_bits=j,this.extra_base=Ce,this.elems=xe,this.max_length=ne,this.has_stree=z&&z.length}function I(z,j){this.dyn_tree=z,this.max_code=0,this.stat_desc=j}function B(z){return z<256?re[z]:re[256+(z>>>7)]}function fe(z,j){z.pending_buf[z.pending++]=255&j,z.pending_buf[z.pending++]=j>>>8&255}function ce(z,j,Ce){z.bi_valid>N-Ce?(z.bi_buf|=j<<z.bi_valid&65535,fe(z,z.bi_buf),z.bi_buf=j>>N-z.bi_valid,z.bi_valid+=Ce-N):(z.bi_buf|=j<<z.bi_valid&65535,z.bi_valid+=Ce)}function me(z,j,Ce){ce(z,Ce[2*j],Ce[2*j+1])}function Le(z,j){for(var Ce=0;Ce|=1&z,z>>>=1,Ce<<=1,0<--j;);return Ce>>>1}function Ye(z,j,Ce){var xe,ne,Ne=new Array(M+1),De=0;for(xe=1;xe<=M;xe++)Ne[xe]=De=De+Ce[xe-1]<<1;for(ne=0;ne<=j;ne++){var Re=z[2*ne+1];Re!==0&&(z[2*ne]=Le(Ne[Re]++,Re))}}function Je(z){var j;for(j=0;j<E;j++)z.dyn_ltree[2*j]=0;for(j=0;j<C;j++)z.dyn_dtree[2*j]=0;for(j=0;j<D;j++)z.bl_tree[2*j]=0;z.dyn_ltree[2*L]=1,z.opt_len=z.static_len=0,z.last_lit=z.matches=0}function Fe(z){8<z.bi_valid?fe(z,z.bi_buf):0<z.bi_valid&&(z.pending_buf[z.pending++]=z.bi_buf),z.bi_buf=0,z.bi_valid=0}function bt(z,j,Ce,xe){var ne=2*j,Ne=2*Ce;return z[ne]<z[Ne]||z[ne]===z[Ne]&&xe[j]<=xe[Ce]}function pt(z,j,Ce){for(var xe=z.heap[Ce],ne=Ce<<1;ne<=z.heap_len&&(ne<z.heap_len&&bt(j,z.heap[ne+1],z.heap[ne],z.depth)&&ne++,!bt(j,xe,z.heap[ne],z.depth));)z.heap[Ce]=z.heap[ne],Ce=ne,ne<<=1;z.heap[Ce]=xe}function rn(z,j,Ce){var xe,ne,Ne,De,Re=0;if(z.last_lit!==0)for(;xe=z.pending_buf[z.d_buf+2*Re]<<8|z.pending_buf[z.d_buf+2*Re+1],ne=z.pending_buf[z.l_buf+Re],Re++,xe===0?me(z,ne,j):(me(z,(Ne=b[ne])+S+1,j),(De=J[Ne])!==0&&ce(z,ne-=de[Ne],De),me(z,Ne=B(--xe),Ce),(De=pe[Ne])!==0&&ce(z,xe-=he[Ne],De)),Re<z.last_lit;);me(z,L,j)}function $t(z,j){var Ce,xe,ne,Ne=j.dyn_tree,De=j.stat_desc.static_tree,Re=j.stat_desc.has_stree,qe=j.stat_desc.elems,et=-1;for(z.heap_len=0,z.heap_max=w,Ce=0;Ce<qe;Ce++)Ne[2*Ce]!==0?(z.heap[++z.heap_len]=et=Ce,z.depth[Ce]=0):Ne[2*Ce+1]=0;for(;z.heap_len<2;)Ne[2*(ne=z.heap[++z.heap_len]=et<2?++et:0)]=1,z.depth[ne]=0,z.opt_len--,Re&&(z.static_len-=De[2*ne+1]);for(j.max_code=et,Ce=z.heap_len>>1;1<=Ce;Ce--)pt(z,Ne,Ce);for(ne=qe;Ce=z.heap[1],z.heap[1]=z.heap[z.heap_len--],pt(z,Ne,1),xe=z.heap[1],z.heap[--z.heap_max]=Ce,z.heap[--z.heap_max]=xe,Ne[2*ne]=Ne[2*Ce]+Ne[2*xe],z.depth[ne]=(z.depth[Ce]>=z.depth[xe]?z.depth[Ce]:z.depth[xe])+1,Ne[2*Ce+1]=Ne[2*xe+1]=ne,z.heap[1]=ne++,pt(z,Ne,1),2<=z.heap_len;);z.heap[--z.heap_max]=z.heap[1],(function(je,Yt){var Wn,Qt,ki,tt,kt,Cn,Nt=Yt.dyn_tree,va=Yt.max_code,Ka=Yt.stat_desc.static_tree,bo=Yt.stat_desc.has_stree,No=Yt.stat_desc.extra_bits,We=Yt.stat_desc.extra_base,ei=Yt.stat_desc.max_length,fn=0;for(tt=0;tt<=M;tt++)je.bl_count[tt]=0;for(Nt[2*je.heap[je.heap_max]+1]=0,Wn=je.heap_max+1;Wn<w;Wn++)ei<(tt=Nt[2*Nt[2*(Qt=je.heap[Wn])+1]+1]+1)&&(tt=ei,fn++),Nt[2*Qt+1]=tt,va<Qt||(je.bl_count[tt]++,kt=0,We<=Qt&&(kt=No[Qt-We]),Cn=Nt[2*Qt],je.opt_len+=Cn*(tt+kt),bo&&(je.static_len+=Cn*(Ka[2*Qt+1]+kt)));if(fn!==0){do{for(tt=ei-1;je.bl_count[tt]===0;)tt--;je.bl_count[tt]--,je.bl_count[tt+1]+=2,je.bl_count[ei]--,fn-=2}while(0<fn);for(tt=ei;tt!==0;tt--)for(Qt=je.bl_count[tt];Qt!==0;)va<(ki=je.heap[--Wn])||(Nt[2*ki+1]!==tt&&(je.opt_len+=(tt-Nt[2*ki+1])*Nt[2*ki],Nt[2*ki+1]=tt),Qt--)}})(z,j),Ye(Ne,et,z.bl_count)}function x(z,j,Ce){var xe,ne,Ne=-1,De=j[1],Re=0,qe=7,et=4;for(De===0&&(qe=138,et=3),j[2*(Ce+1)+1]=65535,xe=0;xe<=Ce;xe++)ne=De,De=j[2*(xe+1)+1],++Re<qe&&ne===De||(Re<et?z.bl_tree[2*ne]+=Re:ne!==0?(ne!==Ne&&z.bl_tree[2*ne]++,z.bl_tree[2*q]++):Re<=10?z.bl_tree[2*O]++:z.bl_tree[2*ee]++,Ne=ne,et=(Re=0)===De?(qe=138,3):ne===De?(qe=6,3):(qe=7,4))}function _e(z,j,Ce){var xe,ne,Ne=-1,De=j[1],Re=0,qe=7,et=4;for(De===0&&(qe=138,et=3),xe=0;xe<=Ce;xe++)if(ne=De,De=j[2*(xe+1)+1],!(++Re<qe&&ne===De)){if(Re<et)for(;me(z,ne,z.bl_tree),--Re!=0;);else ne!==0?(ne!==Ne&&(me(z,ne,z.bl_tree),Re--),me(z,q,z.bl_tree),ce(z,Re-3,2)):Re<=10?(me(z,O,z.bl_tree),ce(z,Re-3,3)):(me(z,ee,z.bl_tree),ce(z,Re-11,7));Ne=ne,et=(Re=0)===De?(qe=138,3):ne===De?(qe=6,3):(qe=7,4)}}y(he);var ue=!1;function G(z,j,Ce,xe){ce(z,(m<<1)+(xe?1:0),3),(function(ne,Ne,De,Re){Fe(ne),fe(ne,De),fe(ne,~De),c.arraySet(ne.pending_buf,ne.window,Ne,De,ne.pending),ne.pending+=De})(z,j,Ce)}l._tr_init=function(z){ue||((function(){var j,Ce,xe,ne,Ne,De=new Array(M+1);for(ne=xe=0;ne<_-1;ne++)for(de[ne]=xe,j=0;j<1<<J[ne];j++)b[xe++]=ne;for(b[xe-1]=ne,ne=Ne=0;ne<16;ne++)for(he[ne]=Ne,j=0;j<1<<pe[ne];j++)re[Ne++]=ne;for(Ne>>=7;ne<C;ne++)for(he[ne]=Ne<<7,j=0;j<1<<pe[ne]-7;j++)re[256+Ne++]=ne;for(Ce=0;Ce<=M;Ce++)De[Ce]=0;for(j=0;j<=143;)Me[2*j+1]=8,j++,De[8]++;for(;j<=255;)Me[2*j+1]=9,j++,De[9]++;for(;j<=279;)Me[2*j+1]=7,j++,De[7]++;for(;j<=287;)Me[2*j+1]=8,j++,De[8]++;for(Ye(Me,E+1,De),j=0;j<C;j++)V[2*j+1]=5,V[2*j]=Le(j,5);X=new ke(Me,J,S+1,E,M),$=new ke(V,pe,0,C,M),Ie=new ke(new Array(0),Z,0,D,U)})(),ue=!0),z.l_desc=new I(z.dyn_ltree,X),z.d_desc=new I(z.dyn_dtree,$),z.bl_desc=new I(z.bl_tree,Ie),z.bi_buf=0,z.bi_valid=0,Je(z)},l._tr_stored_block=G,l._tr_flush_block=function(z,j,Ce,xe){var ne,Ne,De=0;0<z.level?(z.strm.data_type===2&&(z.strm.data_type=(function(Re){var qe,et=4093624447;for(qe=0;qe<=31;qe++,et>>>=1)if(1&et&&Re.dyn_ltree[2*qe]!==0)return f;if(Re.dyn_ltree[18]!==0||Re.dyn_ltree[20]!==0||Re.dyn_ltree[26]!==0)return p;for(qe=32;qe<S;qe++)if(Re.dyn_ltree[2*qe]!==0)return p;return f})(z)),$t(z,z.l_desc),$t(z,z.d_desc),De=(function(Re){var qe;for(x(Re,Re.dyn_ltree,Re.l_desc.max_code),x(Re,Re.dyn_dtree,Re.d_desc.max_code),$t(Re,Re.bl_desc),qe=D-1;3<=qe&&Re.bl_tree[2*ye[qe]+1]===0;qe--);return Re.opt_len+=3*(qe+1)+5+5+4,qe})(z),ne=z.opt_len+3+7>>>3,(Ne=z.static_len+3+7>>>3)<=ne&&(ne=Ne)):ne=Ne=Ce+5,Ce+4<=ne&&j!==-1?G(z,j,Ce,xe):z.strategy===4||Ne===ne?(ce(z,2+(xe?1:0),3),rn(z,Me,V)):(ce(z,4+(xe?1:0),3),(function(Re,qe,et,je){var Yt;for(ce(Re,qe-257,5),ce(Re,et-1,5),ce(Re,je-4,4),Yt=0;Yt<je;Yt++)ce(Re,Re.bl_tree[2*ye[Yt]+1],3);_e(Re,Re.dyn_ltree,qe-1),_e(Re,Re.dyn_dtree,et-1)})(z,z.l_desc.max_code+1,z.d_desc.max_code+1,De+1),rn(z,z.dyn_ltree,z.dyn_dtree)),Je(z),xe&&Fe(z)},l._tr_tally=function(z,j,Ce){return z.pending_buf[z.d_buf+2*z.last_lit]=j>>>8&255,z.pending_buf[z.d_buf+2*z.last_lit+1]=255&j,z.pending_buf[z.l_buf+z.last_lit]=255&Ce,z.last_lit++,j===0?z.dyn_ltree[2*Ce]++:(z.matches++,j--,z.dyn_ltree[2*(b[Ce]+S+1)]++,z.dyn_dtree[2*B(j)]++),z.last_lit===z.lit_bufsize-1},l._tr_align=function(z){ce(z,2,3),me(z,L,Me),(function(j){j.bi_valid===16?(fe(j,j.bi_buf),j.bi_buf=0,j.bi_valid=0):8<=j.bi_valid&&(j.pending_buf[j.pending++]=255&j.bi_buf,j.bi_buf>>=8,j.bi_valid-=8)})(z)}},{"../utils/common":41}],53:[function(a,s,l){s.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(a,s,l){(function(c){(function(f,p){if(!f.setImmediate){var y,m,_,S,E=1,C={},D=!1,w=f.document,M=Object.getPrototypeOf&&Object.getPrototypeOf(f);M=M&&M.setTimeout?M:f,y={}.toString.call(f.process)==="[object process]"?function(q){process.nextTick(function(){U(q)})}:(function(){if(f.postMessage&&!f.importScripts){var q=!0,O=f.onmessage;return f.onmessage=function(){q=!1},f.postMessage("","*"),f.onmessage=O,q}})()?(S="setImmediate$"+Math.random()+"$",f.addEventListener?f.addEventListener("message",L,!1):f.attachEvent("onmessage",L),function(q){f.postMessage(S+q,"*")}):f.MessageChannel?((_=new MessageChannel).port1.onmessage=function(q){U(q.data)},function(q){_.port2.postMessage(q)}):w&&"onreadystatechange"in w.createElement("script")?(m=w.documentElement,function(q){var O=w.createElement("script");O.onreadystatechange=function(){U(q),O.onreadystatechange=null,m.removeChild(O),O=null},m.appendChild(O)}):function(q){setTimeout(U,0,q)},M.setImmediate=function(q){typeof q!="function"&&(q=new Function(""+q));for(var O=new Array(arguments.length-1),ee=0;ee<O.length;ee++)O[ee]=arguments[ee+1];var J={callback:q,args:O};return C[E]=J,y(E),E++},M.clearImmediate=N}function N(q){delete C[q]}function U(q){if(D)setTimeout(U,0,q);else{var O=C[q];if(O){D=!0;try{(function(ee){var J=ee.callback,pe=ee.args;switch(pe.length){case 0:J();break;case 1:J(pe[0]);break;case 2:J(pe[0],pe[1]);break;case 3:J(pe[0],pe[1],pe[2]);break;default:J.apply(p,pe)}})(O)}finally{N(q),D=!1}}}}function L(q){q.source===f&&typeof q.data=="string"&&q.data.indexOf(S)===0&&U(+q.data.slice(S.length))}})(typeof self>"u"?c===void 0?this:c:self)}).call(this,typeof Pu<"u"?Pu:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Pd)),Pd.exports}var OA=HA();const Ld=Zd(OA),jd=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),v.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),fl=()=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#2ECC71",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("polyline",{points:"20 6 9 17 4 12"})}),Ou=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),v.jsx("polyline",{points:"7 10 12 15 17 10"}),v.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),Ag=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("polyline",{points:"23 4 23 10 17 10"}),v.jsx("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"})]}),Bu=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("circle",{cx:"12",cy:"12",r:"10"}),v.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),v.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),Cg=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),v.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),v.jsx("polyline",{points:"21 15 16 10 5 21"})]}),xg=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("polygon",{points:"23 7 16 12 23 17 23 7"}),v.jsx("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"})]}),YA=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),v.jsx("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"})]}),sy=()=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}),JA=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("rect",{x:"6",y:"4",width:"4",height:"16"}),v.jsx("rect",{x:"14",y:"4",width:"4",height:"16"})]}),KA=()=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("rect",{x:"6",y:"6",width:"12",height:"12"})}),jA=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("polyline",{points:"3 6 5 6 21 6"}),v.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),ZA=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"m12 1-9.5 2.5v11l9.5 5 9.5-5v-11z"}),v.jsx("path",{d:"m12 22 9.5-5"}),v.jsx("path",{d:"m3.5 18.5 9.5-5"}),v.jsx("path",{d:"m3.5 3.5 9.5 5 9.5-5"})]}),wg=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"}),v.jsx("path",{d:"m12 8-2 4 4 2 2-4-4-2z"}),v.jsx("path",{d:"M12 12v10"})]}),bg=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M16 2H8a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2z"}),v.jsx("line",{x1:"12",x2:"12",y1:"18",y2:"18"}),v.jsx("line",{x1:"12",x2:"12",y1:"14",y2:"14"})]}),XA=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M12 19V5"}),v.jsx("polyline",{points:"5 12 12 5 19 12"})]}),$A=()=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})}),Ng=()=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})}),Rg=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"m22 2-7 20-4-9-9-4Z"}),v.jsx("path",{d:"m22 2-11 11"})]}),QA=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10C3.73 6.66 5.14 6.32 6.9 6.2c1.7-.1 3.1-.2 4.7-.2h.4c1.6 0 3 .1 4.6.2c1.8.13 3.18.47 4.4 1.1c1.26.63 2.1 1.7 2.4 3.2c.3 1.5.4 3.1.4 4.6c0 1.6-.1 3.1-.4 4.6c-.3 1.5-1.14 2.57-2.4 3.2c-1.22.63-2.62.97-4.4 1.1c-1.6.1-3 .2-4.6.2h-.4c-1.6 0-3-.1-4.6.2c-1.8-.12-3.2-.46-4.5-1.1C3.6 19.26 2.8 18.16 2.5 17Z"}),v.jsx("path",{d:"m10 15 5-3-5-3z"})]}),WA=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.72"}),v.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.72-1.72"})]}),zd=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("circle",{cx:"12",cy:"12",r:"10"}),v.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),v.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]});class eC{constructor(){this.db=null,this.DB_NAME="AI-AutomationerDB",this.DB_VERSION=1,this.STORE_NAME="projects",this.init()}init(){return new Promise((n,a)=>{const s=indexedDB.open(this.DB_NAME,this.DB_VERSION);s.onerror=()=>a("IndexedDB initialization error"),s.onsuccess=()=>{this.db=s.result,n()},s.onupgradeneeded=l=>{const c=l.target.result;c.objectStoreNames.contains(this.STORE_NAME)||c.createObjectStore(this.STORE_NAME,{keyPath:"projectName"})}})}async getDb(){return this.db||await this.init(),this.db}async saveProject(n){const a=await this.getDb();return new Promise((s,l)=>{const p=a.transaction(this.STORE_NAME,"readwrite").objectStore(this.STORE_NAME).put(n);p.onerror=()=>l("Error saving project"),p.onsuccess=()=>s()})}async loadProject(n){const a=await this.getDb();return new Promise((s,l)=>{const p=a.transaction(this.STORE_NAME,"readonly").objectStore(this.STORE_NAME).get(n);p.onerror=()=>l("Error loading project"),p.onsuccess=()=>s(p.result)})}async deleteProject(n){const a=await this.getDb();return new Promise((s,l)=>{const p=a.transaction(this.STORE_NAME,"readwrite").objectStore(this.STORE_NAME).delete(n);p.onerror=()=>l("Error deleting project"),p.onsuccess=()=>s()})}async getAllProjectNames(){const n=await this.getDb();return new Promise((a,s)=>{const f=n.transaction(this.STORE_NAME,"readonly").objectStore(this.STORE_NAME).getAllKeys();f.onerror=()=>s("Error fetching project names"),f.onsuccess=()=>a(f.result)})}async clearAllProjects(){const n=await this.getDb();return new Promise((a,s)=>{const f=n.transaction(this.STORE_NAME,"readwrite").objectStore(this.STORE_NAME).clear();f.onerror=()=>s("Error clearing projects"),f.onsuccess=()=>a()})}}const cl=new eC,Gu=["Realistic","Horror","Mystery","History","Documentary","Fitness","Anatomy","Real Footage","CCTV","Found Footage","Fantasy","Sci-Fi","Cinematic","Motivational","Thriller","Comedy","Romance","Vlog","Educational","Animation"],Vu=["Photorealistic","Cinematic","Studio Light","Dramatic Lighting","4K","HDR","Surreal","Ethereal","Dreamy","Haze","Fantasy Art","Anime","Gaming","Pencil Drawing","Charcoal Sketch","Pastel Painting","Digital Art","Art Deco","Impressionist","Renaissance Painting","Pop Art","Minimalist","Modern Logo","Motion Blur","Soft Focus","Bokeh","Macro Lens","Wide Angle","Fisheye Lens","VHS Grain","Film Grain","Toon Realism","3D Animation","Vibrant Colors","Monochrome","Low Poly","Isometric"],tC=[{value:"Default",description:"Let the AI decide the best shot for the scene."},{value:"Point of View / First Person",description:"Shows the scene from a character's eyes. Good for immersive or horror content."},{value:"Low Angle Shot",description:"Makes the subject look powerful or imposing. Used in action and drama."},{value:"High Angle Shot",description:"Makes the subject look vulnerable or small. Good for emotional scenes."},{value:"Bird's Eye View",description:"A shot from directly above. Great for establishing a location or showing scale."},{value:"Dutch Angle",description:"A tilted shot that creates a sense of unease or disorientation."},{value:"Over-the-Shoulder Shot",description:"Often used in conversations to show perspective."},{value:"Dynamic",description:"Implies camera movement like panning, tracking, or drone shots. Good for action."},{value:"Cinematic Close-up",description:"Focuses tightly on a character's face to show emotion."},{value:"Wide Shot / Establishing Shot",description:"Shows the entire scene and characters' relationship to it."},{value:"Macro Lens",description:"Extremely close-up shot to show fine details."}],nC=["All Tones","Neutral","Documentary","History","Fact","Odd Story","Crime Story","Horror Story","Sleeping Story","Kids Bedtime Story","Dynamic","Motivational","Taunting","Sad","Islamic History","Ancient","Nature/Geography","Cheerful","Happy","Angry","Excited","Fearful","Whispering","Shouting","Formal","Calm"],qs=[{conceptualName:"Zephyr",apiName:"Zephyr",gender:"Female",category:"Narration",language:"English",tones:["Cheerful","Happy","Neutral"],color:"#FF69B4",use_case:"A bright, higher-pitch female voice, excellent for upbeat and clear narration."},{conceptualName:"Kore",apiName:"Kore",gender:"Female",category:"Formal",language:"English",tones:["Formal","Fact","Documentary","Motivational"],color:"#FF69B4",use_case:"A firm, middle-pitch female voice suitable for professional presentations and factual content."},{conceptualName:"Leda",apiName:"Leda",gender:"Female",category:"Creative",language:"English",tones:["Happy","Cheerful","Kids Bedtime Story"],color:"#FF69B4",use_case:"A youthful, higher-pitched female voice, perfect for energetic and bright content."},{conceptualName:"Aoede",apiName:"Aoede",gender:"Female",category:"Narration",language:"English",tones:["Neutral","Calm"],color:"#FF69B4",use_case:"A breezy, middle-pitch female voice for a light and pleasant narration style."},{conceptualName:"Callirrhoe",apiName:"Callirrhoe",gender:"Female",category:"Creative",language:"English",tones:["Neutral","Calm","Happy"],color:"#FF69B4",use_case:"An easy-going, middle-pitch female voice for casual vlogs or friendly explainers."},{conceptualName:"Autonoe",apiName:"Autonoe",gender:"Female",category:"Creative",language:"English",tones:["Happy","Cheerful","Dynamic"],color:"#FF69B4",use_case:"A bright, middle-pitch female voice, great for engaging and cheerful content."},{conceptualName:"Despina",apiName:"Despina",gender:"Female",category:"Narration",language:"English",tones:["Calm","Neutral","Sleeping Story","Sad"],color:"#FF69B4",use_case:"A smooth, middle-pitch female voice, ideal for relaxing and gentle narration."},{conceptualName:"Erinome",apiName:"Erinome",gender:"Female",category:"Narration",language:"English",tones:["Fact","Documentary","Neutral","Formal"],color:"#FF69B4",use_case:"A clear, middle-pitch female voice for informative and straightforward content."},{conceptualName:"Laomedeia",apiName:"Laomedeia",gender:"Female",category:"Creative",language:"English",tones:["Happy","Cheerful","Excited","Dynamic"],color:"#FF69B4",use_case:"An upbeat, higher-pitch female voice for energetic advertisements or vlogs."},{conceptualName:"Achernar",apiName:"Achernar",gender:"Female",category:"Storytelling",language:"English",tones:["Sleeping Story","Kids Bedtime Story","Calm","Sad","Whispering"],color:"#FF69B4",use_case:"A soft, higher-pitch female voice, perfect for bedtime stories and gentle narratives."},{conceptualName:"Pulcherrima",apiName:"Pulcherrima",gender:"Female",category:"Narration",language:"English",tones:["Motivational","Dynamic","Formal"],color:"#FF69B4",use_case:"A forward, middle-pitch female voice for confident and persuasive content."},{conceptualName:"Vindemiatrix",apiName:"Vindemiatrix",gender:"Female",category:"Storytelling",language:"English",tones:["Calm","Sleeping Story","Sad","Kids Bedtime Story"],color:"#FF69B4",use_case:"A gentle, middle-pitch female voice for soothing and heartfelt stories."},{conceptualName:"Sulafat",apiName:"Sulafat",gender:"Female",category:"Storytelling",language:"English",tones:["Happy","Cheerful","Calm","Kids Bedtime Story"],color:"#FF69B4",use_case:"A warm, middle-pitch female voice, ideal for friendly and comforting narration."},{conceptualName:"Puck",apiName:"Puck",gender:"Male",category:"Creative",language:"English",tones:["Happy","Cheerful","Dynamic","Kids Bedtime Story"],color:"#1E90FF",use_case:"An upbeat, middle-pitch male voice, great for animations and friendly content."},{conceptualName:"Charon",apiName:"Charon",gender:"Male",category:"Narration",language:"English",tones:["Documentary","History","Fact","Nature/Geography","Formal","Ancient","Islamic History"],color:"#1E90FF",use_case:"An informative, lower-pitch male voice, perfect for deep documentaries and historical content."},{conceptualName:"Fenrir",apiName:"Fenrir",gender:"Male",category:"Dynamic",language:"English",tones:["Excited","Dynamic","Motivational","Shouting","Angry"],color:"#1E90FF",use_case:"An excitable, lower-middle pitch male voice for high-energy trailers or action-packed narration."},{conceptualName:"Orus",apiName:"Orus",gender:"Male",category:"Formal",language:"English",tones:["Formal","Fact","Motivational","History"],color:"#1E90FF",use_case:"A firm, lower-middle pitch male voice for authoritative and serious content."},{conceptualName:"Enceladus",apiName:"Enceladus",gender:"Male",category:"Storytelling",language:"English",tones:["Whispering","Fearful","Odd Story","Horror Story","Sleeping Story","Calm"],color:"#1E90FF",use_case:"A breathy, lower-pitch male voice for ASMR, mysterious, or horror narratives."},{conceptualName:"Iapetus",apiName:"Iapetus",gender:"Male",category:"Narration",language:"English",tones:["Fact","Documentary","Neutral"],color:"#1E90FF",use_case:"A clear, lower-middle pitch male voice for straightforward and informative narration."},{conceptualName:"Umbriel",apiName:"Umbriel",gender:"Male",category:"Creative",language:"English",tones:["Neutral","Calm"],color:"#1E90FF",use_case:"An easy-going, lower-middle pitch male voice for casual and relaxed content."},{conceptualName:"Algieba",apiName:"Algieba",gender:"Male",category:"Narration",language:"English",tones:["Calm","Sleeping Story","Sad","Neutral"],color:"#1E90FF",use_case:"A smooth, lower-pitch male voice, perfect for deep, calming meditation or sleep stories."},{conceptualName:"Algenib",apiName:"Algenib",gender:"Male",category:"Character",language:"English",tones:["Horror Story","Crime Story","Ancient","Fearful","Whispering","Taunting"],color:"#1E90FF",use_case:"A gravelly, lower-pitch male voice for villains, horror stories, or ancient characters."},{conceptualName:"Rasalgethi",apiName:"Rasalgethi",gender:"Male",category:"Narration",language:"English",tones:["Documentary","History","Fact","Formal","Ancient"],color:"#1E90FF",use_case:"An informative, middle-pitch male voice, ideal for educational and historical content."},{conceptualName:"Alnilam",apiName:"Alnilam",gender:"Male",category:"Formal",language:"English",tones:["Formal","Fact","Motivational"],color:"#1E90FF",use_case:"A firm, lower-middle pitch male voice for powerful and assertive narration."},{conceptualName:"Schedar",apiName:"Schedar",gender:"Male",category:"Narration",language:"English",tones:["Neutral","Calm","Formal"],color:"#1E90FF",use_case:"An even, lower-middle pitch male voice for stable and balanced narration."},{conceptualName:"Gacrux",apiName:"Gacrux",gender:"Male",category:"Storytelling",language:"English",tones:["History","Documentary","Ancient","Islamic History"],color:"#1E90FF",use_case:"A mature, middle-pitch male voice, like a seasoned storyteller for historical epics."},{conceptualName:"Achird",apiName:"Achird",gender:"Male",category:"Creative",language:"English",tones:["Happy","Cheerful","Neutral"],color:"#1E90FF",use_case:"A friendly, lower-middle pitch male voice for conversational and welcoming content."},{conceptualName:"Zubenelgenubi",apiName:"Zubenelgenubi",gender:"Male",category:"Creative",language:"English",tones:["Neutral","Calm"],color:"#1E90FF",use_case:"A casual, lower-middle pitch male voice for relaxed, everyday narration."},{conceptualName:"Sadachbia",apiName:"Sadachbia",gender:"Male",category:"Dynamic",language:"English",tones:["Dynamic","Excited","Happy"],color:"#1E90FF",use_case:"A lively, lower-pitch male voice for energetic and engaging content."},{conceptualName:"Sadaltager",apiName:"Sadaltager",gender:"Male",category:"Narration",language:"English",tones:["Fact","Documentary","History","Formal"],color:"#1E90FF",use_case:"A knowledgeable, middle-pitch male voice for expert commentary and explainers."}],qu=i=>new Promise((n,a)=>{const s=new FileReader;s.readAsDataURL(i),s.onload=()=>n(s.result),s.onerror=l=>a(l)}),Ig=(i,n=2)=>{if(i===0)return"0 Bytes";const a=1024,s=n<0?0:n,l=["Bytes","KB","MB","GB"],c=Math.floor(Math.log(i)/Math.log(a));return parseFloat((i/Math.pow(a,c)).toFixed(s))+" "+l[c]},Mg=()=>{let i=localStorage.getItem("deviceId");return i||(i=crypto.randomUUID(),localStorage.setItem("deviceId",i)),i};function Fs(i){const n=atob(i),a=n.length,s=new Uint8Array(a);for(let l=0;l<a;l++)s[l]=n.charCodeAt(l);return s}async function iC(i,n,a,s){const l=new Int16Array(i.buffer),c=l.length/s,f=n.createBuffer(s,c,a);for(let p=0;p<s;p++){const y=f.getChannelData(p);for(let m=0;m<c;m++)y[m]=l[m*s+p]/32768}return f}const Ya=(i,n,a,s)=>{const l=i.length,c=new ArrayBuffer(44+l),f=new DataView(c),p=(_,S)=>{for(let E=0;E<S.length;E++)f.setUint8(_+E,S.charCodeAt(E))},y=a*(s/8),m=n*y;return p(0,"RIFF"),f.setUint32(4,36+l,!0),p(8,"WAVE"),p(12,"fmt "),f.setUint32(16,16,!0),f.setUint16(20,1,!0),f.setUint16(22,a,!0),f.setUint32(24,n,!0),f.setUint32(28,m,!0),f.setUint16(32,y,!0),f.setUint16(34,s,!0),p(36,"data"),f.setUint32(40,l,!0),new Uint8Array(c,44).set(i),new Blob([f],{type:"audio/wav"})},oC=(i,n=2800)=>{if(!i)return[];const a=i.split(/(\r\n|\n){2,}/).filter(c=>c&&c.trim().length>0);if(a.length===0)return[];const s=[];let l=a[0];for(let c=1;c<a.length;c++){const f=a[c];l.length+f.length+2>n?(s.push(l),l=f):l+=`

`+f}return l.length>0&&s.push(l),s},pl=i=>{if(isNaN(i)||i<0)return"00:00";const n=Math.floor(i/60),a=Math.floor(i%60);return`${n.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`},dl=i=>{if(!i||i.trim()==="")return!1;const n=i.replace(/```json/g,"").replace(/```/g,"").trim();if(!n)return!1;try{return JSON.parse(n),!0}catch{return!1}},aC=i=>{const n=i.message.toLowerCase();return i.details&&i.details.toLowerCase(),n.includes("all api keys have been disabled")||n.includes("all keys permanently failed")?{en:"All API Keys Exhausted. All enabled API keys have reached their free usage limit for today. Please wait for the daily reset, add new keys, or upgrade to a paid plan.",bn:" API Key       API Key-            ,  Key  ,     "}:n.includes("quota")||n.includes("limit: 0")||n.includes("resource_exhausted")?{en:"API Quota Exceeded. The free usage limit for this API key has been reached for today. Please wait for it to reset, use another key, or upgrade to a paid plan.",bn:"API    API Key-                ,  Key  ,     "}:n.includes("api key not valid")||n.includes("api_key_invalid")?{en:"Invalid API Key. The provided API key is incorrect or has been disabled. Please check the key in your API Key Management section.",bn:" API Key   API Key-        API Key Management   Key-  "}:n.includes("paused_by_circuit_breaker")?{en:"Paused by Circuit Breaker. The process was automatically stopped after multiple consecutive API failures to protect your resources. Check previous errors to identify the root cause.",bn:"      API                 error- "}:n.includes("safety")||n.includes("blocked")?{en:"Content blocked by Safety Policy. The AI refused to generate the content based on the prompt due to safety filters. Please try rephrasing the prompt for the failed item.",bn:"          AI                      "}:n.includes("network error")||n.includes("fetch")?{en:"Network Error. Could not connect to the Google API server. Please check your internet connection.",bn:"  Google API               "}:{en:"An unexpected error occurred. Please check the technical details for more information.",bn:"           "}},Bd=({src:i,onDownload:n,title:a})=>{const s=se.useRef(null),[l,c]=se.useState(!1),[f,p]=se.useState(0),[y,m]=se.useState(0),_=()=>{s.current&&(l?s.current.pause():s.current.play(),c(!l))},S=()=>{s.current&&m(s.current.currentTime)},E=()=>{s.current&&p(s.current.duration)},C=D=>{s.current&&(s.current.currentTime=Number(D.target.value),m(Number(D.target.value)))};return v.jsxs("div",{className:"custom-audio-player",children:[v.jsx("audio",{ref:s,src:i,onTimeUpdate:S,onLoadedMetadata:E,onEnded:()=>c(!1)}),v.jsx("button",{onClick:_,className:"player-play-btn",children:l?v.jsx(JA,{}):v.jsx(sy,{})}),v.jsxs("div",{className:"player-progress-bar-container",children:[a&&v.jsxs("strong",{children:[a,":"]}),v.jsx("input",{type:"range",min:"0",max:f||0,value:y,onChange:C,className:"player-seek-slider"}),v.jsxs("span",{className:"player-time-display",children:[pl(y)," / ",pl(f)]})]}),v.jsx("button",{onClick:n,className:"player-download-btn",title:"Download Audio",children:v.jsx(Ou,{})})]})},sC=({onConfirm:i,onCancel:n,imageCount:a,isAutopilot:s})=>v.jsx("div",{className:"confirmation-modal-overlay",children:v.jsxs("div",{className:"confirmation-modal-content",children:[v.jsx("h3",{children:"Confirm Generation"}),v.jsxs("p",{children:["You are about to generate prompts and ",v.jsxs("strong",{children:[a," images"]}),". This may take some time."]}),s&&v.jsxs("p",{className:"autopilot-warning",children:[v.jsx("strong",{children:"Autopilot is ON."})," The app will automatically retry failed images and download the ZIP/prompts when complete."]}),v.jsx("p",{children:"Do you want to proceed?"}),v.jsxs("div",{className:"confirmation-modal-actions",children:[v.jsx("button",{onClick:n,className:"cancel-btn",children:"Cancel"}),v.jsx("button",{onClick:i,className:"confirm-btn",children:"Confirm & Generate"})]})]})}),rC=({onConfirm:i,onCancel:n,fromModel:a,toModel:s})=>v.jsx("div",{className:"confirmation-modal-overlay",children:v.jsxs("div",{className:"confirmation-modal-content",children:[v.jsx("h3",{children:"Prompt Mismatch Warning"}),v.jsxs("p",{children:['Your video prompts were generated for the "',v.jsx("strong",{children:a}),'" model, but you are about to generate videos with "',v.jsx("strong",{children:s}),'".']}),v.jsx("p",{children:"The prompt style may not be optimal. You can cancel to review and edit the video prompts, or proceed with the generation anyway."}),v.jsxs("div",{className:"confirmation-modal-actions",children:[v.jsx("button",{onClick:n,className:"cancel-btn",children:"Cancel & Edit"}),v.jsx("button",{onClick:i,className:"confirm-btn",children:"Proceed Anyway"})]})]})}),lC=({projectName:i,onConfirm:n,onCancel:a})=>v.jsx("div",{className:"confirmation-modal-overlay",children:v.jsxs("div",{className:"confirmation-modal-content",children:[v.jsx("h3",{children:"Delete Project"}),v.jsxs("p",{children:['Are you sure you want to permanently delete the project "',v.jsx("strong",{children:i}),'"?']}),v.jsx("p",{children:"This action cannot be undone."}),v.jsxs("div",{className:"confirmation-modal-actions",children:[v.jsx("button",{onClick:a,className:"cancel-btn",children:"Cancel"}),v.jsx("button",{onClick:n,className:"confirm-btn delete-confirm-btn",children:"Delete"})]})]})}),uC=({onConfirm:i,onCancel:n})=>v.jsx("div",{className:"confirmation-modal-overlay",children:v.jsxs("div",{className:"confirmation-modal-content",children:[v.jsx("h3",{children:"Clear All Projects"}),v.jsxs("p",{children:["Are you sure you want to permanently delete ",v.jsx("strong",{children:"ALL"})," saved projects from your browser?"]}),v.jsx("p",{children:"This action cannot be undone. Your settings and API keys will not be affected."}),v.jsxs("div",{className:"confirmation-modal-actions",children:[v.jsx("button",{onClick:n,className:"cancel-btn",children:"Cancel"}),v.jsx("button",{onClick:i,className:"confirm-btn delete-confirm-btn",children:"Confirm & Delete All"})]})]})}),Dg=Tv.forwardRef(({title:i,icon:n,logs:a,onClear:s,type:l},c)=>{const[f,p]=se.useState(null);if(a.length===0)return null;const y=_=>l==="error",m=_=>{const S=y()?`Timestamp: ${_.timestamp}
Operation: ${_.operation}
Title: ${_.title}
Message: ${_.message}

Details:
${_.details}`:`Timestamp: ${_.timestamp}
Message: ${_.message}`;navigator.clipboard.writeText(S),p(_.id),setTimeout(()=>p(null),2e3)};return v.jsxs("div",{ref:c,className:`log-card ${l}-log-card card`,children:[v.jsxs("div",{className:"log-header",children:[v.jsxs("h3",{children:[n," ",i," (",a.length,")"]}),v.jsx("button",{onClick:s,className:"clear-log-btn",children:"Clear Log"})]}),v.jsx("div",{className:"log-list",children:a.map(_=>{const S=y()?aC(_):null;return v.jsxs("details",{className:"log-item",open:!0,style:{position:"relative"},children:[y()&&v.jsx("button",{onClick:()=>m(_),title:"Copy Log Details",style:{position:"absolute",top:"10px",right:"10px",background:"var(--bg-main)",border:"1px solid var(--border)",color:"var(--text-secondary)",cursor:"pointer",borderRadius:"4px",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",padding:0,zIndex:1},children:f===_.id?v.jsx(fl,{}):v.jsx(jd,{})}),v.jsxs("summary",{children:[v.jsx("span",{className:"log-timestamp",children:_.timestamp}),y()&&v.jsx("strong",{className:"log-operation",children:_.operation}),v.jsx("span",{className:"log-title",children:y()?_.title:_.message})]}),y()&&v.jsxs("div",{className:"log-details",children:[v.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid var(--border)",borderRadius:"var(--base-radius)",padding:"0.75rem",margin:"0.75rem 0 0 0",fontSize:"0.9rem",whiteSpace:"pre-wrap"},children:[v.jsxs("p",{children:[v.jsx("strong",{children:"[EN] Summary:"})," ",S==null?void 0:S.en]}),v.jsxs("p",{children:[v.jsx("strong",{children:"[BN] :"})," ",S==null?void 0:S.bn]})]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Message:"})," ",_.message]}),_.details&&v.jsxs("pre",{children:[v.jsx("strong",{children:"Technical Details:"}),v.jsx("code",{children:_.details})]})]})]},_.id)})})]})});function cC(){const[i,n]=se.useState(!0),[a,s]=se.useState(""),[l,c]=se.useState(""),[f,p]=se.useState(""),[y,m]=se.useState(""),[_,S]=se.useState(""),[E,C]=se.useState("Please enter your details to access the application."),[D,w]=se.useState(!1),[M,N]=se.useState(""),U=se.useRef(M);se.useEffect(()=>{U.current=M},[M]);const[L,q]=se.useState([]),[O,ee]=se.useState([]),[J,pe]=se.useState([]),[Z,ye]=se.useState(!1),[Me,V]=se.useState(!1),[re,b]=se.useState(!1),[de,X]=se.useState(1),[$,Ie]=se.useState(0),[he,ke]=se.useState(12),[I,B]=se.useState("16:9"),[fe,ce]=se.useState([]),[me,Le]=se.useState([]),[Ye,Je]=se.useState("Default"),[Fe,bt]=se.useState("text"),[pt,rn]=se.useState(""),[$t,x]=se.useState(!1),[_e,ue]=se.useState(!1),[G,z]=se.useState([]),[j,Ce]=se.useState(!1),[xe,ne]=se.useState(""),Ne=se.useRef(null),De=se.useRef(null),[Re,qe]=se.useState("dark"),[et,je]=se.useState("dark"),[Yt,Wn]=se.useState([]),[Qt,ki]=se.useState(""),[tt,kt]=se.useState([]),[Cn,Nt]=se.useState([]),[va,Ka]=se.useState(null),[bo,No]=se.useState("imagen-4.0-generate-001"),We=se.useRef(!1),[ei,fn]=se.useState(!1),[Ro,Io]=se.useState(0),[ml,Xs]=se.useState(null),[Tt,Ui]=se.useState("My AI Project"),[gl,$s]=se.useState([]),[_a,yl]=se.useState(""),[ja,Za]=se.useState(!1),[Xa,Mo]=se.useState(!1),[gn,Et]=se.useState([{id:crypto.randomUUID(),userDescription:"",aiDescription:"",image:null}]),[ln,Zi]=se.useState(null),[Qs,vl]=se.useState(!1),_l=se.useRef({}),[$a,Sa]=se.useState(!1),[Ta,Do]=se.useState(!1),[Pi,Ea]=se.useState(!1),[hn,Gt]=se.useState("poorly drawn hands, blurry, watermark, text, signature, deformed, ugly, bad anatomy"),[ko,Sl]=se.useState(!0),[ti,Li]=se.useState([]),[Qa,Ws]=se.useState(""),[ni,Tl]=se.useState("Veo 3.1"),[gi,Uo]=se.useState(null),[Jt,yn]=se.useState("image-driven"),[Aa,El]=se.useState(!1),[Po,er]=se.useState(!1),[Xi,Al]=se.useState(!1),[vn,Wa]=se.useState(!1),[es,tr]=se.useState(""),[$i,nr]=se.useState(!1),[Kt,xn]=se.useState(""),Ca=se.useRef(Kt);se.useEffect(()=>{Ca.current=Kt},[Kt]);const[Qi,ts]=se.useState(""),[Lt,xa]=se.useState({voice:"Zephyr",tone:"Neutral",speed:1}),[ns,Lo]=se.useState(!1),[ii,is]=se.useState(null),[os,Wi]=se.useState(null),[Vn,wa]=se.useState(null),[as,ba]=se.useState(null),[zo,oi]=se.useState(!1),zi=se.useRef(!1),qn=se.useRef(null),[ai,ir]=se.useState(!1),[Na,or]=se.useState(!1),[yi,ss]=se.useState(!1),[ar,un]=se.useState(!1),[vi,Ra]=se.useState(null),Rt=se.useRef(L);se.useEffect(()=>{Rt.current=L},[L]);const wn=se.useRef(tt);se.useEffect(()=>{wn.current=tt},[tt]);const Fn=se.useRef(Ro);se.useEffect(()=>{Fn.current=Ro},[Ro]);const[sr,Bi]=se.useState(!1),[rs,Ia]=se.useState(null),[rr,Qu]=se.useState({used:"0",percentage:0}),[lr,ur]=se.useState("All Tones"),[Ma,Cl]=se.useState({}),[Wu,cr]=se.useState(!1),si=se.useRef(0),[bn,Bo]=se.useState(!1),[ls,xl]=se.useState(!1),[_i,dr]=se.useState(!1),[us,Go]=se.useState([]),[fr,Si]=se.useState(!1),Vo=se.useRef(fr);se.useEffect(()=>{Vo.current=fr},[fr]);const wl=se.useRef(null),bl=se.useRef(null),[Gi,hr]=se.useState(""),[pr,mr]=se.useState(""),[qo,ec]=se.useState([]),[Wt,Ti]=se.useState({}),[tc,cs]=se.useState(!1),[Nl,ds]=se.useState(!1),Vi=se.useRef(!1),[ri,Vt]=se.useState([]),[gr,fs]=se.useState(!1),Nn=se.useRef(!1),Rn=se.useRef(ri);se.useEffect(()=>{Rn.current=ri},[ri]);const[yr,Fo]=se.useState(!1),[Da,vr]=se.useState(!1),[Be,en]=se.useState(null),[_n,qi]=se.useState(!1),[Ho,_r]=se.useState(!0),[eo,Rl]=se.useState(!0),[Il,nc]=se.useState(!0),[hs,Sr]=se.useState("any"),[ic,tn]=se.useState(0),nn=se.useRef(null),Ei=se.useRef(!1),[Tr,oc]=se.useState([{id:1,text:"Rephrase Script for Copyright"},{id:2,text:"Analyze Script, Characters & Style"},{id:3,text:"Generate Image Prompts & Images"},{id:4,text:"Generate Video Prompts"},{id:5,text:"Prepare & Download Assets (Images & Prompts)"},{id:6,text:"Generate & Download Voiceover"}]),[ps,Oo]=se.useState(!1),ka=se.useRef(!1),Sn=T=>{if(T)return new Lu({apiKey:T});const k=wn.current;if(k.length===0)throw new Error("No API Key available. Please add and enable a key in 'API Key Management'.");const P=Fn.current%k.length,H=k[P];return new Lu({apiKey:H})},Ze=(T,k,P={})=>{var Ee;let H=`Error during ${k}`,K="An unknown error occurred.",W=T;if(T instanceof Error?(K=T.message,K.includes("fetch")&&(H="Network Error",K="Could not connect to API. Check internet connection.")):typeof T=="string"&&(K=T),T!=null&&T.message)try{const we=JSON.parse(T.message);(Ee=we.error)!=null&&Ee.message&&(K=we.error.message,W=we.error)}catch{}const ve={id:Date.now(),timestamp:new Date().toLocaleTimeString(),title:H,message:K,operation:k,details:JSON.stringify({error:W,context:P},null,2)};ee(we=>[ve,...we]),oe(`${H}: ${K.substring(0,50)}...`,!0)},on=async(T,k,P,H)=>{var we,Te,be;let W=!1,ve=0,Ee=null;for(;!W&&ve<5;){if(We.current)throw new Error("stopped");if(Vo.current)throw new Error("All API keys have been disabled due to permanent errors. Please check your keys.");ve++;const Pe=wn.current.filter(Ge=>!us.includes(Ge));if(Pe.length===0)throw wn.current.length>0&&us.length>=wn.current.length?new Error("All available API keys have been disabled due to permanent errors. Please check your keys."):new Error("No enabled & active API keys.");let He=null;const ut=Date.now();let xt=-1;for(let Ge=0;Ge<Pe.length;Ge++){const st=(Fn.current+Ge)%Pe.length,it=Pe[st],qt=Ma[it];if(!qt||ut>qt){xt=st;break}}if(xt!==-1){const Ge=Pe[Fn.current];He=Pe[xt],Io(xt),Ge!==He&&oe(`Switching to API Key: ...${He.slice(-4)}`)}else{let Ge=1/0;Object.values(Ma).forEach(it=>{it<Ge&&(Ge=it)});const st=Math.max(0,Ge-ut);oe(`All keys on cooldown. Waiting ${Math.round(st/1e3)}s...`),await new Promise(it=>setTimeout(it,st+500));continue}try{if(Ee=await Sn(He).models.generateContent({model:T,contents:k}),H&&!H(Ee.text))throw new Error("Content validation failed: AI returned invalid format or empty response.");W=!0,si.current=0}catch(Ge){const st=He;if(Ge.message.includes("Content validation failed")?Ze(Ge,`Content Error on ${P}`,{apiKey:st,attempt:ve}):Ze(Ge,`API Error on ${P}`,{apiKey:st,attempt:ve}),((we=Ge.message)==null?void 0:we.includes("limit: 0"))||((Te=Ge.message)==null?void 0:Te.includes("API key not valid"))||((be=Ge.message)==null?void 0:be.includes("API_KEY_INVALID")))Go(yt=>{const Jn=[...new Set([...yt,st])];return Jn.length>=wn.current.length&&Si(!0),Jn}),oe(`API Key ...${st.slice(-4)} is invalid or has billing issues. Disabling for this session.`,!0);else if(Cl(yt=>({...yt,[st]:Date.now()+61e3})),si.current++,si.current>=3)throw oe("Circuit Breaker: Paused due to 3 consecutive API errors. Check your keys and logs.",!0),Bo(!0),We.current=!0,new Error("PAUSED_BY_CIRCUIT_BREAKER");await new Promise(yt=>setTimeout(yt,500))}}if(!W){const Pe=new Error(`Failed operation "${P}" after 5 attempts across all keys.`);throw Ze(Pe,`Total Failure on ${P}`),Pe}return Ee},oe=(T,k=!1)=>{const P=Date.now(),H=new Date().toLocaleTimeString();Nt(K=>[...K,{id:P,message:T}]),k||pe(K=>[{id:P,timestamp:H,message:T},...K]),setTimeout(()=>{Nt(K=>K.filter(W=>W.id!==P))},4e3)},ms=async()=>{try{const T=await cl.getAllProjectNames();$s(T.sort())}catch(T){Ze(T,"loading project list")}},li=async()=>{if(navigator.storage&&navigator.storage.estimate){const T=await navigator.storage.estimate(),k=(T.usage||0)/1024/1024,P=(T.quota||0)/1024/1024,H=P>0?Math.min(k/P*100,100):0;Qu({used:k.toFixed(2),percentage:H})}};se.useEffect(()=>{const T=localStorage.getItem("userEmail"),k=localStorage.getItem("userName");T&&s(T),k&&c(k),(async()=>{const H=localStorage.getItem("expiryDate"),K=localStorage.getItem("userPhone");if(T&&H&&k){const W=new Date(H);if(new Date<W){w(!0),C("Verifying your license...");const ve="https://script.google.com/macros/s/AKfycbw48T5zd0wizhXYRdiHXywc7Id9RsiNeEmLgst83xCzOvexr2DC8ZhWf1klP2RNFcPWxQ/exec",Ee=Mg();try{const Te=await(await fetch(ve,{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({email:T,username:k,phoneNumber:K||"",deviceId:Ee}),redirect:"follow"})).json();Te.success?(localStorage.setItem("expiryDate",Te.expiryDate),n(!1)):(n(!0),C(Te.message||"Your license is no longer valid. Please log in again."),localStorage.removeItem("userEmail"),localStorage.removeItem("expiryDate"),localStorage.removeItem("userName"),localStorage.removeItem("userPhone"))}catch{n(!0),C("Could not connect to the verification server. Please check your internet connection.")}finally{w(!1)}}else n(!0),C("Your license has expired. Please log in again."),localStorage.clear()}else n(!0),C("Please enter your details to access the application.")})()},[]),se.useEffect(()=>{const T=localStorage.getItem("appTheme")||"dark";qe(T);const k=localStorage.getItem("appPalette")||"dark";je(k);const P=JSON.parse(localStorage.getItem("apiKeys")||"[]"),H=JSON.parse(localStorage.getItem("enabledApiKeys")||"[]");Wn(P),kt(H);const K=JSON.parse(localStorage.getItem("stylePresets")||"[]");Li(K);const W=localStorage.getItem("veoApiKey");W&&(hr(W),mr(W)),ms(),li()},[]),se.useEffect(()=>{document.body.setAttribute("data-theme",Re),document.body.setAttribute("data-palette",et),localStorage.setItem("appTheme",Re),localStorage.setItem("appPalette",et)},[Re,et]),se.useEffect(()=>{const T=de*60+($||0);T>0?ke(Math.ceil(T/5)):ke(1)},[de,$]),se.useEffect(()=>{const T=()=>{!ls&&window.pageYOffset>400?xl(!0):ls&&window.pageYOffset<=400&&xl(!1)};return window.addEventListener("scroll",T),()=>{window.removeEventListener("scroll",T)}},[ls]),se.useEffect(()=>{const T=()=>{Bi(!1),Ia(null)};return window.addEventListener("drop",T,!0),window.addEventListener("dragend",T,!0),()=>{window.removeEventListener("drop",T,!0),window.removeEventListener("dragend",T,!0)}},[]);const Yo=()=>{window.scrollTo({top:0,behavior:"smooth"})},Er=async()=>{m(""),S("");const T=a.trim();if(!T||!/\S+@\S+\.\S+/.test(T)||!l.trim()||!f.trim()){m("Please enter a valid email, your name, and your phone number.");return}w(!0);const k="https://script.google.com/macros/s/AKfycbw48T5zd0wizhXYRdiHXywc7Id9RsiNeEmLgst83xCzOvexr2DC8ZhWf1klP2RNFcPWxQ/exec",P=Mg();try{const K=await(await fetch(k,{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({email:T,username:l.trim(),phoneNumber:f.trim(),deviceId:P}),redirect:"follow"})).json();if(K.success)localStorage.setItem("userEmail",K.email),localStorage.setItem("expiryDate",K.expiryDate),localStorage.setItem("userName",l.trim()),f.trim()&&localStorage.setItem("userPhone",f.trim()),n(!1),oe("Application unlocked successfully!");else{const W=K.message||"Verification failed. Please try again.";W.includes("pending")||W.includes("successful")?S(W):m(W)}}catch(H){console.error("Verification error:",H),m("Could not connect to the verification server. Check your internet connection.")}finally{w(!1)}},Ml=()=>{if(Qt&&!Yt.includes(Qt)){const T=[...Yt,Qt];Wn(T),localStorage.setItem("apiKeys",JSON.stringify(T)),Ar(Qt,!0),ki(""),oe("API Key added and enabled.")}},to=T=>{const k=Yt.filter(H=>H!==T),P=tt.filter(H=>H!==T);Wn(k),kt(P),localStorage.setItem("apiKeys",JSON.stringify(k)),localStorage.setItem("enabledApiKeys",JSON.stringify(P)),oe("API Key removed.")},Ar=(T,k=!1)=>{kt(P=>{const H=P.includes(T);let K;return k?K=[...new Set([...P,T])]:K=H?P.filter(W=>W!==T):[...P,T],localStorage.setItem("enabledApiKeys",JSON.stringify(K)),K})},Dl=T=>{ce(k=>k.includes(T)?k.filter(P=>P!==T):[...k,T])},kl=T=>{Le(k=>k.includes(T)?k.filter(P=>P!==T):[...k,T])},ac=T=>{var P;const k=(P=T.target.files)==null?void 0:P[0];if(k){rn(k.name);const H=new FileReader;H.onload=K=>{var W;N((W=K.target)==null?void 0:W.result)},H.readAsText(k)}},sc=T=>{z(k=>k.filter(P=>P.name!==T))},Ul=(T,k)=>{navigator.clipboard.writeText(T),oe("Copied to clipboard!"),Xs(k),setTimeout(()=>{Xs(null)},2e3)},gs=async T=>{const k=[];for(const P of T)if(P.type.startsWith("image/")){const H=await qu(P);k.push({name:P.name,size:Ig(P.size),dataUrl:H,file:P})}z(P=>[...P,...k]),k.length>0&&ys(k[0].file)},Pl=T=>{const k=T.target.files;!k||k.length===0||gs(Array.from(k))},Cr=T=>{T.preventDefault(),T.stopPropagation(),Bi(!1);const k=T.dataTransfer.files;k&&k.length>0&&gs(Array.from(k))},Hn=async T=>{const k=T.clipboardData.items;for(const P of k)if(P.type.indexOf("image")!==-1){const H=P.getAsFile();H&&gs([H])}},ys=async T=>{b(!0),oe("Analyzing reference image... Est. time: ~10s");try{const k=(await qu(T)).split(",")[1],P={inlineData:{mimeType:T.type,data:k}},H=`Analyze this image to identify its primary themes and artistic modifiers. Your response MUST be a single, comma-separated string of keywords. You MUST ONLY use keywords from these two lists, prioritizing the most dominant visual elements:
- Themes: ${Gu.join(", ")}
- Modifiers: ${Vu.join(", ")}

Your response should be only the keywords. Example response: Horror, Cinematic, 4K, Film Grain`,W=(await on("gemini-2.5-flash",{parts:[P,{text:H}]},"image style analysis")).text;if(W){const ve=W.split(",").map(Ee=>Ee.trim());ce(Ee=>[...new Set([...Ee,...ve.filter(we=>Gu.includes(we))])]),Le(Ee=>[...new Set([...Ee,...ve.filter(we=>Vu.includes(we))])]),oe("Styles auto-detected from image!")}}catch(k){k.message!=="stopped"&&Ze(k,"image analysis")}finally{b(!1)}},In=async(T,k,P)=>{var W;q(ve=>ve.map((Ee,we)=>we===T?{...Ee,imageStatus:"loading",error:void 0}:Ee));const H=new Lu({apiKey:P});let K="";if(bo==="imagen-4.0-generate-001"){let ve=k;ko&&hn.trim()&&(ve=`${k}, negative prompt: ${hn.trim()}`);const Ee={numberOfImages:1,outputMimeType:"image/jpeg",aspectRatio:I},we=await H.models.generateImages({model:"imagen-4.0-generate-001",prompt:ve,config:Ee});if(!we.generatedImages||we.generatedImages.length===0||!((W=we.generatedImages[0].image)!=null&&W.imageBytes))throw new Error("Image generation failed, likely due to a safety policy violation. The response did not contain image data.");K=`data:image/jpeg;base64,${we.generatedImages[0].image.imageBytes}`}else{let ve=k;ko&&hn.trim()&&(ve=`${k}, do not include the following: ${hn.trim()}`);const Ee=await H.models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{text:ve}]},config:{responseModalities:[Mi.IMAGE]}});for(const we of Ee.candidates[0].content.parts)if(we.inlineData){const Te=we.inlineData.data;K=`data:${we.inlineData.mimeType};base64,${Te}`;break}if(!K)throw new Error("Nano Banana model did not return an image.")}return q(ve=>ve.map((Ee,we)=>we===T?{...Ee,imageUrl:K,imageStatus:"completed"}:Ee)),K},Jo=T=>{L[T].image_prompt,Ss(T),oe(`Regenerating image for Scene ${T+1}...`)},Ua=(T,k,P)=>{q(H=>H.map((K,W)=>W===T?P==="image"?{...K,image_prompt:k}:{...K,video_prompt:k}:K))},vs=()=>{We.current=!0,oe("Stopping generation process...")},Pa=async(T,k="any",P=!1)=>{if(T.trim()){oi(!0),oe("AI is auto-configuring voiceover settings... Est. time: ~20s");try{const W=`You are an expert script analyst and voiceover director. Your task is to analyze the following script and automatically generate the optimal configuration for an AI Text-to-Speech (TTS) engine.
    
    **Available TTS Voices:**
    ${qs.filter(be=>k==="any"||be.gender.toLowerCase()===k).map(be=>`${be.conceptualName} (${be.gender}, API: ${be.apiName})`).join("; ")}
    
    **Your instructions are:**
    1.  **Extract Voiceover Text:** Read the script and extract only the dialogue and narration parts suitable for a single voiceover. Omit all scene headings, action descriptions, camera directions (e.g., "EXT. FOREST - DAY"), and character names in parentheses. The result should be a clean, readable script for the TTS engine.
    2.  **Select the Best Voice:** Based on the script's theme, tone, and content, choose the most appropriate voice from the **Available TTS Voices** list. You must return its unique name (e.g., "Aria (Narrator)").
    3.  **Suggest Speaking Speed:** Recommend an ideal speaking speed as a number between 0.7 (very slow) and 1.3 (very fast). The default is 1.0.
    4.  **Create a Custom Prompt:** Write a detailed, descriptive custom prompt for the AI voice. This prompt should guide the emotion, tone, and delivery style. For example: "Spoken with a sense of urgency and fear, as if being chased." or "A calm, reassuring narrator telling a bedtime story."
    5.  **Format the Output:** You MUST return your response as a single, valid JSON object. Do not include any other text, explanations, or markdown formatting. The JSON object must have these exact keys: "voiceoverScript", "selectedVoice", "suggestedSpeed", "customPrompt".
    
    **Here is the script:**
    ---
    ${T}
    ---`,we=(await on("gemini-2.5-pro",W,"auto-configure voiceover",dl)).text.replace(/```json/g,"").replace(/```/g,"").trim(),Te=JSON.parse(we);Te.voiceoverScript&&xn(Te.voiceoverScript),Te.customPrompt&&ts(Te.customPrompt),!P&&Te.selectedVoice&&qs.some(be=>be.conceptualName===Te.selectedVoice)&&xa(be=>({...be,voice:Te.selectedVoice})),typeof Te.suggestedSpeed=="number"&&xa(be=>({...be,speed:Math.max(.7,Math.min(1.3,Te.suggestedSpeed))})),oe("Voiceover section has been auto-configured by AI!")}catch(H){H.message!=="stopped"&&Ze(H,"auto-configure voiceover")}finally{oi(!1)}}},_s=async()=>{if(!M.trim()){oe("Please provide a script to work with.");return}Ce(!0),We.current=!1,ne("");try{if(_i){ne("Analyzing topic and generating a new story..."),oe("Generating a new, unique story based on the current script's topic...");const T=`You are a creative storyteller. Analyze the following script to understand its core topic, theme, and style. Then, write a completely new and original script about the same topic. The new story's structure, characters, specific events, and narrative flow MUST be entirely unique. The goal is to create content that is not "Reused Content" by YouTube's standards. The script should be suitable for a video of similar length to the original. Respond ONLY with the newly generated script text, without any additional comments, introductions, or formatting.

ORIGINAL SCRIPT for TOPIC ANALYSIS:
---
${M}
---`,P=(await on("gemini-2.5-pro",T,"generate unique story")).text;if(P&&P.trim().length>10)N(P),xn(P),U.current=P,Ca.current=P,oe("New story generated and updated in main script and voiceover sections!");else throw new Error("AI failed to return a valid new script. The response was empty or too short.")}else{const T=oC(M,15e3),k=new Array(T.length);oe(`Script split into ${T.length} paragraphs. Rephrasing paragraph by paragraph...`);for(let H=0;H<T.length;H++){if(We.current)throw new Error("stopped");ne(`Rephrasing paragraph ${H+1} of ${T.length}...`);const K=T[H],ve=`You are a professional scriptwriter. Rephrase the following paragraph to make it unique and avoid copyright issues, while keeping the original story, meaning, and tone intact. ${H>0?`For context, the previous *original* paragraph was: "${T[H-1]}". Ensure a smooth transition from that point.`:"This is the beginning of the script."} Respond only with the rephrased paragraph.

ORIGINAL PARAGRAPH:
"${K}"`,we=(await on("gemini-2.5-pro",ve,`rephrasing chunk ${H+1}`)).text;we?k[H]=we.trim():(k[H]=K,console.warn(`AI failed to rephrase paragraph ${H+1}. Keeping original.`))}if(We.current)throw new Error("stopped");const P=k.join(`

`);N(P),xn(P),U.current=P,Ca.current=P,oe("Full script rephrased and updated in voiceover section!")}}catch(T){T.message!=="stopped"?Ze(T,_i?"generate unique story":"rephrase script"):oe(_i?"New story generation stopped.":"Rephrasing stopped.")}finally{Ce(!1),ne("")}},no=async()=>{if(!M.trim()){oe("Please write or generate a script first.");return}if(fe.length===0){oe("Please select at least one primary theme.");return}if(me.length===0){oe("Please select at least one artistic modifier.");return}fn(!0)},Ss=async(T,k)=>{var ve,Ee,we;let P=!1,H=null,K=0;const W=wn.current.length>1?wn.current.length*2:3;for(;!P&&K<W&&!We.current;){if(Vo.current){H=new Error("ALL_KEYS_FAILED");break}K++;const Te=Rt.current[T].image_prompt,be=wn.current.filter(Ge=>!us.includes(Ge));if(be.length===0){H=new Error("All enabled API keys have been disabled due to permanent errors. Please check your API keys."),q(st=>st.map((it,qt)=>T===qt?{...it,imageStatus:"failed",error:"Failed: All Keys Disabled."}:it));break}const Pe=Date.now();let He=-1;for(let Ge=0;Ge<be.length;Ge++){const st=(Fn.current+Ge)%be.length,it=be[st];if(!Ma[it]||Pe>Ma[it]){He=st;break}}if(He===-1){let Ge=1/0;Object.values(Ma).forEach(it=>{it<Ge&&(Ge=it)});const st=Math.max(0,Ge-Pe);q(it=>it.map((qt,yt)=>T===yt?{...qt,imageStatus:"retrying",error:`All keys on cooldown. Waiting ${Math.round(st/1e3)}s...`}:qt)),await new Promise(it=>setTimeout(it,st+500));continue}const ut=be[Fn.current%be.length]||be[0],xt=be[He];Io(wn.current.indexOf(xt)),ut!==xt&&oe(`Switching to API Key: ...${xt.slice(-4)}`);try{await In(T,Te,xt),P=!0,si.current=0}catch(Ge){H=Ge;const st=xt;if(((ve=Ge.message)==null?void 0:ve.includes("limit: 0"))||((Ee=Ge.message)==null?void 0:Ee.includes("API key not valid"))||((we=Ge.message)==null?void 0:we.includes("API_KEY_INVALID"))){Go(En=>{const an=[...new Set([...En,st])];return an.length>=wn.current.length&&Si(!0),an}),oe(`API Key ...${st.slice(-4)} has a permanent error. Disabling for this session.`,!0),q(En=>En.map((an,Kn)=>T===Kn?{...an,imageStatus:"retrying",error:`Key ...${st.slice(-4)} failed. Trying next...`}:an)),Ze(Ge,`Permanent Error on Scene ${T+1}`,{apiKey:st,attempt:K,prompt:Te});continue}const qt=(Ge.message||"").toLowerCase(),yt=qt.includes("safety")||qt.includes("blocked"),Jn=Rt.current[T].safetyRetryCount||0;if(yt&&Jn<5){oe(`Safety policy violation on Scene ${T+1}. Auto-rephrasing prompt (Attempt ${Jn+1}/5)...`,!0);try{const an=`The following image prompt was blocked by a safety filter. Your task is to rephrase it to be safe for generation while preserving the original artistic intent and core concepts. Do not refuse, just make it safe. Respond ONLY with the newly generated prompt text, without any additional comments, introductions, or formatting.

ORIGINAL PROMPT:
---
${Rt.current[T].image_prompt}
---`,co=(await Sn().models.generateContent({model:"gemini-2.5-pro",contents:an})).text;if(co&&co.trim()!==""){q(Va=>{const ea=Va.map((fo,Yl)=>Yl===T?{...fo,image_prompt:co.trim(),rephrasedForSafety:!0,safetyRetryCount:(fo.safetyRetryCount||0)+1,error:void 0,imageStatus:"retrying"}:fo);return Rt.current=ea,ea}),await new Promise(Va=>setTimeout(Va,500)),K--;continue}else Ze("Auto-rephrasing failed to generate a new prompt.",`Image Gen Safety Retry on Scene ${T+1}`)}catch(En){Ze(En,`Auto-rephrasing prompt on Scene ${T+1}`)}}if(Ze(Ge,`Image Gen Error on Scene ${T+1}`,{apiKey:st,attempt:K,prompt:Te}),Cl(En=>({...En,[st]:Date.now()+61e3})),si.current++,si.current>=3){oe("Circuit Breaker: Paused due to 3 consecutive API errors. Check keys/logs.",!0);const an=yt?"Failed: Safety Policy. Edit prompt.":"Failed: Circuit Breaker. Check keys.";throw q(Kn=>Kn.map((uo,co)=>T===co?{...uo,imageStatus:"failed",error:an}:uo)),Bo(!0),We.current=!0,new Error("PAUSED_BY_CIRCUIT_BREAKER")}await new Promise(En=>setTimeout(En,500))}}if(!P&&!We.current){const Te=((H==null?void 0:H.message)||"").toLowerCase();let be="Failed: Check Logs.";Te.includes("safety")||Te.includes("blocked")?be="Failed: Safety Policy. Edit prompt.":Te.includes("quota")||Te.includes("limit: 0")||Te.includes("billing")?be="Failed: API Quota/Billing. Check key.":Te.includes("api key not valid")||Te.includes("api_key_invalid")?be="Failed: Invalid API Key.":Te.includes("all keys")?be="Failed: All Keys Disabled.":(Te.includes("network")||Te.includes("fetch"))&&(be="Failed: Network Error."),q(Pe=>Pe.map((He,ut)=>ut===T?{...He,imageStatus:"failed",error:be}:He)),Ze(H||be,"Image Generation Total Failure")}},Ko=async()=>{ye(!0),q([]);try{const T=gn.some(Te=>Te.userDescription.trim()||Te.aiDescription.trim())?`

**Character Consistency:** Maintain the appearance of the following characters consistently: ${gn.map((Te,be)=>`
- Character ${be+1}: ${Te.userDescription} ${Te.aiDescription}`).join("")}`:"",k=ko&&hn.trim()?`

**Negative Prompt:** The "image_prompt" MUST STRICTLY AVOID any mention or depiction of the following concepts: "${hn.trim()}".`:"",P=`You are an expert in visual storytelling and prompt engineering for AI image generation. Your task is to analyze the following script and break it down into exactly ${he} distinct, logical scenes. For each scene, you must generate a highly detailed and artistic image generation prompt suitable for AI image models.

The final output MUST be a valid JSON array of objects. Each object must have two keys: "scene_description" and "image_prompt".

**CRITICAL INSTRUCTIONS:**
1.  **Scene Division:** Divide the script into ${he} logical scenes. Ensure the entire story is covered.
2.  **Style Integration:** Each "image_prompt" MUST incorporate the following style elements:
    -   **Primary Themes:** ${fe.join(", ")}
    -   **Artistic Modifiers:** ${me.join(", ")}
    -   **Camera Angle:** ${Ye!=="Default"?Ye:"As appropriate for the scene"}
    -   **Aspect Ratio:** The final image must be conceptualized for a ${I} aspect ratio.${T}${k}

Here is the script:
---
${U.current}
---`;oe(`Generating ${he} prompts... Est. time: ~45s`);const H=await on("gemini-2.5-pro",P,"generate prompts",dl);if(We.current)throw new Error("stopped");const W=H.text.replace(/```json/g,"").replace(/```/g,"").trim(),ve=JSON.parse(W).map(Te=>({...Te,imageStatus:"pending",retryCount:0,safetyRetryCount:0}));q(ve),Rt.current=ve,ye(!1),V(!0),oe(`Generating ${ve.length} images... Est. time: ${Math.ceil(ve.length*10/60)} min`);for(let Te=0;Te<ve.length;Te++){if(We.current){if(bn)throw new Error("PAUSED_BY_CIRCUIT_BREAKER");oe("Generation stopped by user.");break}if(Te>0&&Te%5===0){const be=wn.current.filter(Pe=>!us.includes(Pe));if(be.length>1){Fn.current=(Fn.current+1)%be.length;const Pe=be[Fn.current];oe(`Batch Rotation: Switching to API Key ...${Pe.slice(-4)}`),await new Promise(He=>setTimeout(He,500))}}Te>0&&await new Promise(be=>setTimeout(be,1e3)),await Ss(Te,ve[Te].image_prompt)}if(bn)throw new Error("PAUSED_BY_CIRCUIT_BREAKER");await new Promise(Te=>setTimeout(Te,500));const Ee=Rt.current;if(!Ee.every(Te=>Te.imageStatus==="completed")&&!We.current)throw Vo.current?new Error("ALL_KEYS_FAILED"):Ee.some(be=>be.error&&be.error.toLowerCase().includes("safety"))?new Error("IMAGE_GENERATION_SAFETY_POLICY"):new Error("IMAGE_GENERATION_FAILED");return!0}catch(T){throw T.message!=="stopped"&&T.message!=="PAUSED_BY_CIRCUIT_BREAKER"&&T.message!=="IMAGE_GENERATION_SAFETY_POLICY"&&T.message!=="IMAGE_GENERATION_FAILED"&&T.message!=="ALL_KEYS_FAILED"&&Ze(T,"generate prompts"),T}finally{ye(!1),V(!1)}},jo=async()=>{fn(!1),We.current=!1,si.current=0,Bo(!1),Go([]),Si(!1);try{const T=await Ko();T&&ai&&!We.current?(oe("Autopilot: All images generated! Downloading..."),await La(),Qo(),oe("Autopilot process completed successfully!")):T&&!We.current&&!bn&&oe("All images generated successfully!")}catch(T){if(T.message==="ALL_KEYS_FAILED")oe("Generation failed: All API keys have permanent errors. Please add valid keys.",!0);else{const k=Rt.current,P=k.filter(H=>H.imageStatus==="failed").length;P>0&&!bn?oe(`${k.length-P} images generated. ${P} failed. You can retry them.`):T.message!=="PAUSED_BY_CIRCUIT_BREAKER"&&T.message!=="IMAGE_GENERATION_SAFETY_POLICY"&&T.message!=="IMAGE_GENERATION_FAILED"&&console.error("Generation failed:",T)}}finally{bn||(We.current=!1)}},xr=async()=>{Wa(!0),V(!0),We.current=!1,si.current=0,Bo(!1),Go([]),Si(!1),oe("Retrying failed images...");const T=Rt.current.reduce((W,ve,Ee)=>(ve.imageStatus==="failed"&&W.push({index:Ee,prompt:ve.image_prompt}),W),[]),k=T.length;let P=0;for(;T.length>0;){if(We.current){if(bn)break;oe("Retry process stopped by user.");break}const W=T.shift();W&&(P++,oe(`Retrying image ${P} of ${k}... (Scene ${W.index+1})`),await Ss(W.index,W.prompt))}await new Promise(W=>setTimeout(W,1e3));const K=Rt.current.filter(W=>W.imageStatus==="failed").length;return K>0&&!bn?oe(`Retry complete. ${k-K} images recovered. ${K} still failed.`):!We.current&&!bn&&oe("All failed images successfully generated!"),Wa(!1),V(!1),bn||(We.current=!1),K===0},Tn=async()=>{await xr()},wr=async()=>{var T,k;if(!es.trim()){oe("Please enter a video URL to deconstruct.");return}nr(!0),oe("Deconstructing video... This may take a moment. Est. time: ~30s");try{const P=qs.map(ve=>ve.conceptualName).join(", "),H=`You are an expert video analyst with access to a vast knowledge base of internet content, including transcripts and summaries of many YouTube videos. A user has provided this URL: ${es}

Your task is to act as if you have watched this video. Based on your knowledge of the video's content (including its likely transcript, dialogue, and visual elements), you must deconstruct it and provide a detailed analysis. Your goal is to be as faithful to the original video as possible.

You MUST generate a single, valid JSON object with the following structure. Do not include any other text, explanations, or markdown formatting outside of the JSON object.

{
  "reconstructedScript": "Reconstruct the full script or voiceover from the video as accurately as possible based on your training data. Include dialogue and narration. If you cannot find an exact transcript, generate a highly plausible script that captures the original's tone, pacing, and key points.",
  "visualStyleAnalysis": {
    "themes": ["An array of the most relevant themes from this list: ${Gu.join(", ")}"],
    "modifiers": ["An array of the most fitting artistic modifiers from this list: ${Vu.join(", ")}"],
    "cameraAndEditing": "Describe the camera work (e.g., static shots, handheld, drone footage) and editing style (e.g., fast cuts, slow transitions, jump cuts)."
  },
  "voiceoverAnalysis": {
    "detailedTone": "A professional description of the speaker's voice, tone, emotion, and pacing. Example: 'A male voice, mid-range, with a clear and enthusiastic tone. The pacing is quick, suitable for an engaging tech review.'",
    "suggestedAiVoice": "Based on your analysis, suggest the single best AI voice's conceptualName from this list to replicate the style: ${P}"
  },
  "overallProductionAnalysis": "Provide a brief analysis of how the original video was likely produced. Mention camera quality, lighting, audio quality, and overall production value (e.g., high-budget documentary, casual vlog-style)."
}`,W=(await on("gemini-2.5-pro",H,"video URL deconstruction",dl)).text;if(W){const ve=W.replace(/```json/g,"").replace(/```/g,"").trim(),Ee=JSON.parse(ve);Ee.reconstructedScript&&(N(Ee.reconstructedScript),xn(Ee.reconstructedScript)),Ee.visualStyleAnalysis&&(((T=Ee.visualStyleAnalysis.themes)==null?void 0:T.length)>0&&ce(we=>[...new Set([...we,...Ee.visualStyleAnalysis.themes])]),((k=Ee.visualStyleAnalysis.modifiers)==null?void 0:k.length)>0&&Le(we=>[...new Set([...we,...Ee.visualStyleAnalysis.modifiers])])),Ee.voiceoverAnalysis&&(Ee.voiceoverAnalysis.detailedTone&&ts(Ee.voiceoverAnalysis.detailedTone),Ee.voiceoverAnalysis.suggestedAiVoice&&qs.some(we=>we.conceptualName===Ee.voiceoverAnalysis.suggestedAiVoice)&&xa(we=>({...we,voice:Ee.voiceoverAnalysis.suggestedAiVoice}))),oe("Video deconstruction complete! Relevant fields have been populated."),Ee.overallProductionAnalysis&&setTimeout(()=>oe(`Production Analysis: ${Ee.overallProductionAnalysis}`),1e3)}else oe("Could not deconstruct the video from URL. The AI may not have information on this video.")}catch(P){P.message!=="stopped"&&Ze(P,"video URL deconstruction")}finally{nr(!1)}},Ai=T=>T<.8?"spoken very slowly":T<.95?"spoken slowly":T>1.25?"spoken very quickly":T>1.1?"spoken quickly":"spoken at a normal pace",Ll=async T=>{var k,P,H,K,W,ve;if(as&&(as.stop(),ba(null)),Vn===T.conceptualName){wa(null);return}wa(T.conceptualName);try{qn.current||(qn.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3})),qn.current.state==="suspended"&&await qn.current.resume();const Ee=`This is a sample of the ${T.conceptualName} voice.`,be=(ve=(W=(K=(H=(P=(k=(await Sn().models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:Ee}]}],config:{responseModalities:[Mi.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:T.apiName}}}}})).candidates)==null?void 0:k[0])==null?void 0:P.content)==null?void 0:H.parts)==null?void 0:K[0])==null?void 0:W.inlineData)==null?void 0:ve.data;if(!be)throw new Error("API did not return audio data for audition.");const Pe=Fs(be),He=await iC(Pe,qn.current,24e3,1),ut=qn.current.createBufferSource();ut.buffer=He,ut.connect(qn.current.destination),ut.start(),ba(ut),ut.onended=()=>{Vn===T.conceptualName&&wa(null),ba(null)}}catch(Ee){Ze(Ee,`auditioning ${T.conceptualName}`),wa(null),ba(null)}},Fi=()=>{const T=qs.find(k=>k.conceptualName===Lt.voice);return T?T.apiName:null},On=(T,k,P,H)=>{const K=Ai(k.speed),W=P.trim()?P.trim():`spoken in a ${k.tone.toLowerCase()} tone`;return H?`Generate speech with a STRICT requirement: the pace MUST be ${K}. The artistic style for the delivery should be: "${W}". Text to speak: "${T}"`:`Generate speech for the following text. The desired style is "${W}" and the general pace should be ${K}. Text: "${T}"`},br=async()=>{var T,k,P,H,K,W;if(!Kt.trim()){oe("Please provide a script in the Voiceover Script box.");return}Lo(!0),zi.current=!1,is(null),Wi(null),oe("Generating voiceover... Est. time: ~1 min");try{if(zi.current)return;const ve=Fi();if(!ve)throw new Error(`Selected voice "${Lt.voice}" configuration not found.`);const Ee=Sn(),we=On(Kt,Lt,Qi,yi),Te=await Ee.models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:we}]}],config:{responseModalities:[Mi.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:ve}}}}});if(zi.current){oe("Voiceover generation stopped.");return}const be=(W=(K=(H=(P=(k=(T=Te.candidates)==null?void 0:T[0])==null?void 0:k.content)==null?void 0:P.parts)==null?void 0:H[0])==null?void 0:K.inlineData)==null?void 0:W.data;if(!be)throw new Error("API did not return audio data.");const Pe=Fs(be);is(Pe);const He=Ya(Pe,24e3,1,16);Wi(URL.createObjectURL(He)),oe("Voiceover generated successfully!")}catch(ve){Ze(ve,"voiceover generation")}finally{Lo(!1),zi.current=!1}},zl=()=>{zi.current=!0,Lo(!1),oe("Voiceover generation stopped.")},Ci=(T,k)=>{const P=T||ii;if(!P){oe("No audio data to download.");return}const H=Ya(P,24e3,1,16),K=URL.createObjectURL(H),W=document.createElement("a");W.href=K,W.download=k||`${Tt.replace(/\s+/g,"_")}_voiceover.wav`,document.body.appendChild(W),W.click(),document.body.removeChild(W),URL.revokeObjectURL(K),oe("Audio download started.")},Bl=async()=>{const T=de*60+($||0);if(T===0){oe("Please set a video duration first to use this feature.");return}if(!Kt.trim()){oe("Please provide a script to fit.");return}or(!0),oe("AI is optimizing your script's length... Est. time: ~30s");try{const H=`You are a professional script editor. Your task is to rewrite the following script to be approximately ${Math.floor(T/60*(150*Lt.speed))} words long. You must preserve the core meaning, narrative, tone, and key information of the original text. Respond ONLY with the revised script text, without any additional comments, introductions, or formatting.

ORIGINAL SCRIPT:
---
${Kt}
---`,W=(await on("gemini-2.5-pro",H,"fit script to duration")).text;if(W)xn(W),oe("Script has been optimized for the target duration!");else throw new Error("AI failed to return an optimized script.")}catch(k){k.message!=="stopped"&&Ze(k,"fit script to duration")}finally{or(!1)}},Mn=(T,k=2800)=>{if(!T)return[];const P=[];let H=T.trim();for(;H.length>0;){if(H.length<=k){P.push(H);break}let K=H.substring(0,k),W=-1;const ve=K.lastIndexOf(`

`);if(ve>k/2)W=ve;else{const Ee=/[.!?]/g;let we=-1,Te;for(;(Te=Ee.exec(K))!==null;)we=Te.index;if(we!==-1)W=we+1;else{const be=K.lastIndexOf(`
`);if(be!==-1)W=be;else{const Pe=K.lastIndexOf(" ");Pe!==-1?W=Pe:W=k}}}K=H.substring(0,W),P.push(K.trim()),H=H.substring(W).trim()}return P.filter(K=>K.length>0)},io=async()=>{var H,K,W,ve,Ee,we;const T=Ca.current;if(!T.trim()){oe("Please provide a script to generate chunked audio.");return}fs(!0),Nn.current=!1,Vt([]),oe("Splitting script and starting chunked generation..."),await new Promise(Te=>setTimeout(Te,100));const k=Fi();if(!k){Ze({message:`Selected voice "${Lt.voice}" configuration not found.`},"chunked audio generation"),fs(!1);return}const P=Mn(T);Vt(P.map((Te,be)=>({id:be,text:Te,status:"pending"}))),oe(`Generating ${P.length} audio chunks... Est. time: ${Math.ceil(P.length*10/60)} min`);for(let Te=0;Te<P.length;Te++){if(Nn.current){oe("Chunk generation stopped by user.");break}if(Vo.current){Vt(be=>be.map(Pe=>Pe.id===Te?{...Pe,status:"failed",error:"All API keys failed."}:Pe)),Ze({message:"All API keys failed."},`audio chunk ${Te+1} generation`);break}Vt(be=>be.map(Pe=>Pe.id===Te?{...Pe,status:"generating"}:Pe));try{const be=Sn(),Pe=P[Te],He=On(Pe,Lt,Qi,yi),ut=await be.models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:He}]}],config:{responseModalities:[Mi.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:k}}}}});if(Nn.current)break;const xt=(we=(Ee=(ve=(W=(K=(H=ut.candidates)==null?void 0:H[0])==null?void 0:K.content)==null?void 0:W.parts)==null?void 0:ve[0])==null?void 0:Ee.inlineData)==null?void 0:we.data;if(!xt)throw new Error("API did not return audio data for this chunk.");const Ge=Fs(xt),st=Ya(Ge,24e3,1,16),it=URL.createObjectURL(st);Vt(qt=>qt.map(yt=>yt.id===Te?{...yt,status:"complete",audioBytes:Ge,audioUrl:it}:yt)),await new Promise(qt=>setTimeout(qt,500))}catch(be){console.error(`Error generating chunk ${Te}:`,be),Vt(Pe=>Pe.map(He=>He.id===Te?{...He,status:"failed",error:be.message}:He)),Ze(be,`audio chunk ${Te+1} generation`)}}fs(!1),Nn.current=!1},Zo=async T=>{var H,K,W,ve,Ee,we;Nn.current=!1,Si(!1);const k=Rn.current.find(Te=>Te.id===T);if(!k)return;const P=Fi();if(!P){Ze({message:`Voice config not found for "${Lt.voice}"`},`audio chunk ${T+1} retry`);return}Vt(Te=>Te.map(be=>be.id===T?{...be,status:"generating",error:void 0}:be));try{const Te=Sn(),be=On(k.text,Lt,Qi,yi),He=(we=(Ee=(ve=(W=(K=(H=(await Te.models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:be}]}],config:{responseModalities:[Mi.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:P}}}}})).candidates)==null?void 0:H[0])==null?void 0:K.content)==null?void 0:W.parts)==null?void 0:ve[0])==null?void 0:Ee.inlineData)==null?void 0:we.data;if(!He)throw new Error("API did not return audio data for this chunk.");const ut=Fs(He),xt=Ya(ut,24e3,1,16),Ge=URL.createObjectURL(xt);Vt(st=>st.map(it=>it.id===T?{...it,status:"complete",audioBytes:ut,audioUrl:Ge}:it)),oe(`Chunk ${T+1} successfully regenerated!`)}catch(Te){Vt(be=>be.map(Pe=>Pe.id===T?{...Pe,status:"failed",error:Te.message}:Pe)),Ze(Te,`audio chunk ${T+1} retry`)}},Ts=()=>{Nn.current=!0,fs(!1),oe("Stopping chunk generation...")},oo=async T=>{const k=T.filter(P=>P.status==="complete"&&P.audioBytes).sort((P,H)=>P.id-H.id);if(k.length===0)return oe("No completed audio chunks to merge.",!0),null;try{let P=0;for(const W of k)P+=W.audioBytes.length;const H=new Uint8Array(P);let K=0;for(const W of k)H.set(W.audioBytes,K),K+=W.audioBytes.length;return H}catch(P){return Ze(P,"Audio Merging"),null}},Dn=async()=>{Fo(!0),oe("Merging audio chunks...");const T=await oo(Rn.current);T&&Ci(T,`${Tt.replace(/\s+/g,"_")}_merged_voiceover.wav`),Fo(!1)},kn=async()=>{const T=Rn.current.filter(k=>k.status==="complete"&&k.audioBytes);if(T.length===0){oe("No completed audio chunks to download.");return}oe(`Creating ZIP file with ${T.length} audio chunks...`);try{const k=new Ld;for(const K of T){const W=Ya(K.audioBytes,24e3,1,16);k.file(`${Tt.replace(/\s+/g,"_")}_chunk_${String(K.id+1).padStart(3,"0")}.wav`,W)}const P=await k.generateAsync({type:"blob"}),H=document.createElement("a");H.href=URL.createObjectURL(P),H.download=`${Tt.replace(/\s+/g,"_")}_voiceover_chunks.zip`,document.body.appendChild(H),H.click(),document.body.removeChild(H),oe("Audio chunks ZIP download started.")}catch(k){Ze(k,"ZIP file creation"),oe("ZIP creation failed. Downloading chunks individually...");for(const P of T)Ci(P.audioBytes,`${Tt.replace(/\s+/g,"_")}_chunk_${String(P.id+1).padStart(3,"0")}.wav`),await new Promise(H=>setTimeout(H,300))}},Hi=async T=>{const k=`You are an expert in visual storytelling. Your task is to analyze the following script and break it down into exactly ${he} distinct, logical scenes. For each scene, provide a concise but descriptive summary. The final output MUST be a valid JSON array of objects. Each object must have one key: "scene_description".

Here is the script:
---
${T}
---`,K=(await on("gemini-2.5-pro",k,"script breakdown",dl)).text.replace(/```json/g,"").replace(/```/g,"").trim();return JSON.parse(K).map(ve=>({scene_description:ve.scene_description,image_prompt:"",imageStatus:"pending"}))},ui=(T,k)=>{const P=k.some(Te=>Te.userDescription.trim()||Te.aiDescription.trim())?`

**Character Consistency:** You MUST ensure the video's characters strictly adhere to these descriptions: ${k.map((Te,be)=>`
- Character ${be+1}: ${Te.userDescription} ${Te.aiDescription}`).join("")}`:"",H=Jt==="image-driven"?"Your primary goal is to animate the static scene described in the image prompt.":"Your goal is to create a video scene directly from the script description.",K=Jt==="image-driven"?`- **Generated Image Prompt (to be animated):** "${T.image_prompt}"`:"",W=`You are an expert prompt engineer for the **${ni}** AI text-to-video model. ${H} Your task is to generate a single, concise, and evocative video prompt based on the rules for the selected model. Respond ONLY with the video prompt text, without any introductory phrases.`,ve=[];Aa&&ve.push("Dialogue"),Po&&ve.push("Ambient Noise"),Xi&&ve.push("Sound Effects (SFX)");const Ee=ve.length>0?`

CRITICAL: You MUST integrate audio cues for ${ve.join(", ")} naturally within the prompt's narrative. For dialogue, use quotes and indicate who is speaking. For SFX and ambient sounds, describe them as part of the scene.`:"",we=`

**SOURCE MATERIAL TO ADAPT:**
- **Original Script Scene:** "${T.scene_description}"
${K}${P}`;switch(ni){case"Vidu":return`${W}

**Vidu Prompting Rules:**
1.  **Formula:** Structure your prompt as: **Subject/Scene** + **Detailed Scene Description** + **Environment Description** + **Artistic Style/Medium**.
2.  **Richness:** Use rich, accurate, and associative descriptions to create a vivid picture.
3.  **Style Reinforcement:** Repeat and reinforce key style and atmosphere keywords throughout the prompt.${we}${Ee}`;case"Kling":return`${W}

**Kling Prompting Rules:**
1.  **Formula:** Your prompt must follow this structure: **Subject** (with detailed description) + **Subject Movement** + **Scene** (concise environment) + **(Optional: Camera, Lighting, Atmosphere)**.
2.  **Clarity:** Use simple words and straightforward sentences.${we}${Ee}`;case"Hailuo":return`${W}

**Hailuo Prompting Rules:**
1.  **Formula:** Use the structure: **Main Subject** + **Scene** + **Motion** + **Camera Movement** + **Aesthetic Atmosphere**.
2.  **Precise Camera:** Camera movement MUST be described in detail.
3.  **Precise Aesthetics:** Clearly describe the mood and visual style.${we}${Ee}`;case"Sora":return`${W}

**Sora Prompting Rules:**
1.  **Structure:** Generate a single, concise but highly descriptive sentence.
2.  **Content:** The sentence MUST include: shot type, subject, action, setting, and lighting.${we}${Ee}`;case"Veo 3.1":default:const Te=ve.length>0?`6. **CRITICAL AUDIO INSTRUCTIONS:** The paragraph MUST include descriptions for the following audio elements: ${ve.join(", ")}. This is not optional. Describe them as part of the scene's action and environment.
   ${Aa?`- **Dialogue**: Use quotes and attribute speech (e.g., A woman whispers, "It\\'s can\\'t be.").`:""}
   ${Xi?"- **Sound Effects (SFX)**: Weave sounds into the action (e.g., ...as the floorboards creak ominously underfoot).":""}
   ${Po?"- **Ambient Noise**: Describe the background sounds (e.g., The sound of distant sirens fills the air.).":""}`.trim():"",be=`5. **Camera Work:** The prompt MUST specify camera work, incorporating this instruction: "${Ye}". If 'Default', choose the most fitting shot (e.g., 'A wide shot reveals...', 'A close-up on the character\\'s face shows...').`;return`You are an expert prompt engineer for the Veo 3.1 AI text-to-video model. Your task is to generate a single, descriptive paragraph that acts as a video prompt, following official Veo 3.1 guidelines.

**INPUTS:**
- **Original Script Scene:** "${T.scene_description}"
${K}${P}

**INSTRUCTIONS:**
1.  **Synthesize, Don't List:** Do NOT create a list with bullet points or headers like "Subject:", "Action:", etc.
2.  **Create a Narrative Paragraph:** Weave all key visual elements (Subject, Action, Style, Composition, Focus, Ambiance) into a single, cohesive paragraph.
3.  **Be Descriptive & Concise:** Use strong adjectives and verbs to create a vivid picture. The prompt should be a single, effective paragraph, not an overly long essay.
4.  **Follow Veo Style:** The final prompt should be similar in style and length to official Veo examples (e.g., "A close-up cinematic shot follows a desperate man...").
${be}
${Te}
7.  **Response Format:** Respond ONLY with the generated paragraph, without any extra text or introductions.`}},Yn=async()=>{Mo(!0),We.current=!1,oe(`Generating video prompts tailored for ${ni}...`);try{let T=Rt.current;if(T.length===0&&Jt==="script-driven"){if(!U.current.trim()){oe("Please provide a script to generate script-driven video prompts."),Mo(!1);return}oe(`First, breaking script into ${he} scenes...`);try{const k=await Hi(U.current);q(k),T=k}catch(k){Ze(k,"script breakdown"),Mo(!1);return}}else if(T.length===0&&Jt==="image-driven"){oe("Please generate images first for image-driven basis."),Mo(!1);return}for(let k=0;k<T.length;k++){if(We.current){oe("Video prompt generation stopped.");break}const P=Rt.current[k];if(!(!P.scene_description&&Jt==="script-driven"||!P.image_prompt&&Jt==="image-driven"))try{const H=ui(P,gn),K=await on("gemini-2.5-flash",H,`generate video prompt ${k+1}`),W=K.text?K.text.trim():"Error: AI failed to generate a prompt for this scene.";q(ve=>ve.map((Ee,we)=>we===k?{...Ee,video_prompt:W}:Ee))}catch(H){console.error(`Failed to generate video prompt for scene ${k+1}:`,H);const K=`Error: ${H.message}`;q(W=>W.map((ve,Ee)=>Ee===k?{...ve,video_prompt:K}:ve))}}We.current||oe("Video prompts generated successfully!")}catch(T){T.message!=="stopped"&&Ze(T,"generate video prompts")}finally{Mo(!1),We.current=!1}},xi=()=>{if(pr.trim()){const T=pr.trim();hr(T),localStorage.setItem("veoApiKey",T),oe("Veo API Key saved.")}},Nr=()=>{hr(""),mr(""),localStorage.removeItem("veoApiKey"),oe("Veo API Key cleared.")},Rr=()=>{var k;if(!Gi){oe("Please provide and save a Veo API Key to generate videos.");return}if(qo.length===0){oe("Please select at least one scene to generate.");return}const T=(k=L[0])!=null&&k.video_prompt?ni:"Unknown";T!=="Veo 3.1"&&T!=="Unknown"?ds(!0):Es()},Es=async()=>{var T,k,P,H,K;cs(!0),Vi.current=!1,ds(!1),oe(`Starting video generation for ${qo.length} scenes...`);for(const W of qo){if(Vi.current){oe("Video generation stopped by user.");break}Ti(ve=>({...ve,[W]:{status:"generating",progressMessage:"Initiating..."}}));try{const ve=new Lu({apiKey:Gi});let Ee=(T=L[W])==null?void 0:T.video_prompt;if(!Ee)throw new Error("Video prompt is missing for this scene.");hn.trim()&&(Ee=`${Ee}, negative prompt: ${hn.trim()}`);const Te={numberOfVideos:1,resolution:"720p",aspectRatio:I==="16:9"||I==="9:16"?I:"16:9"};let be=await ve.models.generateVideos({model:"veo-3.1-fast-generate-preview",prompt:Ee,config:Te});for(Ti(Ge=>({...Ge,[W]:{status:"polling",progressMessage:"Generating... This can take several minutes."}}));!be.done&&!Vi.current;)await new Promise(Ge=>setTimeout(Ge,1e4)),be=await ve.operations.getVideosOperation({operation:be});if(Vi.current)break;const Pe=(K=(H=(P=(k=be.response)==null?void 0:k.generatedVideos)==null?void 0:P[0])==null?void 0:H.video)==null?void 0:K.uri;if(!Pe)throw new Error("Generation finished, but no video link was returned.");Ti(Ge=>({...Ge,[W]:{status:"polling",progressMessage:"Finalizing video..."}}));const He=await fetch(`${Pe}&key=${Gi}`);if(!He.ok){const Ge=await He.text();throw He.status===400&&Ge.toLowerCase().includes("api key not valid")?(Nr(),oe("The saved Veo API Key is invalid. It has been cleared. Please provide a valid key.",!0),new Error("Invalid API Key. Please provide a valid key.")):new Error(`Failed to download video file. Status: ${He.status}`)}const ut=await He.blob(),xt=URL.createObjectURL(ut);Ti(Ge=>({...Ge,[W]:{status:"complete",videoUrl:xt}})),oe(`Video for Scene ${W+1} completed!`)}catch(ve){Ze(ve,`video generation for Scene ${W+1}`),Ti(Ee=>({...Ee,[W]:{status:"failed",error:ve.message}}))}}cs(!1),Vi.current=!1},Gl=()=>{Vi.current=!0,cs(!1),oe("Video generation process will stop after the current video finishes.")},jt=T=>{ec(k=>k.includes(T)?k.filter(P=>P!==T):[...k,T])},At=(T,k)=>{const P=document.createElement("a");P.href=T,P.download=`${Tt.replace(/\s+/g,"_")}_scene_${k+1}.mp4`,document.body.appendChild(P),P.click(),document.body.removeChild(P),oe(`Downloading video for Scene ${k+1}...`)},nt=async()=>{const T=Object.entries(Wt).filter(([P,H])=>typeof H=="object"&&H!==null&&"status"in H&&"videoUrl"in H?H.status==="complete"&&H.videoUrl:!1);if(T.length===0){oe("No completed videos to download.");return}oe(`Creating ZIP file with ${T.length} videos...`);const k=new Ld;try{for(const[K,W]of T)if(typeof W=="object"&&W!==null&&"videoUrl"in W&&typeof W.videoUrl=="string"){const ve=parseInt(K,10),we=await(await fetch(W.videoUrl)).blob();k.file(`${Tt.replace(/\s+/g,"_")}_scene_${ve+1}.mp4`,we)}const P=await k.generateAsync({type:"blob"}),H=document.createElement("a");H.href=URL.createObjectURL(P),H.download=`${Tt.replace(/\s+/g,"_")}_videos.zip`,document.body.appendChild(H),H.click(),document.body.removeChild(H),oe("Video ZIP file download started.")}catch(P){Ze(P,"ZIP creation")}},wi=(T,k)=>{if(!T)return;const P=document.createElement("a");P.href=T,P.download=`scene_${k+1}.jpeg`,document.body.appendChild(P),P.click(),document.body.removeChild(P),oe(`Downloading Scene ${k+1}...`)},Un=async()=>{oe("ZIP creation failed. Downloading images individually...");for(let T=0;T<Rt.current.length;T++){const k=Rt.current[T];k.imageUrl&&k.imageStatus==="completed"&&(wi(k.imageUrl,T),await new Promise(P=>setTimeout(P,300)))}},La=async()=>{const T=Rt.current.filter(k=>k.imageStatus==="completed"&&k.imageUrl);if(T.length===0){oe("No completed images to download.");return}oe("Creating ZIP file...");try{const k=new Ld;T.forEach((K,W)=>{const ve=K.imageUrl.split(",")[1];k.file(`scene_${W+1}.jpeg`,ve,{base64:!0})});const P=await k.generateAsync({type:"blob"}),H=document.createElement("a");H.href=URL.createObjectURL(P),H.download=`${Tt.replace(/\s+/g,"_")}_scenes.zip`,document.body.appendChild(H),H.click(),document.body.removeChild(H),oe("ZIP file download started.")}catch(k){Ze(k,"ZIP file creation"),await Un()}},Oi=async()=>{if(!Tt.trim()){oe("Please enter a project name.");return}try{const T={projectName:Tt.trim(),script:M,results:L,videoDuration:de,videoDurationSec:$,imageCount:he,aspectRatio:I,selectedThemes:fe,selectedModifiers:me,cameraAngle:Ye,scriptType:Fe,fileName:pt,referenceFiles:G.map(({name:k,size:P})=>({name:k,size:P})),characterProfiles:gn.map(k=>({id:k.id,userDescription:k.userDescription,aiDescription:k.aiDescription,image:k.image?{name:k.image.name,size:k.image.size}:null})),videoModel:ni,videoPromptBasis:Jt,includeDialogue:Aa,includeAmbient:Po,includeSfx:Xi};await cl.saveProject(T),oe(`Project "${Tt.trim()}" saved successfully!`),await ms(),await li()}catch(T){oe(`Error saving project: ${T.message}. The project might be too large.`),Ze({message:"Failed to save the project to IndexedDB. It might be too large.",stack:T.stack},"Save Project")}},Ir=async T=>{const k=T||Tt.trim();if(!k){oe("Please enter or select a project name to load.");return}try{const P=await cl.loadProject(k);if(P){const H=(P.referenceFiles||[]).map(W=>({name:W.name,size:W.size,dataUrl:"",file:null})),K=(P.characterProfiles||[{userDescription:"",aiDescription:"",image:null}]).map(W=>({id:crypto.randomUUID(),userDescription:W.userDescription,aiDescription:W.aiDescription,image:W.image?{name:W.image.name,size:W.image.size,dataUrl:"",file:null}:null}));Ui(P.projectName),N(P.script),q(P.results||[]),X(P.videoDuration),Ie(P.videoDurationSec||0),ke(P.imageCount),B(P.aspectRatio),ce(P.selectedThemes),Le(P.selectedModifiers),Je(P.cameraAngle),bt(P.scriptType),rn(P.fileName),z(H),Et(K.length>0?K:[{id:crypto.randomUUID(),userDescription:"",aiDescription:"",image:null}]),P.videoModel&&Tl(P.videoModel),P.videoPromptBasis&&yn(P.videoPromptBasis),El(P.includeDialogue||!1),er(P.includeAmbient||!1),Al(P.includeSfx||!1),oe(`Project "${P.projectName}" loaded successfully!`)}else oe(`No project found with the name "${k}".`)}catch(P){oe(`Error loading project: ${P.message}`),Ze(P,"load project")}},Vl=async()=>{if(gi)try{await cl.deleteProject(gi),oe(`Project "${gi}" deleted.`),await ms(),Tt===gi&&Ui(""),await li()}catch(T){oe(`Error deleting project: ${T.message}`),Ze({message:T.message,stack:T.stack},"Delete Project")}finally{Uo(null)}},Xo=()=>{Uo(null)},ao=T=>{Uo(T)},Mr=async()=>{if(!_a.trim()){Ze({message:"Please enter a story idea first."},"Generate Script");return}Za(!0),oe("Generating script from your idea... Est. time: ~45s");try{const T=`You are a creative scriptwriter. Based on the following idea, write a short story script broken down into approximately ${he} logical scenes. The script should be suitable for visual adaptation. Respond ONLY with the script text itself, without any introductions or extra formatting.

IDEA: "${_a}"`,P=(await on("gemini-2.5-pro",T,"generate script")).text;if(P)N(P),oe("Script generated successfully!");else throw new Error("AI failed to return a script.")}catch(T){T.message!=="stopped"&&Ze(T,"generate script")}finally{Za(!1)}},za=async(T,k)=>{Zi(k),oe("Analyzing character image... Est. time: ~15s");try{const P=(await qu(T)).split(",")[1],H={inlineData:{mimeType:T.type,data:P}},ve=(await on("gemini-2.5-flash",{parts:[H,{text:"Analyze this person's appearance in extreme detail for an AI image generator to recreate them consistently. Describe their facial structure, eye color and shape, hair color and style, skin tone, estimated age, body type, and the style and color of their clothing. Be objective and descriptive."}]},"character image analysis")).text;ve?(Et(Ee=>Ee.map(we=>we.id===k?{...we,aiDescription:`

--- AI Analysis from Image ---
${ve}`}:we)),oe("Character analysis appended to description!")):oe("Character analysis did not return any text.")}catch(P){P.message!=="stopped"&&Ze(P,"character image analysis")}finally{Zi(null)}},Ba=async(T,k)=>{const P=T[0];if(P&&P.type.startsWith("image/")){const H=await qu(P),K={name:P.name,size:Ig(P.size),dataUrl:H,file:P};Et(W=>W.map(ve=>ve.id===k?{...ve,image:K}:ve)),await za(P,k)}},so=(T,k)=>{const P=T.target.files;P&&Ba(Array.from(P),k)},bi=(T,k)=>{T.preventDefault(),T.stopPropagation(),Ia(null);const P=T.dataTransfer.files;P&&Ba(Array.from(P),k)},Yi=async(T,k)=>{const P=T.clipboardData.items;for(const H of P)if(H.type.includes("image")){const K=H.getAsFile();K&&Ba([K],k)}},ci=async(T={configureVoice:!0,genderPreference:"any",keepExistingVoice:!1})=>{if(!U.current.trim()){oe("Please provide a script to analyze.");return}vl(!0),We.current=!1,oe("Analyzing script to extract characters... Est. time: ~30s");try{const k=`Analyze the following script to identify all key characters. Your response MUST be a valid JSON object. The JSON object should have one key: "characters". The "characters" key should contain an array of objects, one for each distinct character found. Each character object should have two keys: "name" (a string) and "description" (a string summarizing their appearance, personality, or key actions as described in the script). If no characters with names or specific dialogue/actions are present, you MUST return an empty array for "characters". Do not invent characters from vague descriptions (e.g., 'a narrator'). Your response must be strictly {"characters": []} in this case.

Here is the script:
---
${U.current}
---`,P=await on("gemini-2.5-pro",k,"analyze script characters",dl);if(We.current){oe("Analysis stopped.");return}const K=P.text.replace(/```json/g,"").replace(/```/g,"").trim(),W=JSON.parse(K);if(W.characters&&W.characters.length>0){const ve=`

--- AI Script Analysis ---
`,Ee=W.characters.map(we=>({id:crypto.randomUUID(),userDescription:`Name: ${we.name}`,aiDescription:`${ve}Description: ${we.description}`,image:null}));Et(Ee),oe(`Script analyzed! ${Ee.length} character profiles have been created/updated.`)}else oe("Analysis complete, but no distinct characters were found to add to the profile."),Et([{id:crypto.randomUUID(),userDescription:"",aiDescription:"",image:null}]);T.configureVoice&&await Pa(U.current,T.genderPreference,T.keepExistingVoice)}catch(k){k.message!=="stopped"&&Ze(k,"analyze script")}finally{vl(!1)}},Dr=()=>{Et(T=>[...T,{id:crypto.randomUUID(),userDescription:"",aiDescription:"",image:null}])},kr=T=>{Et(k=>k.length>1?k.filter(P=>P.id!==T):k)},$o=(T,k)=>{Et(P=>P.map(H=>H.id===T?{...H,userDescription:k}:H))},As=()=>{if(!Qa.trim()){oe("Please enter a name for the preset.");return}if(ti.some(P=>P.name===Qa.trim())){oe("A preset with this name already exists.");return}const T={name:Qa.trim(),themes:fe,modifiers:me,angle:Ye},k=[...ti,T];Li(k),localStorage.setItem("stylePresets",JSON.stringify(k)),Ws(""),oe(`Preset "${T.name}" saved!`)},ro=T=>{ce(T.themes),Le(T.modifiers),Je(T.angle),oe(`Preset "${T.name}" loaded!`)},Zt=T=>{const k=ti.filter(P=>P.name!==T);Li(k),localStorage.setItem("stylePresets",JSON.stringify(k)),oe(`Preset "${T}" deleted.`)},Qo=()=>{const T=Rt.current;if(T.length===0){oe("No prompts to export.");return}let k=`Project: ${Tt}

--- PROMPTS ---

`;T.forEach((K,W)=>{k+=`SCENE ${W+1}
`,k+=`Description: ${K.scene_description}
`,k+=`Image Prompt: ${K.image_prompt}
`,K.video_prompt&&(k+=`Video Prompt (${ni}): ${K.video_prompt}
`),k+=`--------------------------------------------------

`});const P=new Blob([k],{type:"text/plain;charset=utf-8"}),H=document.createElement("a");H.href=URL.createObjectURL(P),H.download=`${Tt.replace(/\s+/g,"_")}_prompts.txt`,document.body.appendChild(H),H.click(),document.body.removeChild(H),oe("Prompts exported to .txt file.")},ql=async()=>{try{await cl.clearAllProjects(),$s([]),Ui("My AI Project"),N(""),q([]),await li(),oe("All projects have been cleared from the browser.")}catch(T){oe(`Error clearing projects: ${T.message}`),Ze({message:T.message,stack:T.stack},"Clear All Projects")}finally{cr(!1)}},Fl=async(T=!1)=>{const k=Ca.current;if(!k.trim()){const H="Audio Autopilot: Please provide a script first.";throw T||oe(H,!0),new Error(H)}if(T||(oe("Audio Autopilot started..."),oe(`Autopilot will perform:
${["1. Analyzing script to extract dialogue.","2. Selecting best voice, tone, and speed.","3. Generating audio (in chunks).","4. Merging and downloading final audio file."].join(`
`)}`),await Pa(k,"any")),await io(),Nn.current)throw new Error("stopped");if(await new Promise(H=>setTimeout(H,200)),Rn.current.filter(H=>H.status==="complete").length>0){if(Rn.current.some(K=>K.status==="failed"))throw new Error("AUDIO_GENERATION_FAILED");T||oe("Audio generation complete. Now merging...");const H=await oo(Rn.current);if(H)Ci(H,`${Tt.replace(/\s+/g,"_")}_voiceover.wav`),T||oe("Audio Autopilot finished successfully!");else{const K="Audio Autopilot: Merging failed.";throw T||oe(K,!0),new Error(K)}}else throw new Error("AUDIO_GENERATION_FAILED")},rc=async()=>{var T,k,P,H,K,W;if(!Kt.trim()){oe("Please provide a script to sample.");return}un(!0),Ra(null),oe("Generating 15s audio sample...");try{const ve=Fi();if(!ve)throw new Error(`Selected voice "${Lt.voice}" configuration not found.`);const Ee=Sn(),we=Kt.substring(0,250),Te=On(we,Lt,Qi,yi),Pe=(W=(K=(H=(P=(k=(T=(await Ee.models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:Te}]}],config:{responseModalities:[Mi.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:ve}}}}})).candidates)==null?void 0:T[0])==null?void 0:k.content)==null?void 0:P.parts)==null?void 0:H[0])==null?void 0:K.inlineData)==null?void 0:W.data;if(!Pe)throw new Error("API did not return audio data for sample.");const He=Fs(Pe),ut=Ya(He,24e3,1,16),xt=URL.createObjectURL(ut);Ra(xt),oe("Audio sample ready!")}catch(ve){Ze(ve,"audio sample generation")}finally{un(!1)}},lc=async()=>{var H,K,W,ve,Ee,we;Nn.current=!1,Si(!1);const T=Rn.current.filter(Te=>Te.status==="failed");if(T.length===0)return!0;oe(`Retrying ${T.length} failed audio chunks...`);const k=Fi();if(!k)throw new Error(`Selected voice "${Lt.voice}" configuration not found.`);for(const Te of T){if(Nn.current){oe("Chunk retry stopped by user.");break}if(Vo.current){Vt(Pe=>Pe.map(He=>He.id===Te.id?{...He,status:"failed",error:"All API keys failed."}:He)),Ze({message:"All API keys failed."},`audio chunk ${Te.id+1} retry`);break}const be=Te.id;Vt(Pe=>Pe.map(He=>He.id===be?{...He,status:"generating",error:void 0}:He));try{const Pe=Sn(),He=Te.text,ut=On(He,Lt,Qi,yi),xt=await Pe.models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:ut}]}],config:{responseModalities:[Mi.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:k}}}}});if(Nn.current)break;const Ge=(we=(Ee=(ve=(W=(K=(H=xt.candidates)==null?void 0:H[0])==null?void 0:K.content)==null?void 0:W.parts)==null?void 0:ve[0])==null?void 0:Ee.inlineData)==null?void 0:we.data;if(!Ge)throw new Error("API did not return audio data for this chunk.");const st=Fs(Ge),it=Ya(st,24e3,1,16),qt=URL.createObjectURL(it);Vt(yt=>yt.map(Jn=>Jn.id===be?{...Jn,status:"complete",audioBytes:st,audioUrl:qt}:Jn)),await new Promise(yt=>setTimeout(yt,500))}catch(Pe){console.error(`Error retrying chunk ${be}:`,Pe),Vt(He=>He.map(ut=>ut.id===be?{...ut,status:"failed",error:Pe.message}:ut)),Ze(Pe,`audio chunk ${be+1} retry`)}}return Rn.current.filter(Te=>Te.status==="failed").length===0},Ct=[{id:1,text:"Rephrasing Script for Copyright...",enabled:()=>Ho,task:_s},{id:2,text:"Analyzing Script, Characters & Style...",enabled:()=>!0,task:()=>ci({configureVoice:eo,genderPreference:hs,keepExistingVoice:Il})},{id:3,text:"Generating Image Prompts & Images...",enabled:()=>!0,task:Ko},{id:4,text:"Generating Video Prompts...",enabled:()=>!0,task:Yn},{id:5,text:"Preparing & Downloading Assets...",enabled:()=>!0,task:async()=>{await La(),Qo()}},{id:6,text:"Generating & Downloading Voiceover...",enabled:()=>!0,task:()=>Fl(!0)}],Ur=()=>{if(!M.trim()){oe("Please provide a script before starting the Autopilot.");return}_i&&_r(!0),vr(!0),(!Be||_n||Be&&Be.isError&&Be.stepId!==3&&Be.stepId!==6)&&(Ei.current=!1,ka.current=!1,Oo(!1),en(null),qi(!1),tn(0))},Ji=async(T=1)=>{nn.current&&clearInterval(nn.current),nn.current=window.setInterval(()=>tn(K=>K+1),1e3);const k=Ct.filter(K=>K.enabled()),P=k.length,H=k.findIndex(K=>K.id===T);if(H===-1)throw new Error(`Could not find starting step ${T} in active steps.`);try{for(let K=H;K<k.length;K++){const W=k[K],ve=k.findIndex(Ee=>Ee.id===W.id);for(en({step:ve+1,totalSteps:P,stepId:W.id,message:W.text,isError:!1});ka.current;){if(Ei.current)throw new Error("stopped");await new Promise(Ee=>setTimeout(Ee,500))}if(W.id===5&&Rt.current.filter(we=>we.imageStatus==="completed").length===0)throw new Error("NO_IMAGES_COMPLETED");if(Ei.current)throw new Error("stopped");if(await W.task(),Ei.current)throw new Error("stopped");if(W.id===3&&(await new Promise(we=>setTimeout(we,500)),!Rt.current.every(we=>we.imageStatus==="completed")))throw new Error("IMAGE_GENERATION_FAILED");if(W.id===6&&(await new Promise(we=>setTimeout(we,500)),!Rn.current.every(we=>we.status==="complete")))throw new Error("AUDIO_GENERATION_FAILED")}en({step:P,totalSteps:P,stepId:k[k.length-1].id,message:"Autopilot Complete!",isError:!1}),qi(!0),oe("Master Autopilot finished successfully!")}catch(K){const W=Be?Be.stepId:1;let ve=`Error: ${K.message}`;switch(K.message){case"stopped":ve="Process stopped by user.",oe("Master Autopilot stopped by user.");break;case"PAUSED_BY_CIRCUIT_BREAKER":ve="Paused due to API quota/key errors. Check your API keys and retry.";break;case"ALL_KEYS_FAILED":ve="All available API keys have permanent errors. Please add a valid key and retry.";break;case"IMAGE_GENERATION_SAFETY_POLICY":ve="Paused: Generation failed for one or more items due to safety policy violations. Please review and edit the failed prompts before retrying.";break;case"IMAGE_GENERATION_FAILED":ve="Paused: Image generation failed for one or more items. Please check the Error Log and retry.";break;case"NO_IMAGES_COMPLETED":ve="Paused: There are no completed images to download. Please resolve image generation errors and retry.";break;case"AUDIO_GENERATION_FAILED":ve="Paused: Audio generation failed for one or more chunks. You can retry the failed step.";break;default:Ze(K,`Master Autopilot (Step ${W})`);break}en(Ee=>({...Ee,message:ve,isError:!0}))}finally{nn.current&&(_n||Be&&Be.isError||ps)&&clearInterval(nn.current)}},Ga=()=>{qi(!1),en(null),Ei.current=!1,ka.current=!1,Oo(!1),si.current=0,Bo(!1),Go([]),Si(!1),tn(0);const T=Ho||_i,P=Ct.map(H=>H.id===1?{...H,enabled:()=>T}:H).find(H=>H.enabled());if(P)Ji(P.id);else{const H=Ct.find(K=>K.id>1&&K.enabled());H?Ji(H.id):(oe("No autopilot steps are enabled to run.",!0),Ze({message:"No active steps for Autopilot."},"Master Autopilot Start"))}},Pr=async()=>{if(!Be||!Be.isError)return;const T=Be.stepId;en(k=>({...k,isError:!1,message:"Recovering step..."})),Ei.current=!1,We.current=!1,Nn.current=!1,si.current=0,Bo(!1),Si(!1),Go([]);try{let k=!1;if(T===3)Rt.current.length===0?(oe("No prompts found. Retrying prompt and image generation from scratch..."),k=await Ko()):(oe("Retrying failed images..."),k=await xr());else if(T===6){if(oe("Retrying failed audio chunks..."),!await lc())throw new Error("Some audio chunks still failed after retry.");oe("Merging audio...");const H=await oo(Rn.current);if(H)Ci(H,`${Tt.replace(/\s+/g,"_")}_voiceover.wav`),k=!0;else throw new Error("Merging failed after successful retry.")}if(Ei.current)throw new Error("stopped");if(k){oe("Step successfully recovered! Resuming Autopilot...");const P=Ct.filter(W=>W.enabled()),H=P.findIndex(W=>W.id===T),K=P[H+1];if(K)Ji(K.id);else{const W=P.length;en({step:W,totalSteps:W,stepId:T,message:"Autopilot Complete!",isError:!1}),qi(!0),oe("Master Autopilot finished successfully!")}}else oe("Some items still failed. Please check logs or retry manually.",!0),en(P=>({...P,message:"Retry failed. Please check errors and API keys.",isError:!0}))}catch(k){k.message!=="stopped"?(Ze(k,`Autopilot Retry (Step ${T})`),en(P=>({...P,message:`Retry failed: ${k.message}`,isError:!0}))):en(P=>({...P,message:"Retry stopped by user.",isError:!0}))}},lo=()=>{Ei.current=!0,ka.current=!1,Oo(!1),We.current=!0,Nn.current=!0,zi.current=!0,Vi.current=!0,Ce(!1),nn.current&&clearInterval(nn.current),en(T=>({...T,message:"Autopilot stopped by user.",isError:!0})),oe("Stopping Autopilot...")},Wo=()=>{var k;const T=!ps;if(Oo(T),ka.current=T,T)nn.current&&clearInterval(nn.current),en(P=>({...P,message:"Autopilot Paused by user."})),oe("Autopilot Paused.");else{nn.current&&clearInterval(nn.current),nn.current=window.setInterval(()=>tn(H=>H+1),1e3);const P=((k=Ct.find(H=>H.id===(Be==null?void 0:Be.stepId)))==null?void 0:k.text)||"Resuming...";en(H=>({...H,message:P})),oe("Autopilot Resumed.")}},Hl=()=>{if(!Be)return;oe(`Skipping step: ${Be.message}...`);const T=Ct.filter(H=>H.enabled()),k=T.findIndex(H=>H.id===Be.stepId),P=T[k+1];if(P)Ji(P.id);else{const H=T.length;en({step:H,totalSteps:H,stepId:Be.stepId,message:"Autopilot Complete!",isError:!1}),qi(!0),oe("Master Autopilot finished successfully!")}},Lr=150,zr=Kt.trim().split(/\s+/).filter(Boolean).length,Ol=zr>0?zr/(Lr*Lt.speed)*60:0,di=de*60+($||0),Cs=di>0?Math.floor(di/60*(Lr*Lt.speed)):0,Ni=ar||ns||gr;return Be&&Tr.find(T=>T.id===Be.stepId),i?v.jsx("div",{className:"lock-screen",children:v.jsxs("div",{className:"lock-card",children:[v.jsx("h1",{children:"Application Access"}),v.jsx("p",{children:E}),v.jsxs("div",{className:"form-group",children:[v.jsx("input",{type:"text",value:l,onChange:T=>c(T.target.value),placeholder:"Your Full Name",required:!0}),v.jsx("input",{type:"email",value:a,onChange:T=>s(T.target.value),placeholder:"Your Registered Email",required:!0}),v.jsx("input",{type:"tel",value:f,onChange:T=>p(T.target.value),placeholder:"Your Phone Number (Required)",required:!0})]}),v.jsx("div",{className:"login-actions",children:v.jsx("button",{onClick:Er,disabled:D,children:D?"Verifying...":"Login / Register"})}),y&&v.jsx("p",{className:"lock-error",children:y}),_&&v.jsx("p",{className:"lock-success",children:_}),v.jsxs("div",{className:"contact-links",children:[v.jsx("p",{children:"Need Help? Contact Developer"}),v.jsxs("div",{className:"social-links-login",children:[v.jsxs("a",{href:"https://t.me/tasints",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:[v.jsx(Rg,{})," Telegram"]}),v.jsxs("a",{href:"https://wa.me/message/K4UWIP55B2XGP1",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:[v.jsx(Ng,{})," WhatsApp"]})]})]})]})}):v.jsxs("main",{children:[j&&v.jsx("div",{className:"progress-indicator",children:xe}),v.jsx("div",{className:"notification-container",style:{pointerEvents:"none"},children:Cn.map(T=>v.jsx("div",{className:"notification",style:{pointerEvents:"auto"},children:T.message},T.id))}),va&&v.jsxs("div",{className:"image-preview-modal",onClick:()=>Ka(null),children:[" ",v.jsx("span",{className:"close-preview",children:""})," ",v.jsx("img",{src:va,alt:"Preview"})," "]}),ei&&v.jsx(sC,{onConfirm:jo,onCancel:()=>{fn(!1),oe("Generation cancelled by user.")},imageCount:he,isAutopilot:ai}),gi&&v.jsx(lC,{projectName:gi,onConfirm:Vl,onCancel:Xo}),Wu&&v.jsx(uC,{onConfirm:ql,onCancel:()=>cr(!1)}),Nl&&v.jsx(rC,{onConfirm:Es,onCancel:()=>ds(!1),fromModel:ni,toModel:"Veo 3.1"}),Da&&(()=>{var H;const T=_n?1:Be?(Be.step-1)/Be.totalSteps:0,k=_n?"100%":Be?`${Math.round((Be.step-1)/Be.totalSteps*100)}%`:"0%",P=Tr.map(K=>K.id===1?{...K,text:_i?"Generate New Unique Story":"Rephrase Script for Copyright"}:K);return v.jsx("div",{className:"confirmation-modal-overlay",children:v.jsxs("div",{className:"confirmation-modal-content autopilot-modal-content",children:[v.jsxs("div",{className:"autopilot-header",children:[v.jsxs("h3",{children:[v.jsx(wg,{})," Master Autopilot"]}),v.jsxs("div",{className:"autopilot-timer-display",children:["Elapsed Time: ",v.jsx("strong",{children:pl(ic)})]})]}),v.jsxs("div",{className:"autopilot-main-content",children:[v.jsxs("div",{className:"autopilot-progress-status-container",children:[v.jsxs("div",{className:"autopilot-progress-ring",children:[v.jsxs("svg",{width:"120",height:"120",viewBox:"0 0 120 120",children:[v.jsx("circle",{cx:"60",cy:"60",r:"54",fill:"none",stroke:"var(--border)",strokeWidth:"8"}),v.jsx("circle",{cx:"60",cy:"60",r:"54",fill:"none",stroke:"var(--primary)",strokeWidth:"8",strokeDasharray:2*Math.PI*54,strokeDashoffset:2*Math.PI*54*(1-T),strokeLinecap:"round",style:{transform:"rotate(-90deg)",transformOrigin:"center",transition:"stroke-dashoffset 0.5s ease"}})]}),v.jsx("div",{className:"autopilot-progress-text",children:k})]}),v.jsx("div",{className:"autopilot-workflow",children:v.jsx("ol",{children:P.map(K=>{if(!(K.id!==1||Ho))return null;const ve=_n||(Be?K.id<Be.stepId:!1),Ee=Be?K.id===Be.stepId&&!_n&&!Be.isError:!1,we=Be?K.id===Be.stepId&&Be.isError:!1;let Te="";return ve&&(Te="completed"),Ee&&(Te="active"),we&&(Te="error"),v.jsxs("li",{className:Te,children:[ve?v.jsx(fl,{}):v.jsx("div",{className:"step-placeholder-icon"}),K.text]},K.id)})})})]}),v.jsxs("div",{className:"autopilot-controls-config-panel",children:[v.jsxs("div",{className:"autopilot-config-box",children:[v.jsxs("div",{className:"config-item-autopilot",children:[v.jsx("input",{type:"checkbox",id:"rephrase-autopilot",checked:Ho,onChange:K=>_r(K.target.checked),disabled:!!Be}),v.jsx("label",{htmlFor:"rephrase-autopilot",children:_i?"Generate New Unique Story":"Rephrase Script for Copyright"})]}),v.jsxs("div",{className:"config-item-autopilot",children:[v.jsx("input",{type:"checkbox",id:"auto-config-voice-autopilot",checked:eo,onChange:K=>Rl(K.target.checked),disabled:!!Be}),v.jsx("label",{htmlFor:"auto-config-voice-autopilot",children:"Use AI to Auto-Configure Voiceover"})]}),v.jsxs("div",{className:"config-item-autopilot sub-option-autopilot",children:[v.jsx("input",{type:"checkbox",id:"use-user-voice-autopilot",checked:Il,onChange:K=>nc(K.target.checked),disabled:!!Be||!eo}),v.jsx("label",{htmlFor:"use-user-voice-autopilot",children:"Use User Selected Voice"})]})]}),v.jsxs("div",{className:"autopilot-config-box voice-gender-box",children:[v.jsx("p",{className:"config-title",children:"Voice Gender Preference:"}),v.jsxs("div",{className:"autopilot-voice-pref-radios",children:[v.jsxs("label",{children:[v.jsx("input",{type:"radio",name:"autopilot-gender",value:"any",checked:hs==="any",onChange:K=>Sr(K.target.value),disabled:!!Be||!eo})," Any"]}),v.jsxs("label",{children:[v.jsx("input",{type:"radio",name:"autopilot-gender",value:"male",checked:hs==="male",onChange:K=>Sr(K.target.value),disabled:!!Be||!eo})," Male"]}),v.jsxs("label",{children:[v.jsx("input",{type:"radio",name:"autopilot-gender",value:"female",checked:hs==="female",onChange:K=>Sr(K.target.value),disabled:!!Be||!eo})," Female"]})]})]})]})]}),Be&&v.jsxs("div",{className:`autopilot-current-step-status ${Be.isError?"error":""} ${_n?"completed":""}`,children:[v.jsx("div",{className:"status-indicator-bar",children:_n?v.jsx(fl,{}):Be.isError?v.jsx(Bu,{}):v.jsx("div",{className:"loader small-loader"})}),v.jsxs("span",{style:{flexGrow:1},children:[v.jsx("strong",{children:_n?"Master Autopilot Complete!":`Step ${Be.step}/${Be.totalSteps}: ${((H=P.find(K=>K.id===Be.stepId))==null?void 0:H.text)||"..."}`}),v.jsx("br",{}),Be.message]}),Be&&!_n&&!Be.isError&&v.jsx("button",{onClick:Hl,style:{marginLeft:"auto",padding:"0.25rem 0.75rem",fontSize:"0.8rem",backgroundColor:"var(--border)",color:"var(--text-secondary)",border:"1px solid var(--border)",cursor:"pointer"},title:"Skip this stage and move to the next one",children:"Skip This Stage"})]}),v.jsxs("div",{className:"confirmation-modal-actions",children:[v.jsx("button",{onClick:()=>vr(!1),className:"cancel-btn",children:Be&&!_n&&!Be.isError?"Hide":"Close"}),_n?v.jsx("button",{onClick:()=>{vr(!1),en(null),qi(!1)},className:"confirm-btn",children:"OK"}):Be&&Be.isError?v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:lo,className:"stop-button",children:"Cancel Autopilot"}),v.jsx("button",{onClick:Hl,style:{backgroundColor:"var(--border)",color:"var(--text-secondary)"},className:"cancel-btn",children:"Skip This Stage"}),(Be.stepId===3||Be.stepId===6)&&v.jsx("button",{onClick:Pr,className:"confirm-btn",children:"Retry & Resume"})]}):Be?v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:Wo,className:"confirm-btn",children:ps?"Resume":"Pause"}),v.jsx("button",{onClick:lo,className:"stop-button",children:"Stop Autopilot"})]}):v.jsx("button",{onClick:Ga,className:"confirm-btn",children:"Start Autopilot"})]})]})})})(),v.jsxs("div",{className:"app-header",children:[v.jsx("h1",{children:"ULTIMATE AI AUTOMATIONER"}),v.jsxs("p",{className:"developed-by",children:["Developed by ",v.jsxs("a",{href:"https://techseekeracademy.com/",target:"_blank",rel:"noopener noreferrer",children:[v.jsx("span",{className:"tech",children:"TECH"})," ",v.jsx("span",{className:"seeker",children:"SEEKER"})," ",v.jsx("span",{className:"academy",children:"ACADEMY"})]})]})]}),v.jsxs("div",{className:"top-bar",children:[v.jsxs("button",{className:"master-autopilot-btn",onClick:Ur,disabled:!M.trim()||tt.length===0,children:[v.jsx(wg,{})," Master Autopilot"]}),v.jsxs("div",{className:"top-bar-controls",children:[v.jsxs("div",{className:"log-shortcuts",children:[v.jsxs("button",{onClick:()=>{var T;return(T=wl.current)==null?void 0:T.scrollIntoView({behavior:"smooth"})},title:"Go to Notification Log",children:[v.jsx(bg,{})," Notifications"]}),v.jsxs("button",{onClick:()=>{var T;return(T=bl.current)==null?void 0:T.scrollIntoView({behavior:"smooth"})},title:"Go to Error Log",children:[v.jsx(Bu,{})," Errors"]})]}),v.jsxs("div",{className:"theme-selector",children:[v.jsxs("div",{className:"palette-switcher",children:[v.jsx("span",{children:"Palette:"}),v.jsx("button",{onClick:()=>je("black-purple"),className:et==="black-purple"?"active":"",children:"B&P"}),v.jsx("button",{onClick:()=>je("cyan"),className:et==="cyan"?"active":"",children:"Cyan"}),v.jsx("button",{onClick:()=>je("green"),className:et==="green"?"active":"",children:"Green"}),v.jsx("button",{onClick:()=>je("purple"),className:et==="purple"?"active":"",children:"Purple"}),v.jsx("button",{onClick:()=>je("orange"),className:et==="orange"?"active":"",children:"Orange"}),v.jsx("button",{onClick:()=>je("dark"),className:et==="dark"?"active":"",children:"Dark"})]}),v.jsxs("div",{className:"theme-toggle",children:[v.jsx("span",{children:Re==="dark"?"Dark Mode":"Light Mode"}),v.jsxs("label",{className:"switch",children:[v.jsx("input",{type:"checkbox",checked:Re==="light",onChange:()=>qe(T=>T==="dark"?"light":"dark")}),v.jsx("span",{className:"slider"})]})]})]})]})]}),v.jsxs("div",{className:"global-settings",children:[v.jsxs("div",{className:"card project-card",children:[v.jsx("h2",{children:"Project Management"}),v.jsx("div",{className:"project-actions-top",children:v.jsxs("div",{className:"input-group",children:[v.jsx("input",{type:"text",value:Tt,onChange:T=>Ui(T.target.value),placeholder:"Enter Project Name"}),v.jsx("button",{onClick:Oi,disabled:!Tt.trim(),children:"Save"}),v.jsx("button",{onClick:()=>Ir(),disabled:!Tt.trim(),children:"Load"})]})}),v.jsxs("div",{className:"storage-info",children:[v.jsx("div",{className:"storage-bar",children:v.jsx("div",{className:"storage-bar-fill",style:{width:`${rr.percentage}%`}})}),v.jsxs("p",{className:"storage-text",children:[rr.used," MB Used / ",(100-rr.percentage).toFixed(0),"% Free"]})]}),v.jsxs("button",{onClick:()=>cr(!0),className:"clear-storage-btn",title:"Clear all saved projects from browser",children:[v.jsx(jA,{})," Clear All Projects"]}),gl.length>0&&v.jsxs("div",{className:"saved-projects-list",children:[v.jsx("h3",{children:"Saved Projects"}),v.jsx("ul",{children:gl.map(T=>v.jsxs("li",{children:[v.jsx("span",{className:"project-name",children:T}),v.jsxs("div",{className:"project-item-actions",children:[v.jsx("button",{onClick:()=>Ir(T),className:"load-btn-small",children:"Load"}),v.jsx("button",{onClick:()=>ao(T),className:"remove-btn",title:"Delete project",children:""})]})]},T))})]})]}),v.jsxs("div",{className:"card api-key-section",children:[v.jsx("h2",{children:"API Key Management"}),v.jsx("p",{className:"description",children:tt.length===0?v.jsx("span",{className:"api-key-warning",children:"You must add and enable at least one API key to unlock the app."}):"Add your Gemini API keys below and enable one to start using the app."}),v.jsxs("div",{className:"input-group",children:[v.jsx("input",{type:"password",value:Qt,onChange:T=>ki(T.target.value),placeholder:"Add new API Key"}),v.jsx("button",{onClick:Ml,children:"Add"})]}),v.jsx("div",{className:"api-key-list",children:v.jsx("ul",{children:Yt.map(T=>v.jsxs("li",{className:tt.includes(T)?"enabled":"",children:[v.jsxs("span",{className:"key-text",children:[T.substring(0,4),"...",T.substring(T.length-4)]}),v.jsxs("div",{className:"api-key-actions",children:[v.jsxs("label",{className:"switch",children:[v.jsx("input",{type:"checkbox",checked:tt.includes(T),onChange:()=>Ar(T)}),v.jsx("span",{className:"slider"})]}),v.jsx("button",{onClick:k=>{k.stopPropagation(),to(T)},className:"remove-btn",children:""})]})]},T))})})]})]}),v.jsxs("div",{className:"workspace",children:[v.jsxs("fieldset",{disabled:tt.length===0,className:"control-panel",children:[v.jsxs("div",{className:"card config-section",children:[v.jsx("h2",{children:"Configuration"}),v.jsxs("div",{className:"config-grid",children:[v.jsxs("div",{className:"config-item duration-group",children:[v.jsx("label",{htmlFor:"durationMin",children:"Video Duration"}),v.jsxs("div",{className:"duration-inputs",children:[v.jsxs("div",{className:"duration-input-wrapper",children:[v.jsx("label",{htmlFor:"durationMin",children:"Min"}),v.jsx("input",{type:"number",id:"durationMin",min:"0",value:de,onChange:T=>X(parseInt(T.target.value,10)||0)})]}),v.jsx("span",{className:"duration-separator",children:":"}),v.jsxs("div",{className:"duration-input-wrapper",children:[v.jsx("label",{htmlFor:"durationSec",children:"Sec"}),v.jsx("input",{type:"number",id:"durationSec",min:"0",max:"59",value:$,onChange:T=>Ie(parseInt(T.target.value,10)||0)})]})]})]}),v.jsxs("div",{className:"config-item",children:[v.jsx("label",{htmlFor:"imageCount",children:"Number of Images"}),v.jsx("input",{type:"number",id:"imageCount",min:"1",value:he,onChange:T=>ke(parseInt(T.target.value,10)||1),title:"Manually editable. Auto-calculated from duration."})]}),v.jsxs("div",{className:"config-item",children:[v.jsx("label",{htmlFor:"imageModel",children:"Image Model"}),v.jsxs("select",{id:"imageModel",value:bo,onChange:T=>No(T.target.value),children:[v.jsx("option",{value:"imagen-4.0-generate-001",children:"Imagen 4 (High Quality)"}),v.jsx("option",{value:"gemini-2.5-flash-image",children:"Nano Banana (Fast)"})]})]}),v.jsxs("div",{className:"config-item",children:[v.jsx("label",{htmlFor:"aspectRatio",children:"Aspect Ratio"}),v.jsxs("select",{id:"aspectRatio",value:I,onChange:T=>B(T.target.value),disabled:bo==="gemini-2.5-flash-image",title:bo==="gemini-2.5-flash-image"?"Aspect ratio is not supported by Nano Banana model":"",children:[v.jsx("option",{value:"16:9",children:"16:9 (Widescreen)"}),v.jsx("option",{value:"9:16",children:"9:16 (Portrait)"}),v.jsx("option",{value:"1:1",children:"1:1 (Square)"}),v.jsx("option",{value:"4:3",children:"4:3 (Classic TV)"})]})]}),v.jsxs("div",{className:"config-item",children:[v.jsx("label",{htmlFor:"cameraAngle",children:"Camera Angle"}),v.jsx("select",{id:"cameraAngle",value:Ye,onChange:T=>Je(T.target.value),children:tC.map(T=>v.jsx("option",{value:T.value,title:T.description,children:T.value},T.value))})]})]})]}),v.jsxs("div",{className:"card video-analyzer-card",children:[v.jsx("h2",{children:"AI Video Deconstructor"}),v.jsx("p",{className:"description",children:"Paste a video link. AI will use its knowledge to reconstruct the video's script, voice, and style, then auto-fill the relevant sections."}),v.jsxs("div",{className:"input-group",children:[v.jsx("input",{type:"url",value:es,onChange:T=>tr(T.target.value),placeholder:"https://www.youtube.com/watch?v=..."}),v.jsx("button",{onClick:wr,disabled:$i,children:$i?"Deconstructing...":"Deconstruct Video"})]})]}),v.jsxs("div",{className:"card script-assistant-card",children:[v.jsx("h2",{children:"AI Script Assistant"}),v.jsx("p",{className:"description",children:"Don't have a script? Just write a simple idea and let AI generate a script for you."}),v.jsxs("div",{className:"input-group",children:[v.jsx("input",{type:"text",value:_a,onChange:T=>yl(T.target.value),placeholder:"e.g., A sci-fi story about a robot who discovers music."}),ja?v.jsx("button",{onClick:()=>We.current=!0,className:"stop-button",children:"Stop"}):v.jsx("button",{onClick:Mr,disabled:!_a.trim(),children:"Generate Script"})]})]}),v.jsxs("div",{className:"card script-section",children:[v.jsx("h2",{children:"Script Input"}),Fe==="text"?v.jsx("textarea",{rows:10,value:M,onChange:T=>N(T.target.value),placeholder:"Once upon a time..."}):v.jsxs("div",{children:[v.jsx("input",{type:"file",ref:Ne,onChange:ac,accept:".srt,.txt",style:{display:"none"}}),v.jsx("button",{onClick:()=>{var T;return(T=Ne.current)==null?void 0:T.click()},children:"Upload .SRT / .TXT File"}),pt&&v.jsxs("p",{style:{marginTop:"10px",fontSize:"0.9rem"},children:["Selected file: ",pt]})]}),v.jsxs("div",{className:"style-item",style:{backgroundColor:"var(--bg-main)",padding:"0.5rem",border:"1px solid var(--border)"},children:[v.jsx("input",{type:"checkbox",id:"generateUniqueStory",checked:_i,onChange:T=>dr(T.target.checked)}),v.jsx("label",{htmlFor:"generateUniqueStory",title:"Instead of rephrasing the current script, this generates a completely new story on the same topic to ensure originality.",children:"Generate a new, unique story"})]}),v.jsxs("div",{className:"script-actions",children:[j?v.jsx("button",{onClick:()=>{We.current=!0,Ce(!1)},className:"stop-button",children:"Stop"}):v.jsx("button",{onClick:_s,disabled:!M.trim(),children:_i?"Generate New Story":"Rephrase for Copyright"}),Qs?v.jsx("button",{onClick:()=>We.current=!0,className:"stop-button",children:"Stop"}):v.jsx("button",{onClick:()=>ci(),disabled:!M.trim(),children:"Analyze & Prepare"})]})]}),v.jsxs("div",{className:"card ref-image-section",children:[v.jsx("h2",{children:"Style Reference (Manual)"}),v.jsxs("div",{className:`drop-zone ${sr?"drag-over":""}`,onDragOver:T=>{T.preventDefault(),T.stopPropagation(),Bi(!0)},onDragLeave:T=>{T.preventDefault(),T.stopPropagation(),Bi(!1)},onDrop:Cr,onPaste:Hn,children:[v.jsx("p",{children:"Drag & Drop images here, or click button to upload. You can also paste images from clipboard."}),v.jsx("input",{type:"file",ref:De,onChange:Pl,accept:"image/*",multiple:!0,style:{display:"none"}}),v.jsx("button",{onClick:()=>{var T;return(T=De.current)==null?void 0:T.click()},disabled:!!re,style:{marginTop:"1rem"},children:re?"Analyzing Image...":"Upload Images"}),v.jsx("div",{className:"reference-files-grid",children:G.map(T=>v.jsxs("div",{className:"ref-file-item",children:[" ",T.dataUrl?v.jsx("img",{src:T.dataUrl,alt:T.name,className:"ref-file-preview"}):v.jsxs("div",{className:"ref-file-placeholder",title:T.name,children:[v.jsx(Cg,{}),v.jsxs("span",{children:[T.name.substring(0,10),"..."]})]}),v.jsx("button",{onClick:()=>sc(T.name),className:"ref-delete-btn",children:""})]},T.name))})]})]}),v.jsxs("div",{className:"card character-profile-card",children:[v.jsxs("div",{className:"card-header",children:[v.jsx("h2",{children:"Character Profile (for Consistency)"}),v.jsx("button",{onClick:Dr,className:"add-character-btn",children:"+"})]}),v.jsx("p",{className:"description",children:"Describe your characters. Upload images, and AI will add detailed analysis to reinforce consistency."}),v.jsx("div",{className:"character-profiles-container",children:gn.map((T,k)=>v.jsxs("div",{className:"character-profile-item",children:[v.jsxs("div",{className:"character-header",children:[v.jsxs("h3",{children:["Character ",k+1]}),gn.length>1&&v.jsx("button",{onClick:()=>kr(T.id),className:"remove-btn",children:""})]}),v.jsx("textarea",{rows:4,value:T.userDescription,onChange:P=>$o(T.id,P.target.value),placeholder:"e.g., A young detective named Kai..."}),T.aiDescription&&v.jsx("pre",{className:"ai-description",children:T.aiDescription}),v.jsxs("div",{className:`drop-zone ${rs===T.id?"drag-over":""}`,onDragOver:P=>{P.preventDefault(),P.stopPropagation(),Ia(T.id)},onDragLeave:P=>{P.preventDefault(),P.stopPropagation(),Ia(null)},onDrop:P=>bi(P,T.id),onPaste:P=>Yi(P,T.id),children:[v.jsx("input",{type:"file",ref:P=>{P&&(_l.current[T.id]=P)},onChange:P=>so(P,T.id),accept:"image/*",style:{display:"none"}}),v.jsx("button",{onClick:()=>{var P;return(P=_l.current[T.id])==null?void 0:P.click()},disabled:ln===T.id,children:ln===T.id?"Analyzing...":"Upload Image"}),T.image?v.jsxs("div",{className:"ref-file-item",children:[v.jsx("img",{src:T.image.dataUrl,alt:"Character Reference",className:"ref-file-preview"}),v.jsx("button",{onClick:()=>Et(P=>P.map(H=>H.id===T.id?{...H,image:null}:H)),className:"ref-delete-btn",children:""})]}):v.jsx("p",{children:"Drop or Paste Image"})]})]},T.id))})]}),v.jsxs("div",{className:"card style-section",children:[v.jsx("h2",{children:"Choose Theme & Styles"}),v.jsxs("div",{className:"collapsible",children:[v.jsxs("button",{className:"collapsible-header",onClick:()=>x(!$t),children:["Primary Themes (Select multiple) ",$t?"[-]":"[+]"]}),$t&&v.jsx("div",{className:"style-grid collapsible-content",children:Gu.map(T=>v.jsxs("div",{className:"style-item",children:[v.jsx("input",{type:"checkbox",id:T,checked:fe.includes(T),onChange:()=>Dl(T)}),v.jsx("label",{htmlFor:T,children:T})]},T))})]}),v.jsxs("div",{className:"collapsible",children:[v.jsxs("button",{className:"collapsible-header",onClick:()=>ue(!_e),children:["Artistic Modifiers ",_e?"[-]":"[+]"]}),_e&&v.jsx("div",{className:"style-grid collapsible-content",children:Vu.map(T=>v.jsxs("div",{className:"style-item",children:[v.jsx("input",{type:"checkbox",id:T,checked:me.includes(T),onChange:()=>kl(T)}),v.jsx("label",{htmlFor:T,children:T})]},T))})]})]}),v.jsxs("div",{className:"card",children:[v.jsx("h2",{children:"Advanced Styling"}),v.jsxs("div",{className:"negative-prompt-header",style:{display:"flex",alignItems:"center",marginBottom:"0.5rem"},children:[v.jsx("input",{type:"checkbox",id:"useNegativePrompt",checked:ko,onChange:T=>Sl(T.target.checked),style:{width:"auto",marginRight:"8px",flexShrink:0}}),v.jsx("label",{htmlFor:"useNegativePrompt",style:{margin:0},children:"Use Negative Prompt"})]}),v.jsx("textarea",{id:"negativePrompt",rows:3,value:hn,onChange:T=>Gt(T.target.value),placeholder:"e.g., poorly drawn hands, blurry, watermark, text",disabled:!ko}),v.jsx("p",{className:"description",children:"Describe elements to exclude from your images."})]}),v.jsxs("div",{className:"card",children:[v.jsx("h2",{children:"Style Presets"}),v.jsxs("div",{className:"input-group",children:[v.jsx("input",{type:"text",value:Qa,onChange:T=>Ws(T.target.value),placeholder:"New Preset Name"}),v.jsx("button",{onClick:As,children:"Save Style"})]}),v.jsx("div",{className:"preset-list",children:ti.map(T=>v.jsxs("div",{className:"preset-item",children:[v.jsx("span",{children:T.name}),v.jsxs("div",{className:"preset-actions",children:[v.jsx("button",{onClick:()=>ro(T),children:"Load"}),v.jsx("button",{onClick:()=>Zt(T.name),className:"remove-btn",children:""})]})]},T.name))})]}),v.jsxs("div",{className:"card main-actions-card",children:[v.jsxs("div",{className:"autopilot-toggle",children:[v.jsx("label",{htmlFor:"autopilot",children:"Autopilot Mode"}),v.jsxs("label",{className:"switch",children:[v.jsx("input",{type:"checkbox",id:"autopilot",checked:ai,onChange:()=>ir(T=>!T)}),v.jsx("span",{className:"slider"})]})]}),bn?v.jsx("button",{onClick:Tn,className:"retry-button",children:"Resume Generation"}):Z||Me?v.jsxs(v.Fragment,{children:[v.jsx("button",{className:"stop-button",onClick:vs,children:"Stop Generation"}),v.jsx("span",{children:"Generating... Please wait."})]}):v.jsx("button",{className:"generate-button",onClick:no,disabled:Z||j||ja||!!re,children:"Generate Prompts & Images"}),!bn&&L.some(T=>T.imageStatus==="failed")&&!Me&&v.jsx("button",{onClick:xr,disabled:vn,className:"retry-button",children:vn?"Retrying...":`Retry ${L.filter(T=>T.imageStatus==="failed").length} Failed Images`})]})]}),v.jsx("div",{className:"output-panel",children:v.jsxs("div",{className:"card results-section",children:[v.jsx("div",{className:"results-header",children:v.jsxs("h2",{children:["Generated Prompts & Images (",L.filter(T=>T.imageStatus==="completed").length,"/",L.length||he," ready)"]})}),L.length>0?L.map((T,k)=>v.jsxs("div",{className:"result-item",children:[v.jsxs("div",{className:"result-content",children:[v.jsxs("h3",{children:["Scene ",k+1]}),v.jsx("p",{children:T.scene_description}),v.jsxs("div",{className:"prompt-box",children:[v.jsxs("div",{className:"prompt-header",children:[v.jsx(Cg,{}),v.jsx("span",{children:"Image Prompt"}),v.jsx("button",{className:"copy-btn",title:"Copy image prompt",onClick:()=>Ul(T.image_prompt,`image-${k}`),children:ml===`image-${k}`?v.jsx(fl,{}):v.jsx(jd,{})})]}),v.jsx("textarea",{className:"prompt-text-area",value:T.image_prompt,onChange:P=>Ua(k,P.target.value,"image")})]}),T.video_prompt&&v.jsxs("div",{className:"prompt-box",children:[v.jsxs("div",{className:"prompt-header",children:[v.jsx(xg,{}),v.jsxs("span",{children:["Video Prompt (",ni,")"]}),v.jsx("button",{className:"copy-btn",title:"Copy video prompt",onClick:()=>Ul(T.video_prompt||"",`video-${k}`),children:ml===`video-${k}`?v.jsx(fl,{}):v.jsx(jd,{})})]}),v.jsx("textarea",{className:"prompt-text-area video-prompt-area",value:T.video_prompt,onChange:P=>Ua(k,P.target.value,"video")})]})]}),v.jsxs("div",{className:"image-preview-container",onClick:()=>T.imageUrl&&Ka(T.imageUrl),children:[T.imageStatus==="loading"&&v.jsx("div",{className:"loader"}),T.imageStatus==="completed"&&T.imageUrl&&v.jsx("img",{src:T.imageUrl,alt:`Generated Scene ${k+1}`}),T.imageStatus==="retrying"&&v.jsx("div",{className:"error-placeholder",title:T.error,children:"Retrying..."}),T.imageStatus==="failed"&&v.jsx("div",{className:"error-placeholder",title:T.error,children:T.error?T.error:"Failed"})]}),v.jsxs("div",{className:"result-actions",children:[v.jsx("button",{title:"Download Image",onClick:()=>wi(T.imageUrl,k),disabled:!T.imageUrl,children:v.jsx(Ou,{})}),v.jsx("button",{title:"Regenerate Image",onClick:()=>Jo(k),disabled:Me,children:v.jsx(Ag,{})})]})]},k)):v.jsxs("div",{className:"placeholder-text",children:[v.jsx("p",{children:"Your generated images and prompts will appear here."}),v.jsx("p",{children:'Complete the steps in the control panel on the left and click "Generate" to begin.'})]})]})})]}),v.jsxs("div",{className:"post-production-wrapper",children:[v.jsxs("div",{className:"card",children:[v.jsxs("div",{className:"video-prompt-card",style:{padding:0,border:"none",background:"transparent"},children:[v.jsx("h2",{children:"Video Prompt Options"}),v.jsxs("div",{className:"config-grid",children:[v.jsxs("div",{className:"config-item",children:[v.jsx("label",{htmlFor:"videoModel",children:"Target Video Model"}),v.jsxs("select",{id:"videoModel",value:ni,onChange:T=>Tl(T.target.value),children:[v.jsx("option",{value:"Veo 3.1",children:"Veo 3.1 (Google)"}),v.jsx("option",{value:"Sora",children:"Sora (OpenAI)"}),v.jsx("option",{value:"Kling",children:"Kling (Kuaishou)"}),v.jsx("option",{value:"Vidu",children:"Vidu (ShengShu)"}),v.jsx("option",{value:"Hailuo",children:"Hailuo (Alibaba)"})]})]}),v.jsxs("div",{className:"config-item",children:[v.jsx("label",{htmlFor:"videoPromptBasis",children:"Prompt Generation Basis"}),v.jsxs("select",{id:"videoPromptBasis",value:Jt,onChange:T=>yn(T.target.value),children:[v.jsx("option",{value:"image-driven",children:"Image-Driven (Animate Scene)"}),v.jsx("option",{value:"script-driven",children:"Script-Driven (New Interpretation)"})]})]}),v.jsxs("div",{className:"config-item audio-cues-group",children:[v.jsx("label",{children:"Include Audio Cues"}),v.jsxs("div",{className:"audio-cues-options",children:[v.jsxs("div",{className:"style-item",children:[v.jsx("input",{type:"checkbox",id:"dialogue",checked:Aa,onChange:T=>El(T.target.checked)}),v.jsx("label",{htmlFor:"dialogue",children:"Dialogue"})]}),v.jsxs("div",{className:"style-item",children:[v.jsx("input",{type:"checkbox",id:"ambient",checked:Po,onChange:T=>er(T.target.checked)}),v.jsx("label",{htmlFor:"ambient",children:"Ambient Sound"})]}),v.jsxs("div",{className:"style-item",children:[v.jsx("input",{type:"checkbox",id:"sfx",checked:Xi,onChange:T=>Al(T.target.checked)}),v.jsx("label",{htmlFor:"sfx",children:"Sound FX"})]})]})]})]})]}),v.jsxs("div",{className:"button-group",children:[Xa?v.jsx("button",{onClick:()=>We.current=!0,className:"stop-button",children:"Stop"}):v.jsx("button",{onClick:Yn,disabled:Xa||L.length===0&&Jt==="image-driven"||!M.trim(),children:Xa?"Generating...":"Generate Video Prompts"}),v.jsx("button",{onClick:La,disabled:L.filter(T=>T.imageStatus==="completed").length===0,children:"Download All as ZIP"}),v.jsx("button",{onClick:Qo,disabled:L.length===0,children:"Export All Prompts"})]})]}),v.jsxs("div",{className:`card tts-card ${zo?"configuring":""}`,children:[zo&&v.jsxs("div",{className:"configuring-overlay",children:[v.jsx("div",{className:"loader"}),v.jsx("p",{children:"AI is auto-configuring voiceover settings..."})]}),v.jsxs("div",{className:"card-header tts-main-header",children:[v.jsxs("h2",{children:[v.jsx(YA,{})," AI Voiceover Generation"]}),v.jsxs("button",{onClick:()=>Fl().catch(T=>{T.message!=="stopped"&&console.error("Audio Autopilot failed:",T)}),className:"autopilot-audio-btn",disabled:Ni||!Kt.trim(),children:[v.jsx(ZA,{})," Audio Autopilot"]})]}),v.jsxs("div",{className:"voiceover-script-header",children:[v.jsx("h3",{children:"Voiceover Script"}),v.jsx("button",{onClick:()=>xn(M),children:"Copy from Main Script"})]}),v.jsx("textarea",{rows:8,value:Kt,onChange:T=>xn(T.target.value),placeholder:"Enter the text to be converted to speech here..."}),v.jsxs("div",{className:"audio-estimator-info",children:[v.jsxs("div",{children:[v.jsx("span",{children:"Word Count:"})," ",v.jsxs("strong",{children:[zr," ",Cs>0?`/ ~${Cs}`:""]})]}),v.jsxs("div",{children:[v.jsx("span",{children:"Est. Duration:"})," ",v.jsx("strong",{children:pl(Ol)})]}),v.jsxs("div",{children:[v.jsx("span",{children:"Target Duration:"})," ",v.jsx("strong",{children:pl(di)})]})]}),v.jsx("button",{onClick:Bl,disabled:Na||di===0||!Kt.trim(),children:Na?"Optimizing...":"Fit Script to Duration"}),v.jsxs("div",{className:"voice-library",children:[v.jsx("div",{className:"voice-library-header",children:v.jsxs("div",{className:"config-item",children:[v.jsx("label",{htmlFor:"ttsTone",children:"Tone / Emotion"}),v.jsx("select",{id:"ttsTone",value:lr,onChange:T=>ur(T.target.value),children:nC.map(T=>v.jsx("option",{value:T,children:T},T))})]})}),v.jsx("h4",{className:"voice-list-heading",children:"Select a Voice"}),v.jsx("div",{className:"voice-selector-list",children:qs.filter(T=>T.language==="English"&&(lr==="All Tones"||T.tones.includes(lr))).map(T=>v.jsxs("div",{title:T.use_case,className:`voice-selector-item gender-${T.gender.toLowerCase()} ${Lt.voice===T.conceptualName?"selected":""} ${Vn===T.conceptualName?"auditioning":""}`,onClick:()=>xa(k=>({...k,voice:T.conceptualName})),children:[v.jsxs("div",{className:"voice-info",children:[v.jsxs("div",{children:[v.jsx("strong",{children:T.conceptualName}),v.jsx("span",{className:`gender-tag gender-${T.gender.toLowerCase()}-bg`,children:T.gender}),v.jsx("span",{className:"language-tag",children:T.language})]}),v.jsx("small",{children:v.jsxs("em",{children:["Use Case: ",T.use_case," (API: ",T.apiName,")"]})})]}),v.jsx("button",{className:"audition-btn",onClick:k=>{k.stopPropagation(),Ll(T)},disabled:Vn!=null&&Vn!==T.conceptualName,children:Vn===T.conceptualName?v.jsx(KA,{}):v.jsx(sy,{})})]},T.conceptualName))})]}),v.jsxs("div",{className:"tts-advanced-controls",children:[v.jsxs("div",{className:"speed-control",children:[v.jsx("span",{children:"Slow"}),v.jsx("input",{type:"range",min:"0.7",max:"1.3",step:"0.01",value:Lt.speed,onChange:T=>xa(k=>({...k,speed:parseFloat(T.target.value)}))}),v.jsx("span",{children:"Fast"}),v.jsxs("span",{className:"speed-value",children:[Lt.speed.toFixed(2),"x"]})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"customTtsPrompt",children:"Custom Voice Prompt (Overrides Tone)"}),v.jsx("textarea",{id:"customTtsPrompt",rows:2,value:Qi,onChange:T=>ts(T.target.value),placeholder:"e.g., spoken by an old, wise narrator with a sense of wonder."})]}),v.jsxs("div",{className:"force-speed-toggle",children:[v.jsx("label",{htmlFor:"forceSpeed",children:"Force Speed Slider Setting"}),v.jsxs("label",{className:"switch",children:[v.jsx("input",{type:"checkbox",id:"forceSpeed",checked:yi,onChange:T=>ss(T.target.checked)}),v.jsx("span",{className:"slider"})]})]})]}),v.jsxs("div",{className:"tts-actions",children:[(ns||gr)&&v.jsx("button",{onClick:ns?zl:Ts,className:"stop-button main-stop-button",children:"Stop Generation"}),v.jsx("div",{className:"tts-action-group wide-button",children:v.jsx("button",{onClick:rc,disabled:Ni||!Kt.trim(),children:ar?"Generating...":"Generate Sample (15s)"})}),vi&&v.jsx("div",{className:"generation-result-item",children:v.jsx(Bd,{src:vi,title:"Sample",onDownload:()=>{const T=document.createElement("a");T.href=vi,T.download=`${Tt.replace(/\s+/g,"_")}_sample.wav`,document.body.appendChild(T),T.click(),document.body.removeChild(T)}})}),v.jsxs("div",{className:"tts-action-pair",children:[v.jsxs("div",{className:"tts-action-group generate-group",children:[v.jsx("button",{className:"generate-full-btn",onClick:br,disabled:Ni||!Kt.trim(),children:ns?"Generating...":"Generate Full Audio (Single File)"}),os&&v.jsx("div",{className:"generation-result-item",children:v.jsx(Bd,{src:os,title:"Full Audio",onDownload:()=>Ci()})})]}),v.jsxs("button",{onClick:()=>Ci(),disabled:!ii,className:"download-button paired-download-btn",children:[v.jsx(Ou,{})," Download"]})]}),v.jsxs("div",{className:"tts-action-group",children:[v.jsx("button",{className:"generate-full-btn",onClick:io,disabled:Ni||!Kt.trim(),children:gr?"Generating...":"Generate Full Audio (In Chunks)"}),ri.length>0&&v.jsxs("div",{className:"generation-result-item full-width",children:[v.jsxs("h4",{children:["Audio Chunks (",ri.filter(T=>T.status==="complete").length,"/",ri.length,")"]}),v.jsx("div",{className:"audio-chunk-list",children:ri.map(T=>v.jsx("div",{className:`audio-chunk-item ${T.status}`,children:v.jsxs("div",{className:"audio-chunk-controls",children:[T.status==="pending"&&v.jsxs("span",{children:["Chunk ",T.id+1,": Pending..."]}),T.status==="generating"&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"loader small"}),v.jsxs("span",{children:["Chunk ",T.id+1,": Generating..."]})]}),T.status==="failed"&&v.jsxs(v.Fragment,{children:[v.jsxs("span",{className:"error-placeholder",title:T.error,children:["Chunk ",T.id+1,": Failed"]}),v.jsx("button",{title:"Retry Chunk",onClick:()=>Zo(T.id),className:"result-actions",style:{padding:"0",width:"30px",height:"30px",flexShrink:0},children:v.jsx(Ag,{})})]}),T.status==="complete"&&T.audioUrl&&v.jsx(Bd,{src:T.audioUrl,title:`Chunk ${T.id+1}`,onDownload:()=>Ci(T.audioBytes,`${Tt}_chunk_${T.id+1}.wav`)})]})},T.id))}),v.jsxs("div",{className:"chunk-download-actions",children:[v.jsx("button",{onClick:Dn,disabled:Ni||yr||ri.filter(T=>T.status==="complete").length===0,children:yr?"Merging...":"Merge & Download"}),v.jsx("button",{onClick:kn,disabled:Ni||ri.filter(T=>T.status==="complete").length===0,children:"Download as ZIP"})]})]})]})]})]}),v.jsxs("div",{className:"card video-generation-card",children:[v.jsxs("h2",{children:[v.jsx(xg,{})," Veo Video Generation"]}),v.jsxs("div",{className:"veo-api-key-section",children:[v.jsxs("p",{className:`api-key-status ${Gi?"selected":"not-selected"}`,children:["Status: ",Gi?`API Key Provided (...${Gi.slice(-4)})`:"API Key Not Provided"]}),v.jsxs("div",{className:"input-group",children:[v.jsx("input",{type:"password",value:pr,onChange:T=>mr(T.target.value),placeholder:"Enter your Veo API Key"}),v.jsx("button",{onClick:xi,children:"Save Key"}),v.jsx("button",{onClick:Nr,className:"clear-veo-key-btn",disabled:!Gi,children:"Clear Key"})]}),v.jsxs("p",{className:"description",children:["Veo requires a project with billing enabled. ",v.jsx("a",{href:"https://ai.google.dev/gemini-api/docs/billing",target:"_blank",rel:"noopener noreferrer",children:"Learn more"}),"."]})]}),v.jsxs("div",{className:"main-actions",children:[tc?v.jsx("button",{className:"stop-button",onClick:Gl,children:"Stop Generation"}):v.jsxs("button",{onClick:Rr,disabled:!Gi||qo.length===0,children:["Generate ",qo.length," Selected Videos"]}),v.jsx("button",{onClick:nt,disabled:Object.values(Wt).filter(T=>T.status==="complete").length===0,children:"Download Completed as ZIP"})]}),L.length>0&&v.jsx("div",{className:"video-generation-list",children:L.map((T,k)=>{var P,H,K,W,ve,Ee,we,Te,be,Pe;return T.video_prompt&&v.jsxs("div",{className:"video-gen-scene-item",children:[v.jsxs("div",{className:"video-gen-selector",children:[v.jsx("input",{type:"checkbox",id:`scene-select-${k}`,checked:qo.includes(k),onChange:()=>jt(k),style:{width:"auto"}}),v.jsx("label",{htmlFor:`scene-select-${k}`,children:v.jsxs("h3",{children:["Scene ",k+1]})})]}),v.jsx("div",{className:"video-gen-content",children:v.jsx("textarea",{className:"prompt-text-area video-prompt-area",value:T.video_prompt,onChange:He=>Ua(k,He.target.value,"video")})}),v.jsxs("div",{className:"video-gen-status",children:[((P=Wt[k])==null?void 0:P.status)==="generating"&&v.jsxs("div",{className:"status-indicator generating",children:[v.jsx("div",{className:"loader small"}),v.jsx("span",{children:(H=Wt[k])==null?void 0:H.progressMessage})]}),((K=Wt[k])==null?void 0:K.status)==="polling"&&v.jsxs("div",{className:"status-indicator generating",children:[v.jsx("div",{className:"loader small"}),v.jsx("span",{children:(W=Wt[k])==null?void 0:W.progressMessage})]}),((ve=Wt[k])==null?void 0:ve.status)==="complete"&&((Ee=Wt[k])==null?void 0:Ee.videoUrl)&&v.jsxs("div",{className:"video-complete-container",children:[v.jsx("video",{src:(we=Wt[k])==null?void 0:we.videoUrl,loop:!0,muted:!0,playsInline:!0}),v.jsx("button",{onClick:()=>At(Wt[k].videoUrl,k),className:"video-download-btn",children:v.jsx(Ou,{})})]}),((Te=Wt[k])==null?void 0:Te.status)==="failed"&&v.jsxs("div",{className:"status-indicator failed",title:(be=Wt[k])==null?void 0:be.error,children:[v.jsx(Bu,{}),v.jsx("span",{children:"Failed"})]}),(!Wt[k]||((Pe=Wt[k])==null?void 0:Pe.status)==="idle")&&v.jsx("div",{className:"status-indicator",children:"Idle"})]})]},k)})})]})]}),v.jsxs("div",{className:"logs-and-info-wrapper",children:[v.jsxs("div",{className:"logs-container",children:[v.jsx(Dg,{ref:wl,title:"Notification Log",icon:v.jsx(bg,{}),logs:J,onClear:()=>pe([]),type:"notification"}),v.jsx(Dg,{ref:bl,title:"Error Log",icon:v.jsx(Bu,{}),logs:O,onClear:()=>ee([]),type:"error"})]}),v.jsxs("div",{className:"card usage-guide-card collapsible",children:[v.jsxs("h2",{onClick:()=>Do(!Ta),children:[v.jsxs("div",{className:"collapsible-title",children:[v.jsx(zd,{})," Usage Guide"]}),v.jsx("span",{children:Ta?"[-]":"[+]"})]}),Ta&&v.jsxs("div",{className:"collapsible-content",children:[v.jsxs("table",{className:"usage-table",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Feature"}),v.jsx("th",{children:"Description"})]})}),v.jsxs("tbody",{children:[v.jsxs("tr",{children:[v.jsx("td",{children:v.jsx("strong",{children:"Master Autopilot"})}),v.jsx("td",{children:"The core feature. Provide a script, and it will automatically handle rephrasing, analysis, image/video prompt generation, and voiceover creation."})]}),v.jsxs("tr",{children:[v.jsx("td",{children:v.jsx("strong",{children:"Project Management"})}),v.jsx("td",{children:"Save and load your entire project state, including scripts, settings, and generated results, directly in your browser."})]}),v.jsxs("tr",{children:[v.jsx("td",{children:v.jsx("strong",{children:"API Key Management"})}),v.jsx("td",{children:"Add multiple Gemini API keys. The app will automatically rotate between them to avoid rate limits and retry on failures."})]}),v.jsxs("tr",{children:[v.jsx("td",{children:v.jsx("strong",{children:"Script Assistant"})}),v.jsx("td",{children:"Generate a complete script from a simple idea or rephrase your existing script to avoid copyright issues."})]}),v.jsxs("tr",{children:[v.jsx("td",{children:v.jsx("strong",{children:"Style & Character Control"})}),v.jsx("td",{children:"Use reference images, detailed character profiles, and a vast library of themes/modifiers to ensure visual consistency."})]}),v.jsxs("tr",{children:[v.jsx("td",{children:v.jsx("strong",{children:"AI Voiceover"})}),v.jsx("td",{children:"Generate high-quality voiceovers from your script. Choose from a library of voices, control tone and speed, or use AI to auto-configure the best settings. You can generate audio in chunks for long scripts to ensure reliability."})]})]})]}),v.jsxs("div",{className:"important-note",children:[v.jsx("strong",{children:"Important:"})," All project data is stored locally in your browser's IndexedDB. Clearing your browser data will delete your saved projects. API keys are also stored locally. Learn more about IndexedDB ",v.jsx("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API",target:"_blank",rel:"noopener noreferrer",children:"here"}),"."]})]})]}),v.jsxs("div",{className:"card usage-guide-card collapsible",children:[v.jsxs("h2",{onClick:()=>Ea(!Pi),children:[v.jsxs("div",{className:"collapsible-title",children:[v.jsx(zd,{})," API Usage & Limits Guide"]}),v.jsx("span",{children:Pi?"[-]":"[+]"})]}),Pi&&v.jsxs("div",{className:"collapsible-content",children:[v.jsx("p",{children:"This app uses the Google Gemini API. Your usage is subject to certain limits, especially on the free tier provided by Google AI Studio."}),v.jsxs("table",{className:"usage-table",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Feature"}),v.jsx("th",{children:"Model Used"}),v.jsx("th",{children:"Free Tier Limit (per minute)"}),v.jsx("th",{children:"Notes / Cost Factor"})]})}),v.jsxs("tbody",{children:[v.jsxs("tr",{children:[v.jsx("td",{children:v.jsx("strong",{children:"Image Generation (High Quality)"})}),v.jsx("td",{children:"Imagen 4"}),v.jsx("td",{children:"~5 Requests"}),v.jsx("td",{children:"Paid plans are charged per image. Cost depends on resolution."})]}),v.jsxs("tr",{children:[v.jsx("td",{children:v.jsx("strong",{children:"Image Generation (Fast)"})}),v.jsx("td",{children:"Nano Banana"}),v.jsx("td",{children:"~15 Requests"}),v.jsx("td",{children:"Cheaper than Imagen. Good for quick previews."})]}),v.jsxs("tr",{children:[v.jsx("td",{children:v.jsx("strong",{children:"Script/Text Analysis & Gen"})}),v.jsx("td",{children:"Gemini 2.5 Pro"}),v.jsx("td",{children:"~15 Requests"}),v.jsx("td",{children:"Paid plans are charged per 1,000 characters (input + output)."})]}),v.jsxs("tr",{children:[v.jsx("td",{children:v.jsx("strong",{children:"AI Voiceover (TTS)"})}),v.jsx("td",{children:"TTS Model"}),v.jsx("td",{children:"~15 Requests"}),v.jsx("td",{children:"Paid plans are charged per 1,000 characters."})]}),v.jsxs("tr",{children:[v.jsx("td",{children:v.jsx("strong",{children:"Video Generation"})}),v.jsx("td",{children:"Veo 3.1"}),v.jsx("td",{children:"N/A (Requires Paid Plan)"}),v.jsx("td",{children:"Requires a Veo-enabled API key with a billing account. Charged per second of video generated."})]})]})]}),v.jsxs("div",{className:"important-note",children:[v.jsx("strong",{children:"Important:"}),' The limits above are estimates and can change. The "per minute" quota resets every 60 seconds. For large-scale projects, it is highly recommended to set up a ',v.jsx("a",{href:"https://cloud.google.com/billing/docs/how-to/create-billing-account",target:"_blank",rel:"noopener noreferrer",children:"Google Cloud Billing Account"})," to avoid interruptions. This app is designed to cycle through multiple API keys to help manage free tier limits."]})]})]}),v.jsxs("div",{className:"card about-card collapsible",children:[v.jsxs("h2",{onClick:()=>Sa(!$a),children:[v.jsxs("div",{className:"collapsible-title",children:[v.jsx(zd,{})," About This App & Developer"]}),v.jsx("span",{children:$a?"[-]":"[+]"})]}),$a&&v.jsxs("div",{className:"collapsible-content",children:[v.jsx("h3",{children:"About This Application"}),v.jsx("p",{children:"This Ultimate AI Automationer was created to empower creators, filmmakers, and storytellers by simplifying the complex process of turning a script into a visual and auditory experience. By leveraging the power of powerful AI, this tool automates everything from scene breakdown, prompt generation, to image creation and voiceover synthesis. The goal is to save you countless hours of manual work, allowing you to focus on what truly matters: your creativity."}),v.jsx("h3",{children:"About Me"}),v.jsxs("p",{children:["Hello! I'm ",v.jsx("strong",{children:"Tasin"}),", a creative strategist and tech enthusiast passionate about the intersection of technology and creativity."]}),v.jsxs("p",{children:["As a YouTuber, AI-Driven Content Creator, and Prompt Engineer, I explore the cutting edge of digital innovation. The ",v.jsxs("a",{href:"https://techseekeracademy.com/",target:"_blank",rel:"noopener noreferrer",children:[v.jsx("span",{className:"tech",children:"Tech"})," ",v.jsx("span",{className:"seeker",children:"Seeker"})," ",v.jsx("span",{className:"academy",children:"Academy"})]})," and YouTube channel ",v.jsxs("a",{href:"https://www.youtube.com/@TechSeekerAcademy",target:"_blank",rel:"noopener noreferrer",children:[v.jsx("span",{className:"tech",children:"Tech"})," ",v.jsx("span",{className:"seeker",children:"Seeker"})]})," is your guide to the future, offering in-depth tech reviews, tutorials on AI and automation, and strategies to enhance your creative workflow."]}),v.jsx("p",{children:"My goal is to educate and empower fellow creators and enthusiasts by making complex technologies accessible and practical. Join me as we explore the tools and ideas shaping our world."}),v.jsxs("div",{className:"social-links",children:[v.jsxs("a",{href:"https://web.facebook.com/techseekeracademy",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:[v.jsx($A,{})," Facebook"]}),v.jsxs("a",{href:"https://www.youtube.com/@techseeker-tasin",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:[v.jsx(QA,{})," YouTube"]}),v.jsxs("a",{href:"https://techseekeracademy.com/",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:[v.jsx(WA,{})," Website"]}),v.jsxs("a",{href:"https://t.me/tasints",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:[v.jsx(Rg,{})," Telegram"]}),v.jsxs("a",{href:"https://wa.me/message/K4UWIP55B2XGP1",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:[v.jsx(Ng,{})," WhatsApp"]})]})]})]})]}),ls&&v.jsx("button",{onClick:Yo,className:"scroll-to-top-btn",title:"Scroll to top",children:v.jsx(XA,{})})]})}const dC=Rv.createRoot(document.getElementById("root"));dC.render(v.jsx(cC,{}));
